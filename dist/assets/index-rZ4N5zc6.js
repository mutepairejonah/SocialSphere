function RS(i,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const c=Object.getOwnPropertyDescriptor(s,o);c&&Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function qb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function IS(){if(Mv)return $l;Mv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:c}}return $l.Fragment=t,$l.jsx=n,$l.jsxs=n,$l}var Vv;function CS(){return Vv||(Vv=1,lm.exports=IS()),lm.exports}var T=CS(),cm={exports:{}},Ql={},um={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function NS(){return Pv||(Pv=1,(function(i){function t(L,it){var nt=L.length;L.push(it);t:for(;0<nt;){var Ct=nt-1>>>1,Nt=L[Ct];if(0<o(Nt,it))L[Ct]=it,L[nt]=Nt,nt=Ct;else break t}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var it=L[0],nt=L.pop();if(nt!==it){L[0]=nt;t:for(var Ct=0,Nt=L.length,D=Nt>>>1;Ct<D;){var K=2*(Ct+1)-1,Y=L[K],rt=K+1,ct=L[rt];if(0>o(Y,nt))rt<Nt&&0>o(ct,Y)?(L[Ct]=ct,L[rt]=nt,Ct=rt):(L[Ct]=Y,L[K]=nt,Ct=K);else if(rt<Nt&&0>o(ct,nt))L[Ct]=ct,L[rt]=nt,Ct=rt;else break t}}return it}function o(L,it){var nt=L.sortIndex-it.sortIndex;return nt!==0?nt:L.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,v=null,x=3,M=!1,H=!1,X=!1,Q=!1,Z=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Et(L){for(var it=n(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=L)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(g)}}function jt(L){if(X=!1,Et(L),!H)if(n(p)!==null)H=!0,wt||(wt=!0,P());else{var it=n(g);it!==null&&Kt(jt,it.startTime-L)}}var wt=!1,C=-1,A=5,I=-1;function V(){return Q?!0:!(i.unstable_now()-I<A)}function k(){if(Q=!1,wt){var L=i.unstable_now();I=L;var it=!0;try{t:{H=!1,X&&(X=!1,ut(C),C=-1),M=!0;var nt=x;try{e:{for(Et(L),v=n(p);v!==null&&!(v.expirationTime>L&&V());){var Ct=v.callback;if(typeof Ct=="function"){v.callback=null,x=v.priorityLevel;var Nt=Ct(v.expirationTime<=L);if(L=i.unstable_now(),typeof Nt=="function"){v.callback=Nt,Et(L),it=!0;break e}v===n(p)&&s(p),Et(L)}else s(p);v=n(p)}if(v!==null)it=!0;else{var D=n(g);D!==null&&Kt(jt,D.startTime-L),it=!1}}break t}finally{v=null,x=nt,M=!1}it=void 0}}finally{it?P():wt=!1}}}var P;if(typeof lt=="function")P=function(){lt(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Qt=R.port2;R.port1.onmessage=k,P=function(){Qt.postMessage(null)}}else P=function(){Z(k,0)};function Kt(L,it){C=Z(function(){L(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(L){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var nt=x;x=it;try{return L()}finally{x=nt}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(L,it){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var nt=x;x=L;try{return it()}finally{x=nt}},i.unstable_scheduleCallback=function(L,it,nt){var Ct=i.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?Ct+nt:Ct):nt=Ct,L){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=nt+Nt,L={id:E++,callback:it,priorityLevel:L,startTime:nt,expirationTime:Nt,sortIndex:-1},nt>Ct?(L.sortIndex=nt,t(g,L),n(p)===null&&L===n(g)&&(X?(ut(C),C=-1):X=!0,Kt(jt,nt-Ct))):(L.sortIndex=Nt,t(p,L),H||M||(H=!0,wt||(wt=!0,P()))),L},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(L){var it=x;return function(){var nt=x;x=it;try{return L.apply(this,arguments)}finally{x=nt}}}})(hm)),hm}var jv;function DS(){return jv||(jv=1,um.exports=NS()),um.exports}var fm={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function kS(){if(Uv)return Dt;Uv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Q={};function Z(D,K,Y){this.props=D,this.context=K,this.refs=Q,this.updater=Y||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ut(){}ut.prototype=Z.prototype;function lt(D,K,Y){this.props=D,this.context=K,this.refs=Q,this.updater=Y||H}var Et=lt.prototype=new ut;Et.constructor=lt,X(Et,Z.prototype),Et.isPureReactComponent=!0;var jt=Array.isArray;function wt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,K,Y){var rt=Y.ref;return{$$typeof:i,type:D,key:K,ref:rt!==void 0?rt:null,props:Y}}function V(D,K){return I(D.type,K,D.props)}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function P(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return K[Y]})}var R=/\/+/g;function Qt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):K.toString(36)}function Kt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(wt,wt):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,K,Y,rt,ct){var _t=typeof D;(_t==="undefined"||_t==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(_t){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case i:case t:yt=!0;break;case E:return yt=D._init,L(yt(D._payload),K,Y,rt,ct)}}if(yt)return ct=ct(D),yt=rt===""?"."+Qt(D,0):rt,jt(ct)?(Y="",yt!=null&&(Y=yt.replace(R,"$&/")+"/"),L(ct,K,Y,"",function(Je){return Je})):ct!=null&&(k(ct)&&(ct=V(ct,Y+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(R,"$&/")+"/")+yt)),K.push(ct)),1;yt=0;var Rt=rt===""?".":rt+":";if(jt(D))for(var zt=0;zt<D.length;zt++)rt=D[zt],_t=Rt+Qt(rt,zt),yt+=L(rt,K,Y,_t,ct);else if(zt=M(D),typeof zt=="function")for(D=zt.call(D),zt=0;!(rt=D.next()).done;)rt=rt.value,_t=Rt+Qt(rt,zt++),yt+=L(rt,K,Y,_t,ct);else if(_t==="object"){if(typeof D.then=="function")return L(Kt(D),K,Y,rt,ct);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function it(D,K,Y){if(D==null)return D;var rt=[],ct=0;return L(D,rt,"","",function(_t){return K.call(Y,_t,ct++)}),rt}function nt(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var Ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Nt={map:it,forEach:function(D,K,Y){it(D,function(){K.apply(this,arguments)},Y)},count:function(D){var K=0;return it(D,function(){K++}),K},toArray:function(D){return it(D,function(K){return K})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Dt.Activity=v,Dt.Children=Nt,Dt.Component=Z,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=lt,Dt.StrictMode=s,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Dt.cache=function(D){return function(){return D.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(D,K,Y){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=X({},D.props),ct=D.key;if(K!=null)for(_t in K.key!==void 0&&(ct=""+K.key),K)!A.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||(rt[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)rt.children=Y;else if(1<_t){for(var yt=Array(_t),Rt=0;Rt<_t;Rt++)yt[Rt]=arguments[Rt+2];rt.children=yt}return I(D.type,ct,rt)},Dt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Dt.createElement=function(D,K,Y){var rt,ct={},_t=null;if(K!=null)for(rt in K.key!==void 0&&(_t=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(ct[rt]=K[rt]);var yt=arguments.length-2;if(yt===1)ct.children=Y;else if(1<yt){for(var Rt=Array(yt),zt=0;zt<yt;zt++)Rt[zt]=arguments[zt+2];ct.children=Rt}if(D&&D.defaultProps)for(rt in yt=D.defaultProps,yt)ct[rt]===void 0&&(ct[rt]=yt[rt]);return I(D,_t,ct)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(D){return{$$typeof:m,render:D}},Dt.isValidElement=k,Dt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:nt}},Dt.memo=function(D,K){return{$$typeof:g,type:D,compare:K===void 0?null:K}},Dt.startTransition=function(D){var K=C.T,Y={};C.T=Y;try{var rt=D(),ct=C.S;ct!==null&&ct(Y,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(wt,Ct)}catch(_t){Ct(_t)}finally{K!==null&&Y.types!==null&&(K.types=Y.types),C.T=K}},Dt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Dt.use=function(D){return C.H.use(D)},Dt.useActionState=function(D,K,Y){return C.H.useActionState(D,K,Y)},Dt.useCallback=function(D,K){return C.H.useCallback(D,K)},Dt.useContext=function(D){return C.H.useContext(D)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},Dt.useEffect=function(D,K){return C.H.useEffect(D,K)},Dt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Dt.useId=function(){return C.H.useId()},Dt.useImperativeHandle=function(D,K,Y){return C.H.useImperativeHandle(D,K,Y)},Dt.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},Dt.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},Dt.useMemo=function(D,K){return C.H.useMemo(D,K)},Dt.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},Dt.useReducer=function(D,K,Y){return C.H.useReducer(D,K,Y)},Dt.useRef=function(D){return C.H.useRef(D)},Dt.useState=function(D){return C.H.useState(D)},Dt.useSyncExternalStore=function(D,K,Y){return C.H.useSyncExternalStore(D,K,Y)},Dt.useTransition=function(){return C.H.useTransition()},Dt.version="19.2.0",Dt}var Lv;function Gh(){return Lv||(Lv=1,fm.exports=kS()),fm.exports}var dm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function OS(){if(zv)return mn;zv=1;var i=Gh();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,E){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(p,g,null,E)},mn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,v=m(E,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,v=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var Bv;function Hb(){if(Bv)return dm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),dm.exports=OS(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function MS(){if(qv)return Ql;qv=1;var i=DS(),t=Gh(),n=Hb();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function f(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=c(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,w=h.child;w;){if(w===a){_=!0,a=h,l=d;break}if(w===l){_=!0,l=h,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=h;break}if(w===l){_=!0,l=d,a=h;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case Z:return"Profiler";case Q:return"StrictMode";case jt:return"Suspense";case wt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case lt:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case Et:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return r=e.displayName||null,r!==null?r:Qt(e.type)||"Memo";case A:r=e._payload,e=e._init;try{return Qt(e(r))}catch{}}return null}var Kt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},Ct=[],Nt=-1;function D(e){return{current:e}}function K(e){0>Nt||(e.current=Ct[Nt],Ct[Nt]=null,Nt--)}function Y(e,r){Nt++,Ct[Nt]=e.current,e.current=r}var rt=D(null),ct=D(null),_t=D(null),yt=D(null);function Rt(e,r){switch(Y(_t,r),Y(ct,e),Y(rt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?rv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=rv(r),e=iv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),Y(rt,e)}function zt(){K(rt),K(ct),K(_t)}function Je(e){e.memoizedState!==null&&Y(yt,e);var r=rt.current,a=iv(r,e.type);r!==a&&(Y(ct,e),Y(rt,a))}function vn(e){ct.current===e&&(K(rt),K(ct)),yt.current===e&&(K(yt),Hl._currentValue=nt)}var Ge,Hi;function Sn(e){if(Ge===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ge=r&&r[1]||"",Hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+e+Hi}var $s=!1;function Dr(e,r){if(!e||$s)return"";$s=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){q=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var N=_.split(`
`),B=w.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var $=`
`+N[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{$s=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Sn(a):""}function hr(e,r){switch(e.tag){case 26:case 27:case 5:return Sn(e.type);case 16:return Sn("Lazy");case 13:return e.child!==r&&r!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return Dr(e.type,!1);case 11:return Dr(e.type.render,!1);case 1:return Dr(e.type,!0);case 31:return Sn("Activity");default:return""}}function Fi(e){try{var r="",a=null;do r+=hr(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var te=Object.prototype.hasOwnProperty,we=i.unstable_scheduleCallback,kr=i.unstable_cancelCallback,We=i.unstable_shouldYield,fr=i.unstable_requestPaint,tn=i.unstable_now,ci=i.unstable_getCurrentPriorityLevel,Or=i.unstable_ImmediatePriority,Qs=i.unstable_UserBlockingPriority,dr=i.unstable_NormalPriority,Ks=i.unstable_LowPriority,mr=i.unstable_IdlePriority,Xs=i.log,pr=i.unstable_setDisableYieldValue,Vn=null,ze=null;function bn(e){if(typeof Xs=="function"&&pr(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Vn,e)}catch{}}var ge=Math.clz32?Math.clz32:Pn,Ma=Math.log,Mr=Math.LN2;function Pn(e){return e>>>=0,e===0?32:31-(Ma(e)/Mr|0)|0}var Kn=256,ui=262144,ve=4194304;function jn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tt(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=jn(l):(_&=w,_!==0?h=jn(_):a||(a=w&~e,a!==0&&(h=jn(a))))):(w=l&~d,w!==0?h=jn(w):_!==0?h=jn(_):a||(a=l&~e,a!==0&&(h=jn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ee(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Ce(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function En(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function de(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dn(e,r,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,N=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ge(a),W=1<<$;w[$]=0,N[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var G=q[$];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&Xn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~r))}function Xn(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-ge(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function en(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-ge(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}function nn(e,r){var a=r&-r;return a=(a&42)!==0?1:Vr(a),(a&(e.suspendedLanes|r))!==0?0:a}function Vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ko(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:Rv(e.type))}function gr(e,r){var a=it.p;try{return it.p=e,r()}finally{it.p=a}}var yr=Math.random().toString(36).slice(2),Ne="__reactFiber$"+yr,$e="__reactProps$"+yr,Pr="__reactContainer$"+yr,Va="__reactEvents$"+yr,mf="__reactListeners$"+yr,Vc="__reactHandles$"+yr,Pc="__reactResources$"+yr,jr="__reactMarker$"+yr;function Pa(e){delete e[Ne],delete e[$e],delete e[Va],delete e[mf],delete e[Vc]}function Ur(e){var r=e[Ne];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Pr]||a[Ne]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=hv(e);e!==null;){if(a=e[Ne])return a;e=hv(e)}return r}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[Ne]||e[Pr]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Un(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function Lr(e){var r=e[Pc];return r||(r=e[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(e){e[jr]=!0}var Xo=new Set,Zo={};function zr(e,r){Br(e,r),Br(e+"Capture",r)}function Br(e,r){for(Zo[e]=r,e=0;e<r.length;e++)Xo.add(r[e])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},tl={};function jc(e){return te.call(tl,e)?!0:te.call(Wo,e)?!1:Jo.test(e)?tl[e]=!0:(Wo[e]=!0,!1)}function ja(e,r,a){if(jc(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ln(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function ke(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function Qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gi(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function el(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function re(e){if(!e._valueTracker){var r=Gi(e)?"checked":"value";e._valueTracker=el(e,r,""+e[r])}}function Zs(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Gi(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Js=/[\n"\\]/g;function An(e){return e.replace(Js,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ua(e,r,a,l,h,d,_,w){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Qe(r)):e.value!==""+Qe(r)&&(e.value=""+Qe(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?nl(e,_,Qe(r)):a!=null?nl(e,_,Qe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Qe(w):e.removeAttribute("name")}function Uc(e,r,a,l,h,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){re(e);return}a=a!=null?""+Qe(a):"",r=r!=null?""+Qe(r):a,w||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),re(e)}function nl(e,r,a){r==="number"&&qr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Yi(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Qe(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Lc(e,r,a){if(r!=null&&(r=""+Qe(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Qe(a):""}function $i(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Qe(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),re(e)}function xn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||zc.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function il(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&rl(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&rl(e,d,r[d])}function La(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(e){return Qi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _r(){}var sl=null;function Jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Hr=null;function Ws(e){var r=Zn(e);if(r&&(e=r.stateNode)){var a=e[$e]||null;t:switch(e=r.stateNode,r.type){case"input":if(Ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=l[$e]||null;if(!h)throw Error(s(90));Ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Zs(l)}break t;case"textarea":Lc(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Yi(e,!!a.multiple,r,!1)}}}var Ba=!1;function Xi(e,r,a){if(Ba)return e(r,a);Ba=!0;try{var l=e(r);return l}finally{if(Ba=!1,(Ki!==null||Hr!==null)&&(Mu(),Ki&&(r=Ki,e=Hr,Hr=Ki=null,Ws(r),e)))for(r=0;r<e.length;r++)Ws(e[r])}}function vr(e,r){var a=e.stateNode;if(a===null)return null;var l=a[$e]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(Wn)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){ta=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{ta=!1}var Fr=null,al=null,ea=null;function ol(){if(ea)return ea;var e,r=al,a=r.length,l,h="value"in Fr?Fr.value:Fr.textContent,d=h.length;for(e=0;e<a&&r[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return ea=h.slice(e,1<l?1-l:void 0)}function na(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function hi(){return!0}function br(){return!1}function sn(e){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hi:br,this.isPropagationStopped=br,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=sn(fi),Zi=v({},fi,{view:0,detail:0}),ll=sn(Zi),Ji,qa,Yr,Ha=v({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(Ji=e.screenX-Yr.screenX,qa=e.screenY-Yr.screenY):qa=Ji=0,Yr=e),Ji)},movementY:function(e){return"movementY"in e?e.movementY:qa}}),cl=sn(Ha),ra=v({},Ha,{dataTransfer:0}),qc=sn(ra),Hc=v({},Zi,{relatedTarget:0}),ia=sn(Hc),ul=v({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fc=sn(ul),Fa=v({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gc=sn(Fa),Yc=v({},fi,{data:0}),$r=sn(Yc),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Kc[e])?!!r[e]:!1}function Wi(){return Xc}var Tn=v({},Zi,{key:function(e){if(e.key){var r=$c[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zc=sn(Tn),Jc=v({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),di=sn(Jc),u=v({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),y=sn(u),b=v({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=sn(b),U=v({},Ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=sn(U),ot=v({},fi,{newState:0,oldState:0}),Ot=sn(ot),Se=[9,13,27,32],Jt=Wn&&"CompositionEvent"in window,ye=null;Wn&&"documentMode"in document&&(ye=document.documentMode);var tr=Wn&&"TextEvent"in window&&!ye,Qr=Wn&&(!Jt||ye&&8<ye&&11>=ye),Er=" ",Tr=!1;function sa(e,r){switch(e){case"keyup":return Se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function Zw(e,r){switch(e){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(Tr=!0,Er);case"textInput":return e=r.data,e===Er&&Tr?null:e;default:return null}}function Jw(e,r){if(Ya)return e==="compositionend"||!Jt&&sa(e,r)?(e=ol(),ea=al=Fr=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Qr&&r.locale!=="ko"?null:r.data;default:return null}}var Ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ww[e.type]:r==="textarea"}function pg(e,r,a,l){Ki?Hr?Hr.push(l):Hr=[l]:Ki=l,r=Bu(r,"onChange"),0<r.length&&(a=new Gr("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var hl=null,fl=null;function t1(e){Z_(e,0)}function Wc(e){var r=Un(e);if(Zs(r))return e}function gg(e,r){if(e==="change")return r}var yg=!1;if(Wn){var pf;if(Wn){var gf="oninput"in document;if(!gf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),gf=typeof _g.oninput=="function"}pf=gf}else pf=!1;yg=pf&&(!document.documentMode||9<document.documentMode)}function vg(){hl&&(hl.detachEvent("onpropertychange",bg),fl=hl=null)}function bg(e){if(e.propertyName==="value"&&Wc(fl)){var r=[];pg(r,fl,e,Jn(e)),Xi(t1,r)}}function e1(e,r,a){e==="focusin"?(vg(),hl=r,fl=a,hl.attachEvent("onpropertychange",bg)):e==="focusout"&&vg()}function n1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wc(fl)}function r1(e,r){if(e==="click")return Wc(r)}function i1(e,r){if(e==="input"||e==="change")return Wc(r)}function s1(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var zn=typeof Object.is=="function"?Object.is:s1;function dl(e,r){if(zn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!te.call(r,h)||!zn(e[h],r[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,r){var a=Eg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Eg(a)}}function wg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?wg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=qr(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=qr(e.document)}return r}function yf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var a1=Wn&&"documentMode"in document&&11>=document.documentMode,$a=null,_f=null,ml=null,vf=!1;function Ag(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||$a==null||$a!==qr(l)||(l=$a,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Bu(_f,"onSelect"),0<l.length&&(r=new Gr("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=$a)))}function aa(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Qa={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},bf={},xg={};Wn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function oa(e){if(bf[e])return bf[e];if(!Qa[e])return e;var r=Qa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in xg)return bf[e]=r[a];return e}var Rg=oa("animationend"),Ig=oa("animationiteration"),Cg=oa("animationstart"),o1=oa("transitionrun"),l1=oa("transitionstart"),c1=oa("transitioncancel"),Ng=oa("transitionend"),Dg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function wr(e,r){Dg.set(e,r),zr(r,[e])}var tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},er=[],Ka=0,Tf=0;function eu(){for(var e=Ka,r=Tf=Ka=0;r<e;){var a=er[r];er[r++]=null;var l=er[r];er[r++]=null;var h=er[r];er[r++]=null;var d=er[r];if(er[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&kg(a,h,d)}}function nu(e,r,a,l){er[Ka++]=e,er[Ka++]=r,er[Ka++]=a,er[Ka++]=l,Tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function wf(e,r,a,l){return nu(e,r,a,l),ru(e)}function la(e,r){return nu(e,null,null,r),ru(e)}function kg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&r!==null&&(h=31-ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function ru(e){if(50<Pl)throw Pl=0,kd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Xa={};function u1(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,r,a,l){return new u1(e,r,a,l)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mi(e,r){var a=e.alternate;return a===null?(a=Bn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Og(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function iu(e,r,a,l,h,d){var _=0;if(l=e,typeof e=="function")Sf(e)&&(_=1);else if(typeof e=="string")_=pS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Bn(31,a,r,h),e.elementType=I,e.lanes=d,e;case X:return ca(a.children,h,d,r);case Q:_=8,h|=24;break;case Z:return e=Bn(12,a,r,h|2),e.elementType=Z,e.lanes=d,e;case jt:return e=Bn(13,a,r,h),e.elementType=jt,e.lanes=d,e;case wt:return e=Bn(19,a,r,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:_=10;break t;case ut:_=9;break t;case Et:_=11;break t;case C:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Bn(_,a,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function ca(e,r,a,l){return e=Bn(7,e,l,r),e.lanes=a,e}function Af(e,r,a){return e=Bn(6,e,null,r),e.lanes=a,e}function Mg(e){var r=Bn(18,null,null,0);return r.stateNode=e,r}function xf(e,r,a){return r=Bn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Vg=new WeakMap;function nr(e,r){if(typeof e=="object"&&e!==null){var a=Vg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Fi(r)},Vg.set(e,r),r)}return{value:e,source:r,stack:Fi(r)}}var Za=[],Ja=0,su=null,pl=0,rr=[],ir=0,ts=null,Kr=1,Xr="";function pi(e,r){Za[Ja++]=pl,Za[Ja++]=su,su=e,pl=r}function Pg(e,r,a){rr[ir++]=Kr,rr[ir++]=Xr,rr[ir++]=ts,ts=e;var l=Kr;e=Xr;var h=32-ge(l)-1;l&=~(1<<h),a+=1;var d=32-ge(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Kr=1<<32-ge(r)+h|a<<h|l,Xr=d+e}else Kr=1<<d|a<<h|l,Xr=e}function Rf(e){e.return!==null&&(pi(e,1),Pg(e,1,0))}function If(e){for(;e===su;)su=Za[--Ja],Za[Ja]=null,pl=Za[--Ja],Za[Ja]=null;for(;e===ts;)ts=rr[--ir],rr[ir]=null,Xr=rr[--ir],rr[ir]=null,Kr=rr[--ir],rr[ir]=null}function jg(e,r){rr[ir++]=Kr,rr[ir++]=Xr,rr[ir++]=ts,Kr=r.id,Xr=r.overflow,ts=e}var an=null,me=null,Yt=!1,es=null,sr=!1,Cf=Error(s(519));function ns(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(nr(r,e)),Cf}function Ug(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Ne]=e,r[$e]=l,a){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Lt(Ul[a],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":Lt("invalid",r),Uc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",r);break;case"textarea":Lt("invalid",r),$i(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||ev(r.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",r),Lt("toggle",r)),l.onScroll!=null&&Lt("scroll",r),l.onScrollEnd!=null&&Lt("scrollend",r),l.onClick!=null&&(r.onclick=_r),r=!0):r=!1,r||ns(e,!0)}function Lg(e){for(an=e.return;an;)switch(an.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:an=an.return}}function Wa(e){if(e!==an)return!1;if(!Yt)return Lg(e),Yt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||$d(e.type,e.memoizedProps)),a=!a),a&&me&&ns(e),Lg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=uv(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));me=uv(e)}else r===27?(r=me,gs(e.type)?(e=Jd,Jd=null,me=e):me=r):me=an?or(e.stateNode.nextSibling):null;return!0}function ua(){me=an=null,Yt=!1}function Nf(){var e=es;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),es=null),e}function gl(e){es===null?es=[e]:es.push(e)}var Df=D(null),ha=null,gi=null;function rs(e,r,a){Y(Df,r._currentValue),r._currentValue=a}function yi(e){e._currentValue=Df.current,K(Df)}function kf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Of(e,r,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=h;for(var N=0;N<r.length;N++)if(w.context===r[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),kf(d.return,a,e),l||(_=null);break t}d=w.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function to(e,r,a,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=h.type;zn(h.pendingProps.value,_.value)||(e!==null?e.push(w):e=[w])}}else if(h===yt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}h=h.return}e!==null&&Of(r,e,a,l),r.flags|=262144}function au(e){for(e=e.firstContext;e!==null;){if(!zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){ha=e,gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return zg(ha,e)}function ou(e,r){return ha===null&&fa(e),zg(e,r)}function zg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},gi===null){if(e===null)throw Error(s(308));gi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else gi=gi.next=r;return a}var h1=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},f1=i.unstable_scheduleCallback,d1=i.unstable_NormalPriority,Oe={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new h1,data:new Map,refCount:0}}function yl(e){e.refCount--,e.refCount===0&&f1(d1,function(){e.controller.abort()})}var _l=null,Vf=0,eo=0,no=null;function m1(e,r){if(_l===null){var a=_l=[];Vf=0,eo=Ud(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,r.then(Bg,Bg),r}function Bg(){if(--Vf===0&&_l!==null){no!==null&&(no.status="fulfilled");var e=_l;_l=null,eo=0,no=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function p1(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=L.S;L.S=function(e,r){A_=tn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&m1(e,r),qg!==null&&qg(e,r)};var da=D(null);function Pf(){var e=da.current;return e!==null?e:he.pooledCache}function lu(e,r){r===null?Y(da,da.current):Y(da,r.pool)}function Hg(){var e=Pf();return e===null?null:{parent:Oe._currentValue,pool:e}}var ro=Error(s(460)),jf=Error(s(474)),cu=Error(s(542)),uu={then:function(){}};function Fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gg(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(_r,_r),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,$g(e),e;default:if(typeof r.status=="string")r.then(_r,_r);else{if(e=he,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,$g(e),e}throw pa=r,ro}}function ma(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pa=a,ro):a}}var pa=null;function Yg(){if(pa===null)throw Error(s(459));var e=pa;return pa=null,e}function $g(e){if(e===ro||e===cu)throw Error(s(483))}var io=null,vl=0;function hu(e){var r=vl;return vl+=1,io===null&&(io=[]),Gg(io,e,r)}function bl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function fu(e,r){throw r.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Qg(e){function r(j,O){if(e){var z=j.deletions;z===null?(j.deletions=[O],j.flags|=16):z.push(O)}}function a(j,O){if(!e)return null;for(;O!==null;)r(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=mi(j,O),j.index=0,j.sibling=null,j}function d(j,O,z){return j.index=z,e?(z=j.alternate,z!==null?(z=z.index,z<O?(j.flags|=67108866,O):z):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function _(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function w(j,O,z,J){return O===null||O.tag!==6?(O=Af(z,j.mode,J),O.return=j,O):(O=h(O,z),O.return=j,O)}function N(j,O,z,J){var vt=z.type;return vt===X?$(j,O,z.props.children,J,z.key):O!==null&&(O.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&ma(vt)===O.type)?(O=h(O,z.props),bl(O,z),O.return=j,O):(O=iu(z.type,z.key,z.props,null,j.mode,J),bl(O,z),O.return=j,O)}function B(j,O,z,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=xf(z,j.mode,J),O.return=j,O):(O=h(O,z.children||[]),O.return=j,O)}function $(j,O,z,J,vt){return O===null||O.tag!==7?(O=ca(z,j.mode,J,vt),O.return=j,O):(O=h(O,z),O.return=j,O)}function W(j,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Af(""+O,j.mode,z),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return z=iu(O.type,O.key,O.props,null,j.mode,z),bl(z,O),z.return=j,z;case H:return O=xf(O,j.mode,z),O.return=j,O;case A:return O=ma(O),W(j,O,z)}if(Kt(O)||P(O))return O=ca(O,j.mode,z,null),O.return=j,O;if(typeof O.then=="function")return W(j,hu(O),z);if(O.$$typeof===lt)return W(j,ou(j,O),z);fu(j,O)}return null}function q(j,O,z,J){var vt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return vt!==null?null:w(j,O,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===vt?N(j,O,z,J):null;case H:return z.key===vt?B(j,O,z,J):null;case A:return z=ma(z),q(j,O,z,J)}if(Kt(z)||P(z))return vt!==null?null:$(j,O,z,J,null);if(typeof z.then=="function")return q(j,O,hu(z),J);if(z.$$typeof===lt)return q(j,O,ou(j,z),J);fu(j,z)}return null}function G(j,O,z,J,vt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(z)||null,w(O,j,""+J,vt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return j=j.get(J.key===null?z:J.key)||null,N(O,j,J,vt);case H:return j=j.get(J.key===null?z:J.key)||null,B(O,j,J,vt);case A:return J=ma(J),G(j,O,z,J,vt)}if(Kt(J)||P(J))return j=j.get(z)||null,$(O,j,J,vt,null);if(typeof J.then=="function")return G(j,O,z,hu(J),vt);if(J.$$typeof===lt)return G(j,O,z,ou(O,J),vt);fu(O,J)}return null}function dt(j,O,z,J){for(var vt=null,Xt=null,gt=O,Vt=O=0,qt=null;gt!==null&&Vt<z.length;Vt++){gt.index>Vt?(qt=gt,gt=null):qt=gt.sibling;var Zt=q(j,gt,z[Vt],J);if(Zt===null){gt===null&&(gt=qt);break}e&&gt&&Zt.alternate===null&&r(j,gt),O=d(Zt,O,Vt),Xt===null?vt=Zt:Xt.sibling=Zt,Xt=Zt,gt=qt}if(Vt===z.length)return a(j,gt),Yt&&pi(j,Vt),vt;if(gt===null){for(;Vt<z.length;Vt++)gt=W(j,z[Vt],J),gt!==null&&(O=d(gt,O,Vt),Xt===null?vt=gt:Xt.sibling=gt,Xt=gt);return Yt&&pi(j,Vt),vt}for(gt=l(gt);Vt<z.length;Vt++)qt=G(gt,j,Vt,z[Vt],J),qt!==null&&(e&&qt.alternate!==null&&gt.delete(qt.key===null?Vt:qt.key),O=d(qt,O,Vt),Xt===null?vt=qt:Xt.sibling=qt,Xt=qt);return e&&gt.forEach(function(Es){return r(j,Es)}),Yt&&pi(j,Vt),vt}function St(j,O,z,J){if(z==null)throw Error(s(151));for(var vt=null,Xt=null,gt=O,Vt=O=0,qt=null,Zt=z.next();gt!==null&&!Zt.done;Vt++,Zt=z.next()){gt.index>Vt?(qt=gt,gt=null):qt=gt.sibling;var Es=q(j,gt,Zt.value,J);if(Es===null){gt===null&&(gt=qt);break}e&&gt&&Es.alternate===null&&r(j,gt),O=d(Es,O,Vt),Xt===null?vt=Es:Xt.sibling=Es,Xt=Es,gt=qt}if(Zt.done)return a(j,gt),Yt&&pi(j,Vt),vt;if(gt===null){for(;!Zt.done;Vt++,Zt=z.next())Zt=W(j,Zt.value,J),Zt!==null&&(O=d(Zt,O,Vt),Xt===null?vt=Zt:Xt.sibling=Zt,Xt=Zt);return Yt&&pi(j,Vt),vt}for(gt=l(gt);!Zt.done;Vt++,Zt=z.next())Zt=G(gt,j,Vt,Zt.value,J),Zt!==null&&(e&&Zt.alternate!==null&&gt.delete(Zt.key===null?Vt:Zt.key),O=d(Zt,O,Vt),Xt===null?vt=Zt:Xt.sibling=Zt,Xt=Zt);return e&&gt.forEach(function(xS){return r(j,xS)}),Yt&&pi(j,Vt),vt}function ce(j,O,z,J){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:t:{for(var vt=z.key;O!==null;){if(O.key===vt){if(vt=z.type,vt===X){if(O.tag===7){a(j,O.sibling),J=h(O,z.props.children),J.return=j,j=J;break t}}else if(O.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===A&&ma(vt)===O.type){a(j,O.sibling),J=h(O,z.props),bl(J,z),J.return=j,j=J;break t}a(j,O);break}else r(j,O);O=O.sibling}z.type===X?(J=ca(z.props.children,j.mode,J,z.key),J.return=j,j=J):(J=iu(z.type,z.key,z.props,null,j.mode,J),bl(J,z),J.return=j,j=J)}return _(j);case H:t:{for(vt=z.key;O!==null;){if(O.key===vt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(j,O.sibling),J=h(O,z.children||[]),J.return=j,j=J;break t}else{a(j,O);break}else r(j,O);O=O.sibling}J=xf(z,j.mode,J),J.return=j,j=J}return _(j);case A:return z=ma(z),ce(j,O,z,J)}if(Kt(z))return dt(j,O,z,J);if(P(z)){if(vt=P(z),typeof vt!="function")throw Error(s(150));return z=vt.call(z),St(j,O,z,J)}if(typeof z.then=="function")return ce(j,O,hu(z),J);if(z.$$typeof===lt)return ce(j,O,ou(j,z),J);fu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(j,O.sibling),J=h(O,z),J.return=j,j=J):(a(j,O),J=Af(z,j.mode,J),J.return=j,j=J),_(j)):a(j,O)}return function(j,O,z,J){try{vl=0;var vt=ce(j,O,z,J);return io=null,vt}catch(gt){if(gt===ro||gt===cu)throw gt;var Xt=Bn(29,gt,null,j.mode);return Xt.lanes=J,Xt.return=j,Xt}finally{}}}var ga=Qg(!0),Kg=Qg(!1),is=!1;function Uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ru(e),kg(e,null,a),r}return nu(e,l,r,a),ru(e)}function El(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,en(e,a)}}function zf(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Bf=!1;function Tl(){if(Bf){var e=no;if(e!==null)throw e}}function wl(e,r,a,l){Bf=!1;var h=e.updateQueue;is=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==_&&(w===null?$.firstBaseUpdate=B:w.next=B,$.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;_=0,$=B=N=null,w=d;do{var q=w.lane&-536870913,G=q!==w.lane;if(G?(Bt&q)===q:(l&q)===q){q!==0&&q===eo&&(Bf=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var dt=e,St=w;q=r;var ce=a;switch(St.tag){case 1:if(dt=St.payload,typeof dt=="function"){W=dt.call(ce,W,q);break t}W=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=St.payload,q=typeof dt=="function"?dt.call(ce,W,q):dt,q==null)break t;W=v({},W,q);break t;case 2:is=!0}}q=w.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(B=$=G,N=W):$=$.next=G,_|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;G=w,w=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(N=W),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),hs|=_,e.lanes=_,e.memoizedState=W}}function Xg(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Zg(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xg(a[e],r)}var so=D(null),du=D(0);function Jg(e,r){e=xi,Y(du,e),Y(so,r),xi=e|r.baseLanes}function qf(){Y(du,xi),Y(so,so.current)}function Hf(){xi=du.current,K(so),K(du)}var qn=D(null),ar=null;function os(e){var r=e.alternate;Y(Ae,Ae.current&1),Y(qn,e),ar===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(ar=e)}function Ff(e){Y(Ae,Ae.current),Y(qn,e),ar===null&&(ar=e)}function Wg(e){e.tag===22?(Y(Ae,Ae.current),Y(qn,e),ar===null&&(ar=e)):ls()}function ls(){Y(Ae,Ae.current),Y(qn,qn.current)}function Hn(e){K(qn),ar===e&&(ar=null),K(Ae)}var Ae=D(0);function mu(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||Zd(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var _i=0,Mt=null,oe=null,Me=null,pu=!1,ao=!1,ya=!1,gu=0,Sl=0,oo=null,g1=0;function Ee(){throw Error(s(321))}function Gf(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!zn(e[a],r[a]))return!1;return!0}function Yf(e,r,a,l,h,d){return _i=d,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=e===null||e.memoizedState===null?Py:od,ya=!1,d=a(l,h),ya=!1,ao&&(d=ey(r,a,l,h)),ty(e),d}function ty(e){L.H=Rl;var r=oe!==null&&oe.next!==null;if(_i=0,Me=oe=Mt=null,pu=!1,Sl=0,oo=null,r)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&au(e)&&(Ve=!0))}function ey(e,r,a,l){Mt=e;var h=0;do{if(ao&&(oo=null),Sl=0,ao=!1,25<=h)throw Error(s(301));if(h+=1,Me=oe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=jy,d=r(a,l)}while(ao);return d}function y1(){var e=L.H,r=e.useState()[0];return r=typeof r.then=="function"?Al(r):r,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Mt.flags|=1024),r}function $f(){var e=gu!==0;return gu=0,e}function Qf(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Kf(e){if(pu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}pu=!1}_i=0,Me=oe=Mt=null,ao=!1,Sl=gu=0,oo=null}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Mt.memoizedState=Me=e:Me=Me.next=e,Me}function xe(){if(oe===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var r=Me===null?Mt.memoizedState:Me.next;if(r!==null)Me=r,oe=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Me===null?Mt.memoizedState=Me=e:Me=Me.next=e}return Me}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var r=Sl;return Sl+=1,oo===null&&(oo=[]),e=Gg(oo,e,r),r=Mt,(Me===null?r.memoizedState:Me.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?Py:od),e}function _u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===lt)return on(e)}throw Error(s(438,String(e)))}function Xf(e){var r=null,a=Mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yu(),Mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=V;return r.index++,a}function vi(e,r){return typeof r=="function"?r(e):r}function vu(e){var r=xe();return Zf(r,oe,e)}function Zf(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var w=_=null,N=null,B=r,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Bt&W)===W:(_i&W)===W){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===eo&&($=!0);else if((_i&q)===q){B=B.next,q===eo&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(w=N=W,_=d):N=N.next=W,Mt.lanes|=q,hs|=q;W=B.action,ya&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(w=N=q,_=d):N=N.next=q,Mt.lanes|=W,hs|=W;B=B.next}while(B!==null&&B!==r);if(N===null?_=d:N.next=w,!zn(d,e.memoizedState)&&(Ve=!0,$&&(a=no,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jf(e){var r=xe(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);zn(d,r.memoizedState)||(Ve=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(e,r,a){var l=Mt,h=xe(),d=Yt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!zn((oe||h).memoizedState,a);if(_&&(h.memoizedState=a,Ve=!0),h=h.queue,ed(sy.bind(null,l,h,e),[e]),h.getSnapshot!==r||_||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},iy.bind(null,l,h,a,r),null),he===null)throw Error(s(349));d||(_i&127)!==0||ry(l,r,a)}return a}function ry(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Mt.updateQueue,r===null?(r=yu(),Mt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function iy(e,r,a,l){r.value=a,r.getSnapshot=l,ay(r)&&oy(e)}function sy(e,r,a){return a(function(){ay(r)&&oy(e)})}function ay(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!zn(e,a)}catch{return!0}}function oy(e){var r=la(e,2);r!==null&&Dn(r,e,2)}function Wf(e){var r=wn();if(typeof e=="function"){var a=e;if(e=a(),ya){bn(!0);try{a()}finally{bn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},r}function ly(e,r,a,l){return e.baseState=a,Zf(e,oe,typeof l=="function"?l:vi)}function _1(e,r,a,l,h){if(Tu(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};L.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,cy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function cy(e,r){var a=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=L.T,_={};L.T=_;try{var w=a(h,l),N=L.S;N!==null&&N(_,w),uy(e,r,w)}catch(B){td(e,r,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),L.T=d}}else try{d=a(h,l),uy(e,r,d)}catch(B){td(e,r,B)}}function uy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(e,r,l)},function(l){return td(e,r,l)}):hy(e,r,a)}function hy(e,r,a){r.status="fulfilled",r.value=a,fy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,cy(e,a)))}function td(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,fy(r),r=r.next;while(r!==l)}e.action=null}function fy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function dy(e,r){return r}function my(e,r){if(Yt){var a=he.formState;if(a!==null){t:{var l=Mt;if(Yt){if(me){e:{for(var h=me,d=sr;h.nodeType!==8;){if(!d){h=null;break e}if(h=or(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){me=or(h.nextSibling),l=h.data==="F!";break t}}ns(l)}l=!1}l&&(r=a[0])}}return a=wn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:r},a.queue=l,a=Oy.bind(null,Mt,l),l.dispatch=a,l=Wf(!1),d=ad.bind(null,Mt,!1,l.queue),l=wn(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,a=_1.bind(null,Mt,h,d,a),h.dispatch=a,l.memoizedState=e,[r,a,!1]}function py(e){var r=xe();return gy(r,oe,e)}function gy(e,r,a){if(r=Zf(e,r,dy)[0],e=vu(vi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Al(r)}catch(_){throw _===ro?cu:_}else l=r;r=xe();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Mt.flags|=2048,lo(9,{destroy:void 0},v1.bind(null,h,a),null)),[l,d,e]}function v1(e,r){e.action=r}function yy(e){var r=xe(),a=oe;if(a!==null)return gy(r,a,e);xe(),r=r.memoizedState,a=xe();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function lo(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=yu(),Mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function _y(){return xe().memoizedState}function bu(e,r,a,l){var h=wn();Mt.flags|=e,h.memoizedState=lo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Eu(e,r,a,l){var h=xe();l=l===void 0?null:l;var d=h.memoizedState.inst;oe!==null&&l!==null&&Gf(l,oe.memoizedState.deps)?h.memoizedState=lo(r,d,a,l):(Mt.flags|=e,h.memoizedState=lo(1|r,d,a,l))}function vy(e,r){bu(8390656,8,e,r)}function ed(e,r){Eu(2048,8,e,r)}function b1(e){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=yu(),Mt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function by(e){var r=xe().memoizedState;return b1({ref:r,nextImpl:e}),function(){if((Wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ey(e,r){return Eu(4,2,e,r)}function Ty(e,r){return Eu(4,4,e,r)}function wy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Sy(e,r,a){a=a!=null?a.concat([e]):null,Eu(4,4,wy.bind(null,r,e),a)}function nd(){}function Ay(e,r){var a=xe();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Gf(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function xy(e,r){var a=xe();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Gf(r,l[1]))return l[0];if(l=e(),ya){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,r],l}function rd(e,r,a){return a===void 0||(_i&1073741824)!==0&&(Bt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=R_(),Mt.lanes|=e,hs|=e,a)}function Ry(e,r,a,l){return zn(a,r)?a:so.current!==null?(e=rd(e,a,l),zn(e,r)||(Ve=!0),e):(_i&42)===0||(_i&1073741824)!==0&&(Bt&261930)===0?(Ve=!0,e.memoizedState=a):(e=R_(),Mt.lanes|=e,hs|=e,r)}function Iy(e,r,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var _=L.T,w={};L.T=w,ad(e,!1,r,a);try{var N=h(),B=L.S;if(B!==null&&B(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=p1(N,l);xl(e,r,$,Yn(e))}else xl(e,r,l,Yn(e))}catch(W){xl(e,r,{then:function(){},status:"rejected",reason:W},Yn())}finally{it.p=d,_!==null&&w.types!==null&&(_.types=w.types),L.T=_}}function E1(){}function id(e,r,a,l){if(e.tag!==5)throw Error(s(476));var h=Cy(e).queue;Iy(e,h,r,nt,a===null?E1:function(){return Ny(e),a(l)})}function Cy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:nt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Ny(e){var r=Cy(e);r.next===null&&(r=e.alternate.memoizedState),xl(e,r.next.queue,{},Yn())}function sd(){return on(Hl)}function Dy(){return xe().memoizedState}function ky(){return xe().memoizedState}function T1(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Yn();e=ss(a);var l=as(r,e,a);l!==null&&(Dn(l,r,a),El(l,r,a)),r={cache:Mf()},e.payload=r;return}r=r.return}}function w1(e,r,a){var l=Yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(e)?My(r,a):(a=wf(e,r,a,l),a!==null&&(Dn(a,e,l),Vy(a,r,l)))}function Oy(e,r,a){var l=Yn();xl(e,r,a,l)}function xl(e,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))My(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,a);if(h.hasEagerState=!0,h.eagerState=w,zn(w,_))return nu(e,r,h,0),he===null&&eu(),!1}catch{}finally{}if(a=wf(e,r,h,l),a!==null)return Dn(a,e,l),Vy(a,r,l),!0}return!1}function ad(e,r,a,l){if(l={lane:2,revertLane:Ud(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(r)throw Error(s(479))}else r=wf(e,a,l,2),r!==null&&Dn(r,e,2)}function Tu(e){var r=e.alternate;return e===Mt||r!==null&&r===Mt}function My(e,r){ao=pu=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Vy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,en(e,a)}}var Rl={readContext:on,use:_u,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Rl.useEffectEvent=Ee;var Py={readContext:on,use:_u,useCallback:function(e,r){return wn().memoizedState=[e,r===void 0?null:r],e},useContext:on,useEffect:vy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,bu(4194308,4,wy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return bu(4194308,4,e,r)},useInsertionEffect:function(e,r){bu(4,2,e,r)},useMemo:function(e,r){var a=wn();r=r===void 0?null:r;var l=e();if(ya){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=wn();if(a!==void 0){var h=a(r);if(ya){bn(!0);try{a(r)}finally{bn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=w1.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var r=wn();return e={current:e},r.memoizedState=e},useState:function(e){e=Wf(e);var r=e.queue,a=Oy.bind(null,Mt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(e,r){var a=wn();return rd(a,e,r)},useTransition:function(){var e=Wf(!1);return e=Iy.bind(null,Mt,e.queue,!0,!1),wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Mt,h=wn();if(Yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),he===null)throw Error(s(349));(Bt&127)!==0||ry(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,vy(sy.bind(null,l,d,e),[e]),l.flags|=2048,lo(9,{destroy:void 0},iy.bind(null,l,d,a,r),null),a},useId:function(){var e=wn(),r=he.identifierPrefix;if(Yt){var a=Xr,l=Kr;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=gu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=g1++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:sd,useFormState:my,useActionState:my,useOptimistic:function(e){var r=wn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ad.bind(null,Mt,!0,a),a.dispatch=r,[e,r]},useMemoCache:Xf,useCacheRefresh:function(){return wn().memoizedState=T1.bind(null,Mt)},useEffectEvent:function(e){var r=wn(),a={impl:e};return r.memoizedState=a,function(){if((Wt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},od={readContext:on,use:_u,useCallback:Ay,useContext:on,useEffect:ed,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:xy,useReducer:vu,useRef:_y,useState:function(){return vu(vi)},useDebugValue:nd,useDeferredValue:function(e,r){var a=xe();return Ry(a,oe.memoizedState,e,r)},useTransition:function(){var e=vu(vi)[0],r=xe().memoizedState;return[typeof e=="boolean"?e:Al(e),r]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:sd,useFormState:py,useActionState:py,useOptimistic:function(e,r){var a=xe();return ly(a,oe,e,r)},useMemoCache:Xf,useCacheRefresh:ky};od.useEffectEvent=by;var jy={readContext:on,use:_u,useCallback:Ay,useContext:on,useEffect:ed,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:xy,useReducer:Jf,useRef:_y,useState:function(){return Jf(vi)},useDebugValue:nd,useDeferredValue:function(e,r){var a=xe();return oe===null?rd(a,e,r):Ry(a,oe.memoizedState,e,r)},useTransition:function(){var e=Jf(vi)[0],r=xe().memoizedState;return[typeof e=="boolean"?e:Al(e),r]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:sd,useFormState:yy,useActionState:yy,useOptimistic:function(e,r){var a=xe();return oe!==null?ly(a,oe,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:ky};jy.useEffectEvent=by;function ld(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Yn(),h=ss(l);h.payload=r,a!=null&&(h.callback=a),r=as(e,h,l),r!==null&&(Dn(r,e,l),El(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Yn(),h=ss(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=as(e,h,l),r!==null&&(Dn(r,e,l),El(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Yn(),l=ss(a);l.tag=2,r!=null&&(l.callback=r),r=as(e,l,a),r!==null&&(Dn(r,e,a),El(r,e,a))}};function Uy(e,r,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!dl(a,l)||!dl(h,d):!0}function Ly(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&cd.enqueueReplaceState(r,r.state,null)}function _a(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=v({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function zy(e){tu(e)}function By(e){console.error(e)}function qy(e){tu(e)}function wu(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(e,r,a){return a=ss(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(e,r)},a}function Fy(e){return e=ss(e),e.tag=3,e}function Gy(e,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Hy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Hy(r,a,l),typeof h!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function S1(e,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&to(r,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 31:case 13:return ar===null?Vu():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Vd(e,l,h)),!1;case 22:return a.flags|=65536,l===uu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Vd(e,l,h)),!1}throw Error(s(435,a.tag))}return Vd(e,l,h),Vu(),!1}if(Yt)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Cf&&(e=Error(s(422),{cause:l}),gl(nr(e,a)))):(l!==Cf&&(r=Error(s(423),{cause:l}),gl(nr(r,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=nr(l,a),h=ud(e.stateNode,l,h),zf(e,h),Te!==4&&(Te=2)),!1;var d=Error(s(520),{cause:l});if(d=nr(d,a),Vl===null?Vl=[d]:Vl.push(d),Te!==4&&(Te=2),r===null)return!0;l=nr(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ud(a.stateNode,l,e),zf(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fs===null||!fs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,e,a,l),zf(a,h),!1}a=a.return}while(a!==null);return!1}var hd=Error(s(461)),Ve=!1;function ln(e,r,a,l){r.child=e===null?Kg(r,null,a,l):ga(r,e.child,a,l)}function Yy(e,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return fa(r),l=Yf(e,r,a,_,d,h),w=$f(),e!==null&&!Ve?(Qf(e,r,h),bi(e,r,h)):(Yt&&w&&Rf(r),r.flags|=1,ln(e,r,l,h),r.child)}function $y(e,r,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Qy(e,r,d,l,h)):(e=iu(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!vd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(_,l)&&e.ref===r.ref)return bi(e,r,h)}return r.flags|=1,e=mi(d,l),e.ref=r.ref,e.return=r,r.child=e}function Qy(e,r,a,l,h){if(e!==null){var d=e.memoizedProps;if(dl(d,l)&&e.ref===r.ref)if(Ve=!1,r.pendingProps=l=d,vd(e,h))(e.flags&131072)!==0&&(Ve=!0);else return r.lanes=e.lanes,bi(e,r,h)}return fd(e,r,a,l,h)}function Ky(e,r,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return Xy(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&lu(r,d!==null?d.cachePool:null),d!==null?Jg(r,d):qf(),Wg(r);else return l=r.lanes=536870912,Xy(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(lu(r,d.cachePool),Jg(r,d),ls(),r.memoizedState=null):(e!==null&&lu(r,null),qf(),ls());return ln(e,r,h,a),r.child}function Il(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xy(e,r,a,l,h){var d=Pf();return d=d===null?null:{parent:Oe._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&lu(r,null),qf(),Wg(r),e!==null&&to(e,r,l,!0),r.childLanes=h,null}function Su(e,r){return r=xu({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Zy(e,r,a){return ga(r,e.child,null,a),e=Su(r,r.pendingProps),e.flags|=2,Hn(r),r.memoizedState=null,e}function A1(e,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Yt){if(l.mode==="hidden")return e=Su(r,l),r.lanes=536870912,Il(null,e);if(Ff(r),(e=me)?(e=cv(e,sr),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:ts!==null?{id:Kr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},a=Mg(e),a.return=r,r.child=a,an=r,me=null)):e=null,e===null)throw ns(r);return r.lanes=536870912,null}return Su(r,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Ff(r),h)if(r.flags&256)r.flags&=-257,r=Zy(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ve||to(e,r,a,!1),h=(a&e.childLanes)!==0,Ve||h){if(l=he,l!==null&&(_=nn(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,la(e,_),Dn(l,e,_),hd;Vu(),r=Zy(e,r,a)}else e=d.treeContext,me=or(_.nextSibling),an=r,Yt=!0,es=null,sr=!1,e!==null&&jg(r,e),r=Su(r,l),r.flags|=4096;return r}return e=mi(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Au(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function fd(e,r,a,l,h){return fa(r),a=Yf(e,r,a,l,void 0,h),l=$f(),e!==null&&!Ve?(Qf(e,r,h),bi(e,r,h)):(Yt&&l&&Rf(r),r.flags|=1,ln(e,r,a,h),r.child)}function Jy(e,r,a,l,h,d){return fa(r),r.updateQueue=null,a=ey(r,l,a,h),ty(e),l=$f(),e!==null&&!Ve?(Qf(e,r,d),bi(e,r,d)):(Yt&&l&&Rf(r),r.flags|=1,ln(e,r,a,d),r.child)}function Wy(e,r,a,l,h){if(fa(r),r.stateNode===null){var d=Xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=on(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Uf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?on(_):Xa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ld(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&cd.enqueueReplaceState(d,d.state,null),wl(r,l,d,h),Tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var w=r.memoizedProps,N=_a(a,w);d.props=N;var B=d.context,$=a.contextType;_=Xa,typeof $=="object"&&$!==null&&(_=on($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==_)&&Ly(r,d,l,_),is=!1;var q=r.memoizedState;d.state=q,wl(r,l,d,h),Tl(),B=r.memoizedState,w||q!==B||is?(typeof W=="function"&&(ld(r,a,W,l),B=r.memoizedState),(N=is||Uy(r,a,N,l,q,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Lf(e,r),_=r.memoizedProps,$=_a(a,_),d.props=$,W=r.pendingProps,q=d.context,B=a.contextType,N=Xa,typeof B=="object"&&B!==null&&(N=on(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==N)&&Ly(r,d,l,N),is=!1,q=r.memoizedState,d.state=q,wl(r,l,d,h),Tl();var G=r.memoizedState;_!==W||q!==G||is||e!==null&&e.dependencies!==null&&au(e.dependencies)?(typeof w=="function"&&(ld(r,a,w,l),G=r.memoizedState),($=is||Uy(r,a,$,l,q,G,N)||e!==null&&e.dependencies!==null&&au(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Au(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=ga(r,e.child,null,h),r.child=ga(r,null,a,h)):ln(e,r,a,h),r.memoizedState=d.state,e=r.child):e=bi(e,r,h),e}function t_(e,r,a,l){return ua(),r.flags|=256,ln(e,r,a,l),r.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(e){return{baseLanes:e,cachePool:Hg()}}function pd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Gn),e}function e_(e,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(Yt){if(h?os(r):ls(),(e=me)?(e=cv(e,sr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:ts!==null?{id:Kr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},a=Mg(e),a.return=r,r.child=a,an=r,me=null)):e=null,e===null)throw ns(r);return Zd(e)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(ls(),h=r.mode,w=xu({mode:"hidden",children:w},h),l=ca(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=md(a),l.childLanes=pd(e,_,a),r.memoizedState=dd,Il(null,l)):(os(r),gd(r,w))}var N=e.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)r.flags&256?(os(r),r.flags&=-257,r=yd(e,r,a)):r.memoizedState!==null?(ls(),r.child=e.child,r.flags|=128,r=null):(ls(),w=l.fallback,h=r.mode,l=xu({mode:"visible",children:l.children},h),w=ca(w,h,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,ga(r,e.child,null,a),l=r.child,l.memoizedState=md(a),l.childLanes=pd(e,_,a),r.memoizedState=dd,r=Il(null,l));else if(os(r),Zd(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,gl({value:l,source:null,stack:null}),r=yd(e,r,a)}else if(Ve||to(e,r,a,!1),_=(a&e.childLanes)!==0,Ve||_){if(_=he,_!==null&&(l=nn(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,la(e,l),Dn(_,e,l),hd;Xd(w)||Vu(),r=yd(e,r,a)}else Xd(w)?(r.flags|=192,r.child=e.child,r=null):(e=N.treeContext,me=or(w.nextSibling),an=r,Yt=!0,es=null,sr=!1,e!==null&&jg(r,e),r=gd(r,l.children),r.flags|=4096);return r}return h?(ls(),w=l.fallback,h=r.mode,N=e.child,B=N.sibling,l=mi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?w=mi(B,w):(w=ca(w,h,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Il(null,l),l=r.child,w=e.child.memoizedState,w===null?w=md(a):(h=w.cachePool,h!==null?(N=Oe._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Hg(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=pd(e,_,a),r.memoizedState=dd,Il(e.child,l)):(os(r),a=e.child,e=a.sibling,a=mi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=a,r.memoizedState=null,a)}function gd(e,r){return r=xu({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function xu(e,r){return e=Bn(22,e,null,r),e.lanes=0,e}function yd(e,r,a){return ga(r,e.child,null,a),e=gd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function n_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),kf(e.return,r,a)}function _d(e,r,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function r_(e,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Ae.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,Y(Ae,_),ln(e,r,l,a),l=Yt?pl:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n_(e,a,r);else if(e.tag===19)n_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&mu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),_d(r,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&mu(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}_d(r,!0,a,null,d,l);break;case"together":_d(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function bi(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),hs|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(to(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=mi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=mi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function vd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&au(e)))}function x1(e,r,a){switch(r.tag){case 3:Rt(r,r.stateNode.containerInfo),rs(r,Oe,e.memoizedState.cache),ua();break;case 27:case 5:Je(r);break;case 4:Rt(r,r.stateNode.containerInfo);break;case 10:rs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ff(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(os(r),r.flags|=128,null):(a&r.child.childLanes)!==0?e_(e,r,a):(os(r),e=bi(e,r,a),e!==null?e.sibling:null);os(r);break;case 19:var h=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(to(e,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return r_(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(Ae,Ae.current),l)break;return null;case 22:return r.lanes=0,Ky(e,r,a,r.pendingProps);case 24:rs(r,Oe,e.memoizedState.cache)}return bi(e,r,a)}function i_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ve=!0;else{if(!vd(e,a)&&(r.flags&128)===0)return Ve=!1,x1(e,r,a);Ve=(e.flags&131072)!==0}else Ve=!1,Yt&&(r.flags&1048576)!==0&&Pg(r,pl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=ma(r.elementType),r.type=e,typeof e=="function")Sf(e)?(l=_a(e,l),r.tag=1,r=Wy(null,r,e,l,a)):(r.tag=0,r=fd(null,r,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Et){r.tag=11,r=Yy(null,r,e,l,a);break t}else if(h===C){r.tag=14,r=$y(null,r,e,l,a);break t}}throw r=Qt(e)||e,Error(s(306,r,""))}}return r;case 0:return fd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=_a(l,r.pendingProps),Wy(e,r,l,h,a);case 3:t:{if(Rt(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Lf(e,r),wl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,rs(r,Oe,l),l!==d.cache&&Of(r,[Oe],a,!0),Tl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=t_(e,r,l,a);break t}else if(l!==h){h=nr(Error(s(424)),r),gl(h),r=t_(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=or(e.firstChild),an=r,Yt=!0,es=null,sr=!0,a=Kg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ua(),l===h){r=bi(e,r,a);break t}ln(e,r,l,a)}r=r.child}return r;case 26:return Au(e,r),e===null?(a=pv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Yt||(a=r.type,e=r.pendingProps,l=qu(_t.current).createElement(a),l[Ne]=r,l[$e]=e,cn(l,a,e),De(l),r.stateNode=l):r.memoizedState=pv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Je(r),e===null&&Yt&&(l=r.stateNode=fv(r.type,r.pendingProps,_t.current),an=r,sr=!0,h=me,gs(r.type)?(Jd=h,me=or(l.firstChild)):me=h),ln(e,r,r.pendingProps.children,a),Au(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Yt&&((h=l=me)&&(l=nS(l,r.type,r.pendingProps,sr),l!==null?(r.stateNode=l,an=r,me=or(l.firstChild),sr=!1,h=!0):h=!1),h||ns(r)),Je(r),h=r.type,d=r.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,$d(h,d)?l=null:_!==null&&$d(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Yf(e,r,y1,null,null,a),Hl._currentValue=h),Au(e,r),ln(e,r,l,a),r.child;case 6:return e===null&&Yt&&((e=a=me)&&(a=rS(a,r.pendingProps,sr),a!==null?(r.stateNode=a,an=r,me=null,e=!0):e=!1),e||ns(r)),null;case 13:return e_(e,r,a);case 4:return Rt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=ga(r,null,l,a):ln(e,r,l,a),r.child;case 11:return Yy(e,r,r.type,r.pendingProps,a);case 7:return ln(e,r,r.pendingProps,a),r.child;case 8:return ln(e,r,r.pendingProps.children,a),r.child;case 12:return ln(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,rs(r,r.type,l.value),ln(e,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,fa(r),h=on(h),l=l(h),r.flags|=1,ln(e,r,l,a),r.child;case 14:return $y(e,r,r.type,r.pendingProps,a);case 15:return Qy(e,r,r.type,r.pendingProps,a);case 19:return r_(e,r,a);case 31:return A1(e,r,a);case 22:return Ky(e,r,a,r.pendingProps);case 24:return fa(r),l=on(Oe),e===null?(h=Pf(),h===null&&(h=he,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Uf(r),rs(r,Oe,h)):((e.lanes&a)!==0&&(Lf(e,r),wl(r,null,null,a),Tl()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),rs(r,Oe,l)):(l=d.cache,rs(r,Oe,l),l!==h.cache&&Of(r,[Oe],a,!0))),ln(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ei(e){e.flags|=4}function bd(e,r,a,l,h){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(D_())e.flags|=8192;else throw pa=uu,jf}else e.flags&=-16777217}function s_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bv(r))if(D_())e.flags|=8192;else throw pa=uu,jf}function Ru(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ye():536870912,e.lanes|=r,fo|=r)}function Cl(e,r){if(!Yt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function pe(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function R1(e,r,a){var l=r.pendingProps;switch(If(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(r),null;case 1:return pe(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),yi(Oe),zt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wa(r)?Ei(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nf())),pe(r),null;case 26:var h=r.type,d=r.memoizedState;return e===null?(Ei(r),d!==null?(pe(r),s_(r,d)):(pe(r),bd(r,h,null,l,a))):d?d!==e.memoizedState?(Ei(r),pe(r),s_(r,d)):(pe(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ei(r),pe(r),bd(r,h,e,l,a)),null;case 27:if(vn(r),a=_t.current,h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ei(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return pe(r),null}e=rt.current,Wa(r)?Ug(r):(e=fv(h,l,a),r.stateNode=e,Ei(r))}return pe(r),null;case 5:if(vn(r),h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ei(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return pe(r),null}if(d=rt.current,Wa(r))Ug(r);else{var _=qu(_t.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ne]=r,d[$e]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;t:switch(cn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ei(r)}}return pe(r),bd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Ei(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=_t.current,Wa(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(e.nodeValue,a)),e||ns(r,!0)}else e=qu(e).createTextNode(l),e[Ne]=r,r.stateNode=e}return pe(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Wa(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ne]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pe(r),e=!1}else a=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(Hn(r),r):(Hn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return pe(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Wa(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pe(r),h=!1}else h=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Hn(r),r):(Hn(r),null)}return Hn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Ru(r,r.updateQueue),pe(r),null);case 4:return zt(),e===null&&qd(r.stateNode.containerInfo),pe(r),null;case 10:return yi(r.type),pe(r),null;case 19:if(K(Ae),l=r.memoizedState,l===null)return pe(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)Cl(l,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=mu(e),d!==null){for(r.flags|=128,Cl(l,!1),e=d.updateQueue,r.updateQueue=e,Ru(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Og(a,e),a=a.sibling;return Y(Ae,Ae.current&1|2),Yt&&pi(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&tn()>ku&&(r.flags|=128,h=!0,Cl(l,!1),r.lanes=4194304)}else{if(!h)if(e=mu(d),e!==null){if(r.flags|=128,h=!0,e=e.updateQueue,r.updateQueue=e,Ru(r,e),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Yt)return pe(r),null}else 2*tn()-l.renderingStartTime>ku&&a!==536870912&&(r.flags|=128,h=!0,Cl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=Ae.current,Y(Ae,h?a&1|2:a&1),Yt&&pi(r,l.treeForkCount),e):(pe(r),null);case 22:case 23:return Hn(r),Hf(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(pe(r),r.subtreeFlags&6&&(r.flags|=8192)):pe(r),a=r.updateQueue,a!==null&&Ru(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&K(da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),yi(Oe),pe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function I1(e,r){switch(If(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return yi(Oe),zt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return vn(r),null;case 31:if(r.memoizedState!==null){if(Hn(r),r.alternate===null)throw Error(s(340));ua()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Hn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ua()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return K(Ae),null;case 4:return zt(),null;case 10:return yi(r.type),null;case 22:case 23:return Hn(r),Hf(),e!==null&&K(da),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return yi(Oe),null;case 25:return null;default:return null}}function a_(e,r){switch(If(r),r.tag){case 3:yi(Oe),zt();break;case 26:case 27:case 5:vn(r);break;case 4:zt();break;case 31:r.memoizedState!==null&&Hn(r);break;case 13:Hn(r);break;case 19:K(Ae);break;case 10:yi(r.type);break;case 22:case 23:Hn(r),Hf(),e!==null&&K(da);break;case 24:yi(Oe)}}function Nl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(w){se(r,r.return,w)}}function cs(e,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,h=r;var N=a,B=w;try{B()}catch($){se(h,N,$)}}}l=l.next}while(l!==d)}}catch($){se(r,r.return,$)}}function o_(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Zg(r,a)}catch(l){se(e,e.return,l)}}}function l_(e,r,a){a.props=_a(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){se(e,r,l)}}function Dl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){se(e,r,h)}}function Zr(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){se(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(e,r,h)}else a.current=null}function c_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){se(e,e.return,h)}}function Ed(e,r,a){try{var l=e.stateNode;X1(l,e.type,a,r),l[$e]=r}catch(h){se(e,e.return,h)}}function u_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gs(e.type)||e.tag===4}function Td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||u_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_r));else if(l!==4&&(l===27&&gs(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(wd(e,r,a),e=e.sibling;e!==null;)wd(e,r,a),e=e.sibling}function Iu(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&gs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Iu(e,r,a),e=e.sibling;e!==null;)Iu(e,r,a),e=e.sibling}function h_(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);cn(r,l,a),r[Ne]=e,r[$e]=a}catch(d){se(e,e.return,d)}}var Ti=!1,Pe=!1,Sd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function C1(e,r){if(e=e.containerInfo,Gd=Ku,e=Sg(e),yf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,w=-1,N=-1,B=0,$=0,W=e,q=null;e:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(w=_+h),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===e)break e;if(q===a&&++B===h&&(w=_),q===d&&++$===l&&(N=_),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:e,selectionRange:a},Ku=!1,Ke=r;Ke!==null;)if(r=Ke,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Ke=e;else for(;Ke!==null;){switch(r=Ke,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=_a(a.type,h);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(St){se(a,a.return,St)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Ke=e;break}Ke=r.return}}function d_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Si(e,a),l&4&&Nl(5,a);break;case 1:if(Si(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(_){se(a,a.return,_)}else{var h=_a(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){se(a,a.return,_)}}l&64&&o_(a),l&512&&Dl(a,a.return);break;case 3:if(Si(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Zg(e,r)}catch(_){se(a,a.return,_)}}break;case 27:r===null&&l&4&&h_(a);case 26:case 5:Si(e,a),r===null&&l&4&&c_(a),l&512&&Dl(a,a.return);break;case 12:Si(e,a);break;case 31:Si(e,a),l&4&&g_(e,a);break;case 13:Si(e,a),l&4&&y_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=U1.bind(null,a),iS(e,a))));break;case 22:if(l=a.memoizedState!==null||Ti,!l){r=r!==null&&r.memoizedState!==null||Pe,h=Ti;var d=Pe;Ti=l,(Pe=r)&&!d?Ai(e,a,(a.subtreeFlags&8772)!==0):Si(e,a),Ti=h,Pe=d}break;case 30:break;default:Si(e,a)}}function m_(e){var r=e.alternate;r!==null&&(e.alternate=null,m_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Pa(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,Rn=!1;function wi(e,r,a){for(a=a.child;a!==null;)p_(e,r,a),a=a.sibling}function p_(e,r,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Vn,a)}catch{}switch(a.tag){case 26:Pe||Zr(a,r),wi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Zr(a,r);var l=_e,h=Rn;gs(a.type)&&(_e=a.stateNode,Rn=!1),wi(e,r,a),zl(a.stateNode),_e=l,Rn=h;break;case 5:Pe||Zr(a,r);case 6:if(l=_e,h=Rn,_e=null,wi(e,r,a),_e=l,Rn=h,_e!==null)if(Rn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(d){se(a,r,d)}else try{_e.removeChild(a.stateNode)}catch(d){se(a,r,d)}break;case 18:_e!==null&&(Rn?(e=_e,ov(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Eo(e)):ov(_e,a.stateNode));break;case 4:l=_e,h=Rn,_e=a.stateNode.containerInfo,Rn=!0,wi(e,r,a),_e=l,Rn=h;break;case 0:case 11:case 14:case 15:cs(2,a,r),Pe||cs(4,a,r),wi(e,r,a);break;case 1:Pe||(Zr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,r,l)),wi(e,r,a);break;case 21:wi(e,r,a);break;case 22:Pe=(l=Pe)||a.memoizedState!==null,wi(e,r,a),Pe=l;break;default:wi(e,r,a)}}function g_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Eo(e)}catch(a){se(r,r.return,a)}}}function y_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Eo(e)}catch(a){se(r,r.return,a)}}function N1(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new f_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new f_),r;default:throw Error(s(435,e.tag))}}function Cu(e,r){var a=N1(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=L1.bind(null,e,l);l.then(h,h)}})}function In(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=r,w=_;t:for(;w!==null;){switch(w.tag){case 27:if(gs(w.type)){_e=w.stateNode,Rn=!1;break t}break;case 5:_e=w.stateNode,Rn=!1;break t;case 3:case 4:_e=w.stateNode.containerInfo,Rn=!0;break t}w=w.return}if(_e===null)throw Error(s(160));p_(d,_,h),_e=null,Rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)__(r,e),r=r.sibling}var Sr=null;function __(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(r,e),Cn(e),l&4&&(cs(3,e,e.return),Nl(3,e),cs(5,e,e.return));break;case 1:In(r,e),Cn(e),l&512&&(Pe||a===null||Zr(a,a.return)),l&64&&Ti&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Sr;if(In(r,e),Cn(e),l&512&&(Pe||a===null||Zr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[jr]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),cn(d,l,a),d[Ne]=e,De(d),l=d;break t;case"link":var _=_v("link","href",h).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break e}}d=h.createElement(l),cn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=_v("meta","content",h).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break e}}d=h.createElement(l),cn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,De(d),l=d}e.stateNode=l}else vv(h,e.type,e.stateNode);else e.stateNode=yv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,e.type,e.stateNode):yv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ed(e,e.memoizedProps,a.memoizedProps)}break;case 27:In(r,e),Cn(e),l&512&&(Pe||a===null||Zr(a,a.return)),a!==null&&l&4&&Ed(e,e.memoizedProps,a.memoizedProps);break;case 5:if(In(r,e),Cn(e),l&512&&(Pe||a===null||Zr(a,a.return)),e.flags&32){h=e.stateNode;try{xn(h,"")}catch(dt){se(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ed(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(In(r,e),Cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){se(e,e.return,dt)}}break;case 3:if(Gu=null,h=Sr,Sr=Hu(r.containerInfo),In(r,e),Sr=h,Cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(dt){se(e,e.return,dt)}Sd&&(Sd=!1,v_(e));break;case 4:l=Sr,Sr=Hu(e.stateNode.containerInfo),In(r,e),Cn(e),Sr=l;break;case 12:In(r,e),Cn(e);break;case 31:In(r,e),Cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cu(e,l)));break;case 13:In(r,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Du=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cu(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Ti,$=Pe;if(Ti=B||h,Pe=$||N,In(r,e),Pe=$,Ti=B,Cn(e),l&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||N||Ti||Pe||va(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var W=N.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){se(N,N.return,dt)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){se(N,N.return,dt)}}}else if(r.tag===18){if(a===null){N=r;try{var G=N.stateNode;h?lv(G,!0):lv(N.stateNode,!1)}catch(dt){se(N,N.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cu(e,a))));break;case 19:In(r,e),Cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cu(e,l)));break;case 30:break;case 21:break;default:In(r,e),Cn(e)}}function Cn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(e);Iu(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(xn(_,""),a.flags&=-33);var w=Td(e);Iu(e,w,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Td(e);wd(e,B,N);break;default:throw Error(s(161))}}catch($){se(e,e.return,$)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function v_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;v_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Si(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)d_(e,r.alternate,r),r=r.sibling}function va(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:cs(4,r,r.return),va(r);break;case 1:Zr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&l_(r,r.return,a),va(r);break;case 27:zl(r.stateNode);case 26:case 5:Zr(r,r.return),va(r);break;case 22:r.memoizedState===null&&va(r);break;case 30:va(r);break;default:va(r)}e=e.sibling}}function Ai(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(h,d,a),Nl(4,d);break;case 1:if(Ai(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){se(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Xg(N[h],w)}catch(B){se(l,l.return,B)}}a&&_&64&&o_(d),Dl(d,d.return);break;case 27:h_(d);case 26:case 5:Ai(h,d,a),a&&l===null&&_&4&&c_(d),Dl(d,d.return);break;case 12:Ai(h,d,a);break;case 31:Ai(h,d,a),a&&_&4&&g_(h,d);break;case 13:Ai(h,d,a),a&&_&4&&y_(h,d);break;case 22:d.memoizedState===null&&Ai(h,d,a),Dl(d,d.return);break;case 30:break;default:Ai(h,d,a)}r=r.sibling}}function Ad(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&yl(a))}function xd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&yl(e))}function Ar(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b_(e,r,a,l),r=r.sibling}function b_(e,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ar(e,r,a,l),h&2048&&Nl(9,r);break;case 1:Ar(e,r,a,l);break;case 3:Ar(e,r,a,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&yl(e)));break;case 12:if(h&2048){Ar(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){se(r,r.return,N)}}else Ar(e,r,a,l);break;case 31:Ar(e,r,a,l);break;case 13:Ar(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Ar(e,r,a,l):kl(e,r):d._visibility&2?Ar(e,r,a,l):(d._visibility|=2,co(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Ad(_,r);break;case 24:Ar(e,r,a,l),h&2048&&xd(r.alternate,r);break;default:Ar(e,r,a,l)}}function co(e,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,_=r,w=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:co(d,_,w,N,h),Nl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?co(d,_,w,N,h):kl(d,_):($._visibility|=2,co(d,_,w,N,h)),h&&B&2048&&Ad(_.alternate,_);break;case 24:co(d,_,w,N,h),h&&B&2048&&xd(_.alternate,_);break;default:co(d,_,w,N,h)}r=r.sibling}}function kl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,h=l.flags;switch(l.tag){case 22:kl(a,l),h&2048&&Ad(l.alternate,l);break;case 24:kl(a,l),h&2048&&xd(l.alternate,l);break;default:kl(a,l)}r=r.sibling}}var Ol=8192;function uo(e,r,a){if(e.subtreeFlags&Ol)for(e=e.child;e!==null;)E_(e,r,a),e=e.sibling}function E_(e,r,a){switch(e.tag){case 26:uo(e,r,a),e.flags&Ol&&e.memoizedState!==null&&gS(a,Sr,e.memoizedState,e.memoizedProps);break;case 5:uo(e,r,a);break;case 3:case 4:var l=Sr;Sr=Hu(e.stateNode.containerInfo),uo(e,r,a),Sr=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,uo(e,r,a),Ol=l):uo(e,r,a));break;default:uo(e,r,a)}}function T_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Ml(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ke=l,S_(l,e)}T_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)w_(e),e=e.sibling}function w_(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&cs(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Nu(e)):Ml(e);break;default:Ml(e)}}function Nu(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ke=l,S_(l,e)}T_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:cs(8,r,r.return),Nu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nu(r));break;default:Nu(r)}e=e.sibling}}function S_(e,r){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:cs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ke=l;else t:for(a=e;Ke!==null;){l=Ke;var h=l.sibling,d=l.return;if(m_(l),l===a){Ke=null;break t}if(h!==null){h.return=d,Ke=h;break t}Ke=d}}}var D1={getCacheForType:function(e){var r=on(Oe),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return on(Oe).controller.signal}},k1=typeof WeakMap=="function"?WeakMap:Map,Wt=0,he=null,Ut=null,Bt=0,ie=0,Fn=null,us=!1,ho=!1,Rd=!1,xi=0,Te=0,hs=0,ba=0,Id=0,Gn=0,fo=0,Vl=null,Nn=null,Cd=!1,Du=0,A_=0,ku=1/0,Ou=null,fs=null,Be=0,ds=null,mo=null,Ri=0,Nd=0,Dd=null,x_=null,Pl=0,kd=null;function Yn(){return(Wt&2)!==0&&Bt!==0?Bt&-Bt:L.T!==null?Ud():Ko()}function R_(){if(Gn===0)if((Bt&536870912)===0||Yt){var e=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),Gn=e}else Gn=536870912;return e=qn.current,e!==null&&(e.flags|=32),Gn}function Dn(e,r,a){(e===he&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(po(e,0),ms(e,Bt,Gn,!1)),de(e,a),((Wt&2)===0||e!==he)&&(e===he&&((Wt&2)===0&&(ba|=a),Te===4&&ms(e,Bt,Gn,!1)),Jr(e))}function I_(e,r,a){if((Wt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||ee(e,r),h=l?V1(e,r):Md(e,r,!0),d=l;do{if(h===0){ho&&!l&&ms(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!O1(a)){h=Md(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var w=e;h=Vl;var N=w.current.memoizedState.isDehydrated;if(N&&(po(w,_).flags|=256),_=Md(w,_,!1),_!==2){if(Rd&&!N){w.errorRecoveryDisabledLanes|=d,ba|=d,h=4;break t}d=Nn,Nn=h,d!==null&&(Nn===null?Nn=d:Nn.push.apply(Nn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){po(e,0),ms(e,r,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ms(l,r,Gn,!us);break t;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Du+300-tn(),10<h)){if(ms(l,r,Gn,!us),Tt(l,0,!0)!==0)break t;Ri=r,l.timeoutHandle=sv(C_.bind(null,l,a,Nn,Ou,Cd,r,Gn,ba,fo,us,d,"Throttled",-0,0),h);break t}C_(l,a,Nn,Ou,Cd,r,Gn,ba,fo,us,d,null,-0,0)}}break}while(!0);Jr(e)}function C_(e,r,a,l,h,d,_,w,N,B,$,W,q,G){if(e.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_r},E_(r,d,W);var dt=(d&62914560)===d?Du-tn():(d&4194048)===d?A_-tn():0;if(dt=yS(W,dt),dt!==null){Ri=d,e.cancelPendingCommit=dt(j_.bind(null,e,r,d,a,l,h,_,w,N,$,W,null,q,G)),ms(e,d,_,!B);return}}j_(e,r,d,a,l,h,_,w,N)}function O1(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!zn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ms(e,r,a,l){r&=~Id,r&=~ba,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-ge(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Xn(e,a,r)}function Mu(){return(Wt&6)===0?(jl(0),!1):!0}function Od(){if(Ut!==null){if(ie===0)var e=Ut.return;else e=Ut,gi=ha=null,Kf(e),io=null,vl=0,e=Ut;for(;e!==null;)a_(e.alternate,e),e=e.return;Ut=null}}function po(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,W1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ri=0,Od(),he=e,Ut=a=mi(e.current,null),Bt=r,ie=0,Fn=null,us=!1,ho=ee(e,r),Rd=!1,fo=Gn=Id=ba=hs=Te=0,Nn=Vl=null,Cd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-ge(l),d=1<<h;r|=e[h],l&=~d}return xi=r,eu(),a}function N_(e,r){Mt=null,L.H=Rl,r===ro||r===cu?(r=Yg(),ie=3):r===jf?(r=Yg(),ie=4):ie=r===hd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,Ut===null&&(Te=1,wu(e,nr(r,e.current)))}function D_(){var e=qn.current;return e===null?!0:(Bt&4194048)===Bt?ar===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?e===ar:!1}function k_(){var e=L.H;return L.H=Rl,e===null?Rl:e}function O_(){var e=L.A;return L.A=D1,e}function Vu(){Te=4,us||(Bt&4194048)!==Bt&&qn.current!==null||(ho=!0),(hs&134217727)===0&&(ba&134217727)===0||he===null||ms(he,Bt,Gn,!1)}function Md(e,r,a){var l=Wt;Wt|=2;var h=k_(),d=O_();(he!==e||Bt!==r)&&(Ou=null,po(e,r)),r=!1;var _=Te;t:do try{if(ie!==0&&Ut!==null){var w=Ut,N=Fn;switch(ie){case 8:Od(),_=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var B=ie;if(ie=0,Fn=null,go(e,w,N,B),a&&ho){_=0;break t}break;default:B=ie,ie=0,Fn=null,go(e,w,N,B)}}M1(),_=Te;break}catch($){N_(e,$)}while(!0);return r&&e.shellSuspendCounter++,gi=ha=null,Wt=l,L.H=h,L.A=d,Ut===null&&(he=null,Bt=0,eu()),_}function M1(){for(;Ut!==null;)M_(Ut)}function V1(e,r){var a=Wt;Wt|=2;var l=k_(),h=O_();he!==e||Bt!==r?(Ou=null,ku=tn()+500,po(e,r)):ho=ee(e,r);t:do try{if(ie!==0&&Ut!==null){r=Ut;var d=Fn;e:switch(ie){case 1:ie=0,Fn=null,go(e,r,d,1);break;case 2:case 9:if(Fg(d)){ie=0,Fn=null,V_(r);break}r=function(){ie!==2&&ie!==9||he!==e||(ie=7),Jr(e)},d.then(r,r);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Fg(d)?(ie=0,Fn=null,V_(r)):(ie=0,Fn=null,go(e,r,d,7));break;case 5:var _=null;switch(Ut.tag){case 26:_=Ut.memoizedState;case 5:case 27:var w=Ut;if(_?bv(_):w.stateNode.complete){ie=0,Fn=null;var N=w.sibling;if(N!==null)Ut=N;else{var B=w.return;B!==null?(Ut=B,Pu(B)):Ut=null}break e}}ie=0,Fn=null,go(e,r,d,5);break;case 6:ie=0,Fn=null,go(e,r,d,6);break;case 8:Od(),Te=6;break t;default:throw Error(s(462))}}P1();break}catch($){N_(e,$)}while(!0);return gi=ha=null,L.H=l,L.A=h,Wt=a,Ut!==null?0:(he=null,Bt=0,eu(),Te)}function P1(){for(;Ut!==null&&!We();)M_(Ut)}function M_(e){var r=i_(e.alternate,e,xi);e.memoizedProps=e.pendingProps,r===null?Pu(e):Ut=r}function V_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Jy(a,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=Jy(a,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Kf(r);default:a_(a,r),r=Ut=Og(r,xi),r=i_(a,r,xi)}e.memoizedProps=e.pendingProps,r===null?Pu(e):Ut=r}function go(e,r,a,l){gi=ha=null,Kf(r),io=null,vl=0;var h=r.return;try{if(S1(e,h,r,a,Bt)){Te=1,wu(e,nr(a,e.current)),Ut=null;return}}catch(d){if(h!==null)throw Ut=h,d;Te=1,wu(e,nr(a,e.current)),Ut=null;return}r.flags&32768?(Yt||l===1?e=!0:ho||(Bt&536870912)!==0?e=!1:(us=e=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P_(r,e)):Pu(r)}function Pu(e){var r=e;do{if((r.flags&32768)!==0){P_(r,us);return}e=r.return;var a=R1(r.alternate,r,xi);if(a!==null){Ut=a;return}if(r=r.sibling,r!==null){Ut=r;return}Ut=r=e}while(r!==null);Te===0&&(Te=5)}function P_(e,r){do{var a=I1(e.alternate,e);if(a!==null){a.flags&=32767,Ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=a}while(e!==null);Te=6,Ut=null}function j_(e,r,a,l,h,d,_,w,N){e.cancelPendingCommit=null;do ju();while(Be!==0);if((Wt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Tf,dn(e,a,d,_,w,N),e===he&&(Ut=he=null,Bt=0),mo=r,ds=e,Ri=a,Nd=d,Dd=h,x_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(dr,function(){return q_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=it.p,it.p=2,_=Wt,Wt|=4;try{C1(e,r,a)}finally{Wt=_,it.p=h,L.T=l}}Be=1,U_(),L_(),z_()}}function U_(){if(Be===1){Be=0;var e=ds,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=it.p;it.p=2;var h=Wt;Wt|=4;try{__(r,e);var d=Yd,_=Sg(e.containerInfo),w=d.focusedElem,N=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&wg(w.ownerDocument.documentElement,w)){if(N!==null&&yf(w)){var B=N.start,$=N.end;if($===void 0&&($=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min($,w.value.length);else{var W=w.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),dt=w.textContent.length,St=Math.min(N.start,dt),ce=N.end===void 0?St:Math.min(N.end,dt);!G.extend&&St>ce&&(_=ce,ce=St,St=_);var j=Tg(w,St),O=Tg(w,ce);if(j&&O&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var z=W.createRange();z.setStart(j.node,j.offset),G.removeAllRanges(),St>ce?(G.addRange(z),G.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),G.addRange(z))}}}}for(W=[],G=w;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var J=W[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ku=!!Gd,Yd=Gd=null}finally{Wt=h,it.p=l,L.T=a}}e.current=r,Be=2}}function L_(){if(Be===2){Be=0;var e=ds,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=it.p;it.p=2;var h=Wt;Wt|=4;try{d_(e,r.alternate,r)}finally{Wt=h,it.p=l,L.T=a}}Be=3}}function z_(){if(Be===4||Be===3){Be=0,fr();var e=ds,r=mo,a=Ri,l=x_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Be=5:(Be=0,mo=ds=null,B_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(fs=null),rn(a),r=r.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Vn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=L.T,h=it.p,it.p=2,L.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{L.T=r,it.p=h}}(Ri&3)!==0&&ju(),Jr(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===kd?Pl++:(Pl=0,kd=e):Pl=0,jl(0)}}function B_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,yl(r)))}function ju(){return U_(),L_(),z_(),q_()}function q_(){if(Be!==5)return!1;var e=ds,r=Nd;Nd=0;var a=rn(Ri),l=L.T,h=it.p;try{it.p=32>a?32:a,L.T=null,a=Dd,Dd=null;var d=ds,_=Ri;if(Be=0,mo=ds=null,Ri=0,(Wt&6)!==0)throw Error(s(331));var w=Wt;if(Wt|=4,w_(d.current),b_(d,d.current,_,a),Wt=w,jl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Vn,d)}catch{}return!0}finally{it.p=h,L.T=l,B_(e,r)}}function H_(e,r,a){r=nr(a,r),r=ud(e.stateNode,r,2),e=as(e,r,2),e!==null&&(de(e,2),Jr(e))}function se(e,r,a){if(e.tag===3)H_(e,e,a);else for(;r!==null;){if(r.tag===3){H_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){e=nr(a,e),a=Fy(2),l=as(r,a,2),l!==null&&(Gy(a,l,r,e),de(l,2),Jr(l));break}}r=r.return}}function Vd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new k1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Rd=!0,h.add(a),e=j1.bind(null,e,r,a),r.then(e,e))}function j1(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,he===e&&(Bt&a)===a&&(Te===4||Te===3&&(Bt&62914560)===Bt&&300>tn()-Du?(Wt&2)===0&&po(e,0):Id|=a,fo===Bt&&(fo=0)),Jr(e)}function F_(e,r){r===0&&(r=Ye()),e=la(e,r),e!==null&&(de(e,r),Jr(e))}function U1(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),F_(e,a)}function L1(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),F_(e,a)}function z1(e,r){return we(e,r)}var Uu=null,yo=null,Pd=!1,Lu=!1,jd=!1,ps=0;function Jr(e){e!==yo&&e.next===null&&(yo===null?Uu=yo=e:yo=yo.next=e),Lu=!0,Pd||(Pd=!0,q1())}function jl(e,r){if(!jd&&Lu){jd=!0;do for(var a=!1,l=Uu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Bt,d=Tt(l,l===he?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ee(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);jd=!1}}function B1(){G_()}function G_(){Lu=Pd=!1;var e=0;ps!==0&&J1()&&(e=ps);for(var r=tn(),a=null,l=Uu;l!==null;){var h=l.next,d=Y_(l,r);d===0?(l.next=null,a===null?Uu=h:a.next=h,h===null&&(yo=a)):(a=l,(e!==0||(d&3)!==0)&&(Lu=!0)),l=h}Be!==0&&Be!==5||jl(e),ps!==0&&(ps=0)}function Y_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ge(d),w=1<<_,N=h[_];N===-1?((w&a)===0||(w&l)!==0)&&(h[_]=Ce(w,r)):N<=r&&(e.expiredLanes|=w),d&=~w}if(r=he,a=Bt,a=Tt(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&kr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ee(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&kr(l),rn(a)){case 2:case 8:a=Qs;break;case 32:a=dr;break;case 268435456:a=mr;break;default:a=dr}return l=$_.bind(null,e),a=we(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&kr(l),e.callbackPriority=2,e.callbackNode=null,2}function $_(e,r){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ju()&&e.callbackNode!==a)return null;var l=Bt;return l=Tt(e,e===he?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(I_(e,l,r),Y_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?$_.bind(null,e):null)}function Q_(e,r){if(ju())return null;I_(e,r,!0)}function q1(){tS(function(){(Wt&6)!==0?we(Or,B1):G_()})}function Ud(){if(ps===0){var e=eo;e===0&&(e=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),ps=e}return ps}function K_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:za(""+e)}function X_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function H1(e,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=K_((h[$e]||null).action),_=l.submitter;_&&(r=(r=_[$e]||null)?K_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Gr("action","action",null,l,h);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var N=_?X_(h,_):new FormData(h);id(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=_?X_(h,_):new FormData(h),id(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ld=0;Ld<Ef.length;Ld++){var zd=Ef[Ld],F1=zd.toLowerCase(),G1=zd[0].toUpperCase()+zd.slice(1);wr(F1,"on"+G1)}wr(Rg,"onAnimationEnd"),wr(Ig,"onAnimationIteration"),wr(Cg,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(o1,"onTransitionRun"),wr(l1,"onTransitionStart"),wr(c1,"onTransitionCancel"),wr(Ng,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Z_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,B=w.currentTarget;if(w=w.listener,N!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=B;try{d(h)}catch($){tu($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,B=w.currentTarget,w=w.listener,N!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=B;try{d(h)}catch($){tu($)}h.currentTarget=null,d=N}}}}function Lt(e,r){var a=r[Va];a===void 0&&(a=r[Va]=new Set);var l=e+"__bubble";a.has(l)||(J_(r,e,2,!1),a.add(l))}function Bd(e,r,a){var l=0;r&&(l|=4),J_(a,e,l,r)}var zu="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[zu]){e[zu]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(Y1.has(a)||Bd(a,!1,e),Bd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[zu]||(r[zu]=!0,Bd("selectionchange",!1,r))}}function J_(e,r,a,l){switch(Rv(r)){case 2:var h=bS;break;case 8:h=ES;break;default:h=rm}a=h.bind(null,r,a,e),h=void 0,!ta||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function Hd(e,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;w!==null;){if(_=Ur(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}w=w.parentNode}}l=l.return}Xi(function(){var B=d,$=Jn(a),W=[];t:{var q=Dg.get(e);if(q!==void 0){var G=Gr,dt=e;switch(e){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":G=Zc;break;case"focusin":dt="focus",G=ia;break;case"focusout":dt="blur",G=ia;break;case"beforeblur":case"afterblur":G=ia;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Rg:case Ig:case Cg:G=Fc;break;case Ng:G=S;break;case"scroll":case"scrollend":G=ll;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=di;break;case"toggle":case"beforetoggle":G=Ot}var St=(r&4)!==0,ce=!St&&(e==="scroll"||e==="scrollend"),j=St?q!==null?q+"Capture":null:q;St=[];for(var O=B,z;O!==null;){var J=O;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||j===null||(J=vr(O,j),J!=null&&St.push(Ll(O,J,z))),ce)break;O=O.return}0<St.length&&(q=new G(q,dt,null,a,$),W.push({event:q,listeners:St}))}}if((r&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&a!==sl&&(dt=a.relatedTarget||a.fromElement)&&(Ur(dt)||dt[Pr]))break t;if((G||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,G?(dt=a.relatedTarget||a.toElement,G=B,dt=dt?Ur(dt):null,dt!==null&&(ce=c(dt),St=dt.tag,dt!==ce||St!==5&&St!==27&&St!==6)&&(dt=null)):(G=null,dt=B),G!==dt)){if(St=cl,J="onMouseLeave",j="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(St=di,J="onPointerLeave",j="onPointerEnter",O="pointer"),ce=G==null?q:Un(G),z=dt==null?q:Un(dt),q=new St(J,O+"leave",G,a,$),q.target=ce,q.relatedTarget=z,J=null,Ur($)===B&&(St=new St(j,O+"enter",dt,a,$),St.target=z,St.relatedTarget=ce,J=St),ce=J,G&&dt)e:{for(St=$1,j=G,O=dt,z=0,J=j;J;J=St(J))z++;J=0;for(var vt=O;vt;vt=St(vt))J++;for(;0<z-J;)j=St(j),z--;for(;0<J-z;)O=St(O),J--;for(;z--;){if(j===O||O!==null&&j===O.alternate){St=j;break e}j=St(j),O=St(O)}St=null}else St=null;G!==null&&W_(W,q,G,St,!1),dt!==null&&ce!==null&&W_(W,ce,dt,St,!0)}}t:{if(q=B?Un(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Xt=gg;else if(mg(q))if(yg)Xt=i1;else{Xt=n1;var gt=e1}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&La(B.elementType)&&(Xt=gg):Xt=r1;if(Xt&&(Xt=Xt(e,B))){pg(W,Xt,a,$);break t}gt&&gt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&nl(q,"number",q.value)}switch(gt=B?Un(B):window,e){case"focusin":(mg(gt)||gt.contentEditable==="true")&&($a=gt,_f=B,ml=null);break;case"focusout":ml=_f=$a=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,Ag(W,a,$);break;case"selectionchange":if(a1)break;case"keydown":case"keyup":Ag(W,a,$)}var Vt;if(Jt)t:{switch(e){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Ya?sa(e,a)&&(qt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(qt="onCompositionStart");qt&&(Qr&&a.locale!=="ko"&&(Ya||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Ya&&(Vt=ol()):(Fr=$,al="value"in Fr?Fr.value:Fr.textContent,Ya=!0)),gt=Bu(B,qt),0<gt.length&&(qt=new $r(qt,e,null,a,$),W.push({event:qt,listeners:gt}),Vt?qt.data=Vt:(Vt=Ga(a),Vt!==null&&(qt.data=Vt)))),(Vt=tr?Zw(e,a):Jw(e,a))&&(qt=Bu(B,"onBeforeInput"),0<qt.length&&(gt=new $r("onBeforeInput","beforeinput",null,a,$),W.push({event:gt,listeners:qt}),gt.data=Vt)),H1(W,e,B,a,$)}Z_(W,r)})}function Ll(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Bu(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vr(e,a),h!=null&&l.unshift(Ll(e,h,d)),h=vr(e,r),h!=null&&l.push(Ll(e,h,d))),e.tag===3)return l;e=e.return}return[]}function $1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function W_(e,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var w=a,N=w.alternate,B=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||B===null||(N=B,h?(B=vr(a,d),B!=null&&_.unshift(Ll(a,B,N))):h||(B=vr(a,d),B!=null&&_.push(Ll(a,B,N)))),a=a.return}_.length!==0&&e.push({event:r,listeners:_})}var Q1=/\r\n?/g,K1=/\u0000|\uFFFD/g;function tv(e){return(typeof e=="string"?e:""+e).replace(Q1,`
`).replace(K1,"")}function ev(e,r){return r=tv(r),tv(e)===r}function le(e,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(e,""+l);break;case"className":Ln(e,"class",l);break;case"tabIndex":Ln(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(e,a,l);break;case"style":il(e,l,d);break;case"data":if(r!=="object"){Ln(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=za(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&le(e,r,"name",h.name,h,null),le(e,r,"formEncType",h.formEncType,h,null),le(e,r,"formMethod",h.formMethod,h,null),le(e,r,"formTarget",h.formTarget,h,null)):(le(e,r,"encType",h.encType,h,null),le(e,r,"method",h.method,h,null),le(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=za(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=_r);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=za(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),ja(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ja(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bc.get(a)||a,ja(e,a,l))}}function Fd(e,r,a,l,h,d){switch(a){case"style":il(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?xn(e,l):(typeof l=="number"||typeof l=="bigint")&&xn(e,""+l);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=_r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=e[$e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ja(e,a,l)}}}function cn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:le(e,r,d,_,a,null)}}h&&le(e,r,"srcSet",a.srcSet,a,null),l&&le(e,r,"src",a.src,a,null);return;case"input":Lt("invalid",e);var w=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:le(e,r,l,$,a,null)}}Uc(e,d,w,N,B,_,h,!1);return;case"select":Lt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:le(e,r,h,w,a,null)}r=d,a=_,e.multiple=!!l,r!=null?Yi(e,!!l,r,!1):a!=null&&Yi(e,!!l,a,!0);return;case"textarea":Lt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:le(e,r,_,w,a,null)}$i(e,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:le(e,r,N,l,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Lt(Ul[l],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:le(e,r,B,l,a,null)}return;default:if(La(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Fd(e,r,$,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&le(e,r,w,l,a,null))}function X1(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,w=null,N=null,B=null,$=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(G)||le(e,r,G,null,l,W)}}for(var q in l){var G=l[q];if(W=a[q],l.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":_=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==W&&le(e,r,q,G,l,W)}}Ua(e,_,w,N,B,$,d,h);return;case"select":G=_=w=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||le(e,r,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==N&&le(e,r,h,d,l,N)}r=w,a=_,l=G,q!=null?Yi(e,!!a,q,!1):!!l!=!!a&&(r!=null?Yi(e,!!a,r,!0):Yi(e,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:le(e,r,w,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&le(e,r,_,h,l,d)}Lc(e,q,G);return;case"option":for(var dt in a)if(q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:le(e,r,dt,null,l,q)}for(N in l)if(q=l[N],G=a[N],l.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:le(e,r,N,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)q=a[St],a.hasOwnProperty(St)&&q!=null&&!l.hasOwnProperty(St)&&le(e,r,St,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:le(e,r,B,q,l,G)}return;default:if(La(r)){for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!==void 0&&!l.hasOwnProperty(ce)&&Fd(e,r,ce,void 0,l,q);for($ in l)q=l[$],G=a[$],!l.hasOwnProperty($)||q===G||q===void 0&&G===void 0||Fd(e,r,$,q,l,G);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&le(e,r,j,null,l,q);for(W in l)q=l[W],G=a[W],!l.hasOwnProperty(W)||q===G||q==null&&G==null||le(e,r,W,q,l,G)}function nv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,w=h.duration;if(d&&w&&nv(_)){for(_=0,w=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>w)break;var $=N.transferSize,W=N.initiatorType;$&&nv(W)&&(N=N.responseEnd,_+=$*(N<w?1:(w-B)/(N-B)))}if(--l,r+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gd=null,Yd=null;function qu(e){return e.nodeType===9?e:e.ownerDocument}function rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function $d(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qd=null;function J1(){var e=window.event;return e&&e.type==="popstate"?e===Qd?!1:(Qd=e,!0):(Qd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,W1=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(e){return av.resolve(null).then(e).catch(eS)}:sv;function eS(e){setTimeout(function(){throw e})}function gs(e){return e==="head"}function ov(e,r){var a=r,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Eo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[jr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&zl(e.ownerDocument.body);a=h}while(a);Eo(r)}function lv(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Kd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function nS(e,r,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[jr])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=or(e.nextSibling),e===null)break}return null}function rS(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=or(e.nextSibling),e===null))return null;return e}function cv(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=or(e.nextSibling),e===null))return null;return e}function Xd(e){return e.data==="$?"||e.data==="$~"}function Zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iS(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function or(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Jd=null;function uv(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return or(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function hv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function fv(e,r,a){switch(r=qu(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function zl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Pa(e)}var lr=new Map,dv=new Set;function Hu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ii=it.d;it.d={f:sS,r:aS,D:oS,C:lS,L:cS,m:uS,X:fS,S:hS,M:dS};function sS(){var e=Ii.f(),r=Mu();return e||r}function aS(e){var r=Zn(e);r!==null&&r.tag===5&&r.type==="form"?Ny(r):Ii.r(e)}var _o=typeof document>"u"?null:document;function mv(e,r,a){var l=_o;if(l&&typeof r=="string"&&r){var h=An(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),e={rel:e,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),cn(r,"link",e),De(r),l.head.appendChild(r)))}}function oS(e){Ii.D(e),mv("dns-prefetch",e,null)}function lS(e,r){Ii.C(e,r),mv("preconnect",e,r)}function cS(e,r,a){Ii.L(e,r,a);var l=_o;if(l&&e&&r){var h='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(e)+'"]';var d=h;switch(r){case"style":d=vo(e);break;case"script":d=bo(e)}lr.has(d)||(e=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),lr.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(Bl(d))||r==="script"&&l.querySelector(ql(d))||(r=l.createElement("link"),cn(r,"link",e),De(r),l.head.appendChild(r)))}}function uS(e,r){Ii.m(e,r);var a=_o;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=bo(e)}if(!lr.has(d)&&(e=v({rel:"modulepreload",href:e},r),lr.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(d)))return}l=a.createElement("link"),cn(l,"link",e),De(l),a.head.appendChild(l)}}}function hS(e,r,a){Ii.S(e,r,a);var l=_o;if(l&&e){var h=Lr(l).hoistableStyles,d=vo(e);r=r||"default";var _=h.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Bl(d)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":r},a),(a=lr.get(d))&&Wd(e,a);var N=_=l.createElement("link");De(N),cn(N,"link",e),N._p=new Promise(function(B,$){N.onload=B,N.onerror=$}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fu(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},h.set(d,_)}}}function fS(e,r){Ii.X(e,r);var a=_o;if(a&&e){var l=Lr(a).hoistableScripts,h=bo(e),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(e=v({src:e,async:!0},r),(r=lr.get(h))&&tm(e,r),d=a.createElement("script"),De(d),cn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dS(e,r){Ii.M(e,r);var a=_o;if(a&&e){var l=Lr(a).hoistableScripts,h=bo(e),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(e=v({src:e,async:!0,type:"module"},r),(r=lr.get(h))&&tm(e,r),d=a.createElement("script"),De(d),cn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(e,r,a,l){var h=(h=_t.current)?Hu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=vo(a.href),a=Lr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=vo(a.href);var d=Lr(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Bl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),lr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},lr.set(e,a),d||mS(h,e,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(a),a=Lr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function vo(e){return'href="'+An(e)+'"'}function Bl(e){return'link[rel="stylesheet"]['+e+"]"}function gv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function mS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),cn(r,"link",a),De(r),e.head.appendChild(r))}function bo(e){return'[src="'+An(e)+'"]'}function ql(e){return"script[async]"+e}function yv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return r.instance=l,De(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),De(l),cn(l,"style",h),Fu(l,a.precedence,e),r.instance=l;case"stylesheet":h=vo(a.href);var d=e.querySelector(Bl(h));if(d)return r.state.loading|=4,r.instance=d,De(d),d;l=gv(a),(h=lr.get(h))&&Wd(l,h),d=(e.ownerDocument||e).createElement("link"),De(d);var _=d;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),cn(d,"link",l),r.state.loading|=4,Fu(d,a.precedence,e),r.instance=d;case"script":return d=bo(a.src),(h=e.querySelector(ql(d)))?(r.instance=h,De(h),h):(l=a,(h=lr.get(d))&&(l=v({},a),tm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),De(h),cn(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fu(l,a.precedence,e));return r.instance}function Fu(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Wd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function tm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Gu=null;function _v(e,r,a){if(Gu===null){var l=new Map,h=Gu=new Map;h.set(a,l)}else h=Gu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[jr]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=e+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function vv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function pS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gS(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=vo(l.href),d=r.querySelector(Bl(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Yu.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,De(d);return}d=r.ownerDocument||r,l=gv(l),(h=lr.get(h))&&Wd(l,h),d=d.createElement("link"),De(d);var _=d;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),cn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Yu.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var em=0;function yS(e,r){return e.stylesheets&&e.count===0&&Qu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Qu(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&em===0&&(em=62500*Z1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qu(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>em?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $u=null;function Qu(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$u=new Map,r.forEach(_S,e),$u=null,Yu.call(e))}function _S(e,r){if(!(r.state.loading&4)){var a=$u.get(e);if(a)var l=a.get(null);else{a=new Map,$u.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Yu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var Hl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function vS(e,r,a,l,h,d,_,w,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=En(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=En(0),this.hiddenUpdates=En(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ev(e,r,a,l,h,d,_,w,N,B,$,W){return e=new vS(e,r,a,_,N,B,$,W,w),r=1,d===!0&&(r|=24),d=Bn(3,null,null,r),e.current=d,d.stateNode=e,r=Mf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Uf(d),e}function Tv(e){return e?(e=Xa,e):Xa}function wv(e,r,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=ss(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=as(e,l,r),a!==null&&(Dn(a,e,r),El(a,e,r))}function Sv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function nm(e,r){Sv(e,r),(e=e.alternate)&&Sv(e,r)}function Av(e){if(e.tag===13||e.tag===31){var r=la(e,67108864);r!==null&&Dn(r,e,67108864),nm(e,67108864)}}function xv(e){if(e.tag===13||e.tag===31){var r=Yn();r=Vr(r);var a=la(e,r);a!==null&&Dn(a,e,r),nm(e,r)}}var Ku=!0;function bS(e,r,a,l){var h=L.T;L.T=null;var d=it.p;try{it.p=2,rm(e,r,a,l)}finally{it.p=d,L.T=h}}function ES(e,r,a,l){var h=L.T;L.T=null;var d=it.p;try{it.p=8,rm(e,r,a,l)}finally{it.p=d,L.T=h}}function rm(e,r,a,l){if(Ku){var h=im(l);if(h===null)Hd(e,r,l,Xu,a),Iv(e,l);else if(wS(h,e,r,a,l))l.stopPropagation();else if(Iv(e,l),r&4&&-1<TS.indexOf(e)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-ge(_);w.entanglements[1]|=N,_&=~N}Jr(d),(Wt&6)===0&&(ku=tn()+500,jl(0))}}break;case 31:case 13:w=la(d,2),w!==null&&Dn(w,d,2),Mu(),nm(d,2)}if(d=im(l),d===null&&Hd(e,r,l,Xu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(e,r,l,null,a)}}function im(e){return e=Jn(e),sm(e)}var Xu=null;function sm(e){if(Xu=null,e=Ur(e),e!==null){var r=c(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=f(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Xu=e,null}function Rv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case Or:return 2;case Qs:return 8;case dr:case Ks:return 32;case mr:return 268435456;default:return 32}default:return 32}}var am=!1,ys=null,_s=null,vs=null,Fl=new Map,Gl=new Map,bs=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(e,r){switch(e){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(r.pointerId)}}function Yl(e,r,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&Av(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function wS(e,r,a,l,h){switch(r){case"focusin":return ys=Yl(ys,e,r,a,l,h),!0;case"dragenter":return _s=Yl(_s,e,r,a,l,h),!0;case"mouseover":return vs=Yl(vs,e,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Fl.set(d,Yl(Fl.get(d)||null,e,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Gl.set(d,Yl(Gl.get(d)||null,e,r,a,l,h)),!0}return!1}function Cv(e){var r=Ur(e.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){e.blockedOn=r,gr(e.priority,function(){xv(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,gr(e.priority,function(){xv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=im(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);sl=l,a.target.dispatchEvent(l),sl=null}else return r=Zn(a),r!==null&&Av(r),e.blockedOn=a,!1;r.shift()}return!0}function Nv(e,r,a){Zu(e)&&a.delete(r)}function SS(){am=!1,ys!==null&&Zu(ys)&&(ys=null),_s!==null&&Zu(_s)&&(_s=null),vs!==null&&Zu(vs)&&(vs=null),Fl.forEach(Nv),Gl.forEach(Nv)}function Ju(e,r){e.blockedOn===r&&(e.blockedOn=null,am||(am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,SS)))}var Wu=null;function Dv(e){Wu!==e&&(Wu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wu===e&&(Wu=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=Zn(a);d!==null&&(e.splice(r,3),r-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Eo(e){function r(N){return Ju(N,e)}ys!==null&&Ju(ys,e),_s!==null&&Ju(_s,e),vs!==null&&Ju(vs,e),Fl.forEach(r),Gl.forEach(r);for(var a=0;a<bs.length;a++){var l=bs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<bs.length&&(a=bs[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&bs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[$e]||null;if(typeof d=="function")_||Dv(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[$e]||null)w=_.formAction;else if(sm(h)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Dv(a)}}}function kv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function om(e){this._internalRoot=e}th.prototype.render=om.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Yn();wv(a,l,e,r,null,null)},th.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;wv(e.current,2,null,e,null,null),Mu(),r[Pr]=null}};function th(e){this._internalRoot=e}th.prototype.unstable_scheduleHydration=function(e){if(e){var r=Ko();e={blockedOn:null,target:e,priority:r};for(var a=0;a<bs.length&&r!==0&&r<bs[a].priority;a++);bs.splice(a,0,e),a===0&&Cv(e)}};var Ov=t.version;if(Ov!=="19.2.0")throw Error(s(527,Ov,"19.2.0"));it.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var AS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Vn=eh.inject(AS),ze=eh}catch{}}return Ql.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",h=zy,d=By,_=qy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Ev(e,1,!1,null,null,a,l,null,h,d,_,kv),e[Pr]=r.current,qd(e),new om(r)},Ql.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=zy,_=By,w=qy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=Ev(e,1,!0,r,a??null,l,h,N,d,_,w,kv),r.context=Tv(null),a=r.current,l=Yn(),l=Vr(l),h=ss(l),h.callback=null,as(a,h,l),a=l,r.current.lanes=a,de(r,a),Jr(r),e[Pr]=r.current,qd(e),new th(r)},Ql.version="19.2.0",Ql}var Hv;function VS(){if(Hv)return cm.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cm.exports=MS(),cm.exports}var PS=VS();function jS(i,t){if(i instanceof RegExp)return{keys:!1,pattern:i};var n,s,o,c,f=[],m="",p=i.split("/");for(p[0]||p.shift();o=p.shift();)n=o[0],n==="*"?(f.push(n),m+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=o.indexOf("?",1),c=o.indexOf(".",1),f.push(o.substring(1,~s?s:~c?c:o.length)),m+=~s&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(m+=(~s?"?":"")+"\\"+o.substring(c))):m+="/"+o;return{keys:f,pattern:new RegExp("^"+m+(t?"(?=$|/)":"/?$"),"i")}}var at=Gh();const st=qb(at),Fb=RS({__proto__:null,default:st},[at]);var mm={exports:{}},pm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function US(){if(Fv)return pm;Fv=1;var i=Gh();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,s=i.useState,o=i.useEffect,c=i.useLayoutEffect,f=i.useDebugValue;function m(v,x){var M=x(),H=s({inst:{value:M,getSnapshot:x}}),X=H[0].inst,Q=H[1];return c(function(){X.value=M,X.getSnapshot=x,p(X)&&Q({inst:X})},[v,M,x]),o(function(){return p(X)&&Q({inst:X}),v(function(){p(X)&&Q({inst:X})})},[v]),f(M),M}function p(v){var x=v.getSnapshot;v=v.value;try{var M=x();return!n(v,M)}catch{return!0}}function g(v,x){return x()}var E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:m;return pm.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:E,pm}var Gv;function LS(){return Gv||(Gv=1,mm.exports=US()),mm.exports}var zS=LS();const BS=Fb.useInsertionEffect,qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HS=qS?at.useLayoutEffect:at.useEffect,FS=BS||HS,Gb=i=>{const t=at.useRef([i,(...n)=>t[0](...n)]).current;return FS(()=>{t[0]=i}),t[1]},GS="popstate",dp="pushState",mp="replaceState",YS="hashchange",Yv=[GS,dp,mp,YS],$S=i=>{for(const t of Yv)addEventListener(t,i);return()=>{for(const t of Yv)removeEventListener(t,i)}},Yb=(i,t)=>zS.useSyncExternalStore($S,i,t),QS=()=>location.search,KS=({ssrSearch:i=""}={})=>Yb(QS,()=>i),$v=()=>location.pathname,XS=({ssrPath:i}={})=>Yb($v,i?()=>i:$v),ZS=(i,{replace:t=!1,state:n=null}={})=>history[t?mp:dp](n,"",i),JS=(i={})=>[XS(i),ZS],Qv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Qv]>"u"){for(const i of[dp,mp]){const t=history[i];history[i]=function(){const n=t.apply(this,arguments),s=new Event(i);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,Qv,{value:!0})}const WS=(i,t)=>t.toLowerCase().indexOf(i.toLowerCase())?"~"+t:t.slice(i.length)||"/",$b=(i="")=>i==="/"?"":i,tA=(i,t)=>i[0]==="~"?i.slice(1):$b(t)+i,eA=(i="",t)=>WS(Kv($b(i)),Kv(t)),Kv=i=>{try{return decodeURI(i)}catch{return i}},Qb={hook:JS,searchHook:KS,parser:jS,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:i=>i},Kb=at.createContext(Qb),bc=()=>at.useContext(Kb),Xb={},Zb=at.createContext(Xb),nA=()=>at.useContext(Zb),pp=i=>{const[t,n]=i.hook(i);return[eA(i.base,t),Gb((s,o)=>n(tA(s,i.base),o))]},Cr=()=>pp(bc()),Jb=(i,t,n,s)=>{const{pattern:o,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:i(t||"*",s),f=o.exec(n)||[],[m,...p]=f;return m!==void 0?[!0,(()=>{const g=c!==!1?Object.fromEntries(c.map((v,x)=>[v,p[x]])):f.groups;let E={...p};return g&&Object.assign(E,g),E})(),...s?[m]:[]]:[!1,null]},rA=i=>Jb(bc().parser,i,Cr()[0]),Wb=({children:i,...t})=>{const n=bc(),s=t.hook?Qb:n;let o=s;const[c,f]=t.ssrPath?.split("?")??[];f&&(t.ssrSearch=f,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let m=at.useRef({}),p=m.current,g=p;for(let E in s){const v=E==="base"?s[E]+(t[E]||""):t[E]||s[E];p===g&&v!==g[E]&&(m.current=g={...g}),g[E]=v,v!==s[E]&&(o=g)}return at.createElement(Kb.Provider,{value:o,children:i})},Xv=({children:i,component:t},n)=>t?at.createElement(t,{params:n}):typeof i=="function"?i(n):i,iA=i=>{let t=at.useRef(Xb),n=t.current;for(const s in i)i[s]!==n[s]&&(n=i);return Object.keys(i).length===0&&(n=i),t.current=n},Wr=({path:i,nest:t,match:n,...s})=>{const o=bc(),[c]=pp(o),[f,m,p]=n??Jb(o.parser,i,c,t),g=iA({...nA(),...m});if(!f)return null;const E=p?at.createElement(Wb,{base:p},Xv(s,g)):Xv(s,g);return at.createElement(Zb.Provider,{value:g,children:E})};at.forwardRef((i,t)=>{const n=bc(),[s,o]=pp(n),{to:c="",href:f=c,onClick:m,asChild:p,children:g,className:E,replace:v,state:x,...M}=i,H=Gb(Q=>{Q.ctrlKey||Q.metaKey||Q.altKey||Q.shiftKey||Q.button!==0||(m?.(Q),Q.defaultPrevented||(Q.preventDefault(),o(f,i)))}),X=n.hrefs(f[0]==="~"?f.slice(1):n.base+f,n);return p&&at.isValidElement(g)?at.cloneElement(g,{onClick:H,href:X}):at.createElement("a",{...M,onClick:H,href:X,className:E?.call?E(s===f):E,children:g,ref:t})});const sA="modulepreload",aA=function(i){return"/SocialSphere/"+i},Zv={},oA=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let g=function(E){return Promise.all(E.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var f=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");o=g(n.map(E=>{if(E=aA(E),E in Zv)return;Zv[E]=!0;const v=E.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${x}`))return;const M=document.createElement("link");if(M.rel=v?"stylesheet":sA,v||(M.as="script"),M.crossOrigin="",M.href=E,p&&M.setAttribute("nonce",p),document.head.appendChild(M),v)return new Promise((H,X)=>{M.addEventListener("load",H),M.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return o.then(m=>{for(const p of m||[])p.status==="rejected"&&c(p.reason);return t().catch(c)})},Jv=i=>{let t;const n=new Set,s=(g,E)=>{const v=typeof g=="function"?g(t):g;if(!Object.is(v,t)){const x=t;t=E??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(M=>M(t,x))}},o=()=>t,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=t=i(s,o,m);return m},lA=(i=>i?Jv(i):Jv),cA=i=>i;function uA(i,t=cA){const n=st.useSyncExternalStore(i.subscribe,st.useCallback(()=>t(i.getState()),[i,t]),st.useCallback(()=>t(i.getInitialState()),[i,t]));return st.useDebugValue(n),n}const Wv=i=>{const t=lA(i),n=s=>uA(t,s);return Object.assign(n,t),n},hA=(i=>i?Wv(i):Wv),fA=()=>{};var t0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},dA=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],f=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=c>>2,v=(c&3)<<4|m>>4;let x=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(x=64)),s.push(n[E],n[v],n[x],n[M])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(tE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):dA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const v=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||g==null||v==null)throw new mA;const x=c<<2|m>>4;if(s.push(x),g!==64){const M=m<<4&240|g>>2;if(s.push(M),v!==64){const H=g<<6&192|v;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class mA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(i){const t=tE(i);return eE.encodeByteArray(t,!0)},Sh=function(i){return pA(i).replace(/\./g,"")},nE=function(i){try{return eE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=()=>gA().__FIREBASE_DEFAULTS__,_A=()=>{if(typeof process>"u"||typeof t0>"u")return;const i=t0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},vA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&nE(i[1]);return t&&JSON.parse(t)},Yh=()=>{try{return fA()||yA()||_A()||vA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rE=i=>Yh()?.emulatorHosts?.[i],bA=i=>{const t=rE(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},iE=()=>Yh()?.config,sE=i=>Yh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const rc={};function wA(){const i={prod:[],emulator:[]};for(const t of Object.keys(rc))rc[t]?i.emulator.push(t):i.prod.push(t);return i}function SA(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let e0=!1;function oE(i,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||rc[i]===t||rc[i]||e0)return;rc[i]=t;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=wA().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,M){x.setAttribute("width","24"),x.setAttribute("id",M),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{e0=!0,f()},x}function E(x,M){x.setAttribute("id",M),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=SA(s),M=n("text"),H=document.getElementById(M)||document.createElement("span"),X=n("learnmore"),Q=document.getElementById(X)||document.createElement("a"),Z=n("preprendIcon"),ut=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const lt=x.element;m(lt),E(Q,X);const Et=g();p(ut,Z),lt.append(ut,H,Q,Et),document.body.appendChild(lt)}c?(H.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function xA(){const i=Yh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function CA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const i=_n();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function DA(){return!xA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class Bi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=MA,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?VA(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Bi(o,m,s)}}function VA(i,t){return i.replace(PA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const PA=/\{\$([^}]+)}/g;function jA(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function xa(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=i[o],f=t[o];if(n0(c)&&n0(f)){if(!xa(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function n0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Zl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function Jl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function UA(i,t){const n=new LA(i,t);return n.subscribe.bind(n)}class LA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(i){return i&&i._delegate?i._delegate:i}class Ra{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new EA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HA(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(i){return i===Ta?void 0:i}function HA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const GA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},YA=Ht.INFO,$A={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},QA=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=$A[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gp{constructor(t){this.name=t,this._logLevel=YA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const KA=(i,t)=>t.some(n=>i instanceof n);let r0,i0;function XA(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,Mm=new WeakMap,cE=new WeakMap,ym=new WeakMap,yp=new WeakMap;function JA(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Cs(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&lE.set(n,i)}).catch(()=>{}),yp.set(t,i),t}function WA(i){if(Mm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Mm.set(i,t)}let Vm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Mm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||cE.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function tx(i){Vm=i(Vm)}function ex(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(_m(this),t,...n);return cE.set(s,t.sort?t.sort():[t]),Cs(s)}:ZA().includes(i)?function(...t){return i.apply(_m(this),t),Cs(lE.get(this))}:function(...t){return Cs(i.apply(_m(this),t))}}function nx(i){return typeof i=="function"?ex(i):(i instanceof IDBTransaction&&WA(i),KA(i,XA())?new Proxy(i,Vm):i)}function Cs(i){if(i instanceof IDBRequest)return JA(i);if(ym.has(i))return ym.get(i);const t=nx(i);return t!==i&&(ym.set(i,t),yp.set(t,i)),t}const _m=i=>yp.get(i);function rx(i,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(i,t),m=Cs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Cs(f.result),p.oldVersion,p.newVersion,Cs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ix=["get","getKey","getAll","getAllKeys","count"],sx=["put","add","delete","clear"],vm=new Map;function s0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(vm.get(t))return vm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=sx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ix.includes(n)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(t,c),c}tx(i=>({...i,get:(t,n,s)=>s0(t,n)||i.get(t,n,s),has:(t,n)=>!!s0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ox(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ox(i){return i.getComponent()?.type==="VERSION"}const Pm="@firebase/app",a0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new gp("@firebase/app"),lx="@firebase/app-compat",cx="@firebase/analytics-compat",ux="@firebase/analytics",hx="@firebase/app-check-compat",fx="@firebase/app-check",dx="@firebase/auth",mx="@firebase/auth-compat",px="@firebase/database",gx="@firebase/data-connect",yx="@firebase/database-compat",_x="@firebase/functions",vx="@firebase/functions-compat",bx="@firebase/installations",Ex="@firebase/installations-compat",Tx="@firebase/messaging",wx="@firebase/messaging-compat",Sx="@firebase/performance",Ax="@firebase/performance-compat",xx="@firebase/remote-config",Rx="@firebase/remote-config-compat",Ix="@firebase/storage",Cx="@firebase/storage-compat",Nx="@firebase/firestore",Dx="@firebase/ai",kx="@firebase/firestore-compat",Ox="firebase",Mx="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",Vx={[Pm]:"fire-core",[lx]:"fire-core-compat",[ux]:"fire-analytics",[cx]:"fire-analytics-compat",[fx]:"fire-app-check",[hx]:"fire-app-check-compat",[dx]:"fire-auth",[mx]:"fire-auth-compat",[px]:"fire-rtdb",[gx]:"fire-data-connect",[yx]:"fire-rtdb-compat",[_x]:"fire-fn",[vx]:"fire-fn-compat",[bx]:"fire-iid",[Ex]:"fire-iid-compat",[Tx]:"fire-fcm",[wx]:"fire-fcm-compat",[Sx]:"fire-perf",[Ax]:"fire-perf-compat",[xx]:"fire-rc",[Rx]:"fire-rc-compat",[Ix]:"fire-gcs",[Cx]:"fire-gcs-compat",[Nx]:"fire-fst",[kx]:"fire-fst-compat",[Dx]:"fire-vertex","fire-js":"fire-js",[Ox]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,Px=new Map,Um=new Map;function o0(i,t){try{i.container.addComponent(t)}catch(n){Pi.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function ko(i){const t=i.name;if(Um.has(t))return Pi.debug(`There were multiple attempts to register component ${t}.`),!1;Um.set(t,i);for(const n of Ah.values())o0(n,i);for(const n of Px.values())o0(n,i);return!0}function _p(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function $n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Ec("app","Firebase",jx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=Mx;function uE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:jm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(n||(n=iE()),!n)throw Ns.create("no-options");const c=Ah.get(o);if(c){if(xa(n,c.options)&&xa(s,c.config))return c;throw Ns.create("duplicate-app",{appName:o})}const f=new FA(o);for(const p of Um.values())f.addComponent(p);const m=new Ux(n,s,f);return Ah.set(o,m),m}function hE(i=jm){const t=Ah.get(i);if(!t&&i===jm&&iE())return uE();if(!t)throw Ns.create("no-app",{appName:i});return t}function Ds(i,t,n){let s=Vx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pi.warn(f.join(" "));return}ko(new Ra(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firebase-heartbeat-database",zx=1,hc="firebase-heartbeat-store";let bm=null;function fE(){return bm||(bm=rx(Lx,zx,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ns.create("idb-open",{originalErrorMessage:i.message})})),bm}async function Bx(i){try{const n=(await fE()).transaction(hc),s=await n.objectStore(hc).get(dE(i));return await n.done,s}catch(t){if(t instanceof Bi)Pi.warn(t.message);else{const n=Ns.create("idb-get",{originalErrorMessage:t?.message});Pi.warn(n.message)}}}async function l0(i,t){try{const s=(await fE()).transaction(hc,"readwrite");await s.objectStore(hc).put(t,dE(i)),await s.done}catch(n){if(n instanceof Bi)Pi.warn(n.message);else{const s=Ns.create("idb-set",{originalErrorMessage:n?.message});Pi.warn(s.message)}}}function dE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1024,Hx=30;class Fx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Hx){const o=$x(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Pi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c0(),{heartbeatsToSend:n,unsentEntries:s}=Gx(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Pi.warn(t),""}}}function c0(){return new Date().toISOString().substring(0,10)}function Gx(i,t=qx){const n=[];let s=i.slice();for(const o of i){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),u0(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Yx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?OA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function u0(i){return Sh(JSON.stringify({version:2,heartbeats:i})).length}function $x(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i){ko(new Ra("platform-logger",t=>new ax(t),"PRIVATE")),ko(new Ra("heartbeat",t=>new Fx(t),"PRIVATE")),Ds(Pm,a0,i),Ds(Pm,a0,"esm2020"),Ds("fire-js","")}Qx("");var Kx="firebase",Xx="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(Kx,Xx,"app");function mE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=mE,pE=new Ec("auth","Firebase",mE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new gp("@firebase/auth");function Jx(i,...t){xh.logLevel<=Ht.WARN&&xh.warn(`Auth (${zo}): ${i}`,...t)}function hh(i,...t){xh.logLevel<=Ht.ERROR&&xh.error(`Auth (${zo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(i,...t){throw bp(i,...t)}function Rr(i,...t){return bp(i,...t)}function vp(i,t,n){const s={...Zx(),[t]:n};return new Ec("auth","Firebase",s).create(t,{appName:i.name})}function Mi(i){return vp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wx(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ur(i,"argument-error"),vp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return pE.create(i,...t)}function At(i,t,...n){if(!i)throw bp(t,...n)}function ki(i){const t="INTERNAL ASSERTION FAILED: "+i;throw hh(t),new Error(t)}function ji(i,t){i||ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){return typeof self<"u"&&self.location?.href||""}function tR(){return h0()==="http:"||h0()==="https:"}function h0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tR()||IA()||"connection"in navigator)?navigator.onLine:!0}function nR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n){this.shortDelay=t,this.longDelay=n,ji(n>t,"Short delay should be less than long delay!"),this.isMobile=AA()||CA()}get(){return eR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(i,t){ji(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sR=new wc(3e4,6e4);function zs(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Bs(i,t,n,s,o={}){return yE(i,o,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const m=Tc({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...c};return RA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),gE.fetch()(await _E(i,i.config.apiHost,n,m),g)})}async function yE(i,t,n){i._canInitEmulator=!1;const s={...rR,...t};try{const o=new oR(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw nh(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw vp(i,E,g);ur(i,E)}}catch(o){if(o instanceof Bi)throw o;ur(i,"network-request-failed",{message:String(o)})}}async function Sc(i,t,n,s,o={}){const c=await Bs(i,t,n,s,o);return"mfaPendingCredential"in c&&ur(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function _E(i,t,n,s){const o=`${t}${n}?${s}`,c=i,f=c.config.emulator?Ep(i.config,o):`${i.config.apiScheme}://${o}`;return iR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function aR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Rr(this.auth,"network-request-failed")),sR.get())})}}function nh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Rr(i,t,s);return o.customData._tokenResponse=n,o}function f0(i){return i!==void 0&&i.enterprise!==void 0}class lR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return aR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cR(i,t){return Bs(i,"GET","/v2/recaptchaConfig",zs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(i,t){return Bs(i,"POST","/v1/accounts:delete",t)}async function Rh(i,t){return Bs(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hR(i,t=!1){const n=Ze(i),s=await n.getIdToken(t),o=Tp(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:ic(Em(o.auth_time)),issuedAtTime:ic(Em(o.iat)),expirationTime:ic(Em(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Em(i){return Number(i)*1e3}function Tp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nE(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(i){const t=Tp(i);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Bi&&fR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function fR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(i){const t=i.auth,n=await i.getIdToken(),s=await fc(i,Rh(t,{idToken:n}));At(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?vE(o.providerUserInfo):[],f=pR(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function mR(i){const t=Ze(i);await Ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pR(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function vE(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(i,t){const n=await yE(i,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,f=await _E(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),gE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yR(i,t){return Bs(i,"POST","/v2/accounts:revokeToken",zs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=d0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await gR(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new Ro;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(At(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(i,t){At(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class xr{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new dR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await fc(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hR(this,t)}reload(){return mR(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new xr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Mi(this.auth));const t=await this.getIdToken();return await fc(this,uR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:M,providerData:H,stsTokenManager:X}=n;At(v&&X,t,"internal-error");const Q=Ro.fromJSON(this.name,X);At(typeof v=="string",t,"internal-error"),Ts(s,t.name),Ts(o,t.name),At(typeof x=="boolean",t,"internal-error"),At(typeof M=="boolean",t,"internal-error"),Ts(c,t.name),Ts(f,t.name),Ts(m,t.name),Ts(p,t.name),Ts(g,t.name),Ts(E,t.name);const Z=new xr({uid:v,auth:t,email:o,emailVerified:x,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:Q,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(Z.providerData=H.map(ut=>({...ut}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const c=new xr({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ih(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?vE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new Ro;m.updateFromIdToken(s);const p=new xr({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;function Oi(i){ji(i instanceof Function,"Expected a class definition");let t=m0.get(i);return t?(ji(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,m0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}bE.type="NONE";const p0=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(i,t,n){return`firebase:${i}:${t}:${n}`}class Io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,c),this.fullPersistenceKey=fh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Rh(this.auth,{idToken:t}).catch(()=>{});return n?xr._fromGetAccountInfoResponse(this.auth,n,t):null}return xr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Io(Oi(p0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Oi(p0);const f=fh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let v;if(typeof E=="string"){const x=await Rh(t,{idToken:E}).catch(()=>{});if(!x)break;v=await xr._fromGetAccountInfoResponse(t,x,E)}else v=xr._fromJSON(t,E);g!==c&&(m=v),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Io(c,t,s):(c=p[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(f)}catch{}})),new Io(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xE(t))return"Blackberry";if(RE(t))return"Webos";if(TE(t))return"Safari";if((t.includes("chrome/")||wE(t))&&!t.includes("edge/"))return"Chrome";if(AE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function EE(i=_n()){return/firefox\//i.test(i)}function TE(i=_n()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wE(i=_n()){return/crios\//i.test(i)}function SE(i=_n()){return/iemobile/i.test(i)}function AE(i=_n()){return/android/i.test(i)}function xE(i=_n()){return/blackberry/i.test(i)}function RE(i=_n()){return/webos/i.test(i)}function wp(i=_n()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _R(i=_n()){return wp(i)&&!!window.navigator?.standalone}function vR(){return NA()&&document.documentMode===10}function IE(i=_n()){return wp(i)||AE(i)||RE(i)||xE(i)||/windows phone/i.test(i)||SE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i,t=[]){let n;switch(i){case"Browser":n=g0(_n());break;case"Worker":n=`${g0(_n())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${zo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,m)=>{try{const p=t(c);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(i,t={}){return Bs(i,"GET","/v2/passwordPolicy",zs(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=6;class wR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new bR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rh(this,{idToken:t}),s=await xr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ih(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Mi(this));const n=t?Ze(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ER(this),n=new wR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ec("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await yR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Oi(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Jx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qs(i){return Ze(i)}class y0{constructor(t){this.auth=t,this.observer=null,this.addObserver=UA(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AR(i){$h=i}function NE(i){return $h.loadJS(i)}function xR(){return $h.recaptchaEnterpriseScript}function RR(){return $h.gapiScript}function IR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class CR{constructor(){this.enterprise=new NR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class NR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const DR="recaptcha-enterprise",DE="NO_RECAPTCHA";class kR{constructor(t){this.type=DR,this.auth=qs(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{cR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new lR(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,f,m){const p=window.grecaptcha;f0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(g=>{f(g)}).catch(()=>{f(DE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CR().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(m=>{if(!n&&f0(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xR();p.length!==0&&(p+=m),NE(p).then(()=>{o(m,c,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function _0(i,t,n,s=!1,o=!1){const c=new kR(i);let f;if(o)f=DE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bm(i,t,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _0(i,t,n,n==="getOobCode");return s(i,c)}else return s(i,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await _0(i,t,n,n==="getOobCode");return s(i,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(i,t){const n=_p(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(xa(c,t??{}))return o;ur(o,"already-initialized")}return n.initialize({options:t})}function MR(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Oi);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function VR(i,t,n){const s=qs(i);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=kE(t),{host:f,port:m}=PR(t),p=m===null?"":`:${m}`,g={url:`${c}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(xa(g,s.config.emulator)&&xa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(aE(`${c}//${f}${p}`),oE("Auth",!0)):jR()}function kE(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function PR(i){const t=kE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:v0(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:v0(f)}}}function v0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function jR(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(t){return ki("not implemented")}_linkToIdToken(t,n){return ki("not implemented")}_getReauthenticationResolver(t){return ki("not implemented")}}async function UR(i,t){return Bs(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(i,t){return Sc(i,"POST","/v1/accounts:signInWithPassword",zs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(i,t){return Sc(i,"POST","/v1/accounts:signInWithEmailLink",zs(i,t))}async function BR(i,t){return Sc(i,"POST","/v1/accounts:signInWithEmailLink",zs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Sp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new dc(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new dc(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,n,"signInWithPassword",LR);case"emailLink":return zR(t,{email:this._email,oobCode:this._password});default:ur(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,s,"signUpPassword",UR);case"emailLink":return BR(t,{idToken:n,email:this._email,oobCode:this._password});default:ur(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i,t){return Sc(i,"POST","/v1/accounts:signInWithIdp",zs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="http://localhost";class Ia extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const f=new Ia(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Co(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Co(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Co(t,n)}buildRequest(){const t={requestUri:qR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FR(i){const t=Zl(Jl(i)).link,n=t?Zl(Jl(t)).deep_link_id:null,s=Zl(Jl(i)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||n||t||i}class Ap{constructor(t){const n=Zl(Jl(t)),s=n.apiKey??null,o=n.oobCode??null,c=HR(n.mode??null);At(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=FR(t);try{return new Ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(t,n){return dc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Ap.parseLink(n);return At(s,"argument-error"),dc._fromEmailAndCode(t,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Ac{constructor(){super("facebook.com")}static credential(t){return Ia._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return As.credential(t.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ia._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Di.credential(n,s)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Ac{constructor(){super("github.com")}static credential(t){return Ia._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xs.credential(t.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Ac{constructor(){super("twitter.com")}static credential(t,n){return Ia._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Rs.credentialFromTaggedObject(t)}static credentialFromError(t){return Rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Rs.credential(n,s)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(i,t){return Sc(i,"POST","/v1/accounts:signUp",zs(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await xr._fromIdTokenResponse(t,s,o),f=b0(s);return new Ca({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=b0(s);return new Ca({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function b0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Bi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ch(t,n,s,o)}}function OE(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(i,c,t,s):c})}async function YR(i,t,n=!1){const s=await fc(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Ca._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(i,t,n=!1){const{auth:s}=i;if($n(s.app))return Promise.reject(Mi(s));const o="reauthenticate";try{const c=await fc(i,OE(s,o,t,i),n);At(c.idToken,s,"internal-error");const f=Tp(c.idToken);At(f,s,"internal-error");const{sub:m}=f;return At(i.uid===m,s,"user-mismatch"),Ca._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ur(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(i,t,n=!1){if($n(i.app))return Promise.reject(Mi(i));const s="signIn",o=await OE(i,s,t),c=await Ca._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function QR(i,t){return ME(qs(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE(i){const t=qs(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function KR(i,t,n){if($n(i.app))return Promise.reject(Mi(i));const s=qs(i),f=await Bm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&VE(i),p}),m=await Ca._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function XR(i,t,n){return $n(i.app)?Promise.reject(Mi(i)):QR(Ze(i),Bo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&VE(i),s})}function ZR(i,t,n,s){return Ze(i).onIdTokenChanged(t,n,s)}function JR(i,t,n){return Ze(i).beforeAuthStateChanged(t,n)}function WR(i,t,n,s){return Ze(i).onAuthStateChanged(t,n,s)}function t2(i){return Ze(i).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1e3,n2=10;class jE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);vR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,n2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}jE.type="LOCAL";const r2=jE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}UE.type="SESSION";const LE=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,c)),p=await i2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,p)=>{const g=Rp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(v){const x=v;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function a2(i){ni().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function o2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l2(){return navigator?.serviceWorker?.controller||null}function c2(){return zE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firebaseLocalStorageDb",u2=1,Dh="firebaseLocalStorage",qE="fbase_key";class xc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(i,t){return i.transaction([Dh],t?"readwrite":"readonly").objectStore(Dh)}function h2(){const i=indexedDB.deleteDatabase(BE);return new xc(i).toPromise()}function qm(){const i=indexedDB.open(BE,u2);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Dh,{keyPath:qE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Dh)?t(s):(s.close(),await h2(),t(await qm()))})})}async function E0(i,t,n){const s=Kh(i,!0).put({[qE]:t,value:n});return new xc(s).toPromise()}async function f2(i,t){const n=Kh(i,!1).get(t),s=await new xc(n).toPromise();return s===void 0?null:s.value}function T0(i,t){const n=Kh(i,!0).delete(t);return new xc(n).toPromise()}const d2=800,m2=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>m2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(c2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await o2(),!this.activeServiceWorker)return;this.sender=new s2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qm();return await E0(t,Nh,"1"),await T0(t,Nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>f2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Kh(o,!1).getAll();return new xc(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const p2=HE;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i,t){return t?Oi(t):(At(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Sp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Co(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Co(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Co(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function g2(i){return ME(i.auth,new Ip(i),i.bypassAuthState)}function y2(i){const{auth:t,user:n}=i;return At(n,t,"internal-error"),$R(n,new Ip(i),i.bypassAuthState)}async function _2(i){const{auth:t,user:n}=i;return At(n,t,"internal-error"),YR(n,new Ip(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return g2;case"linkViaPopup":case"linkViaRedirect":return _2;case"reauthViaPopup":case"reauthViaRedirect":return y2;default:ur(this.auth,"internal-error")}}resolve(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new wc(2e3,1e4);async function b2(i,t,n){if($n(i.app))return Promise.reject(Rr(i,"operation-not-supported-in-this-environment"));const s=qs(i);Wx(i,t,xp);const o=FE(s,n);return new wa(s,"signInViaPopup",t,o).executeNotNull()}class wa extends GE{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const t=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,v2.get())};t()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="pendingRedirect",dh=new Map;class T2 extends GE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=dh.get(this.auth._key());if(!t){try{const s=await w2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}dh.set(this.auth._key(),t)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w2(i,t){const n=x2(t),s=A2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function S2(i,t){dh.set(i._key(),t)}function A2(i){return Oi(i._redirectPersistence)}function x2(i){return fh(E2,i.config.apiKey,i.name)}async function R2(i,t,n=!1){if($n(i.app))return Promise.reject(Mi(i));const s=qs(i),o=FE(s,t),f=await new T2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=600*1e3;class C2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!N2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!YE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=I2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(t))}saveEventToCache(t){this.cachedEventUids.add(w0(t)),this.lastProcessedEventTime=Date.now()}}function w0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function YE({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function N2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(i,t={}){return Bs(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O2=/^https?/;async function M2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await D2(i);for(const n of t)try{if(V2(n))return}catch{}ur(i,"unauthorized-domain")}function V2(i){const t=Lm(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!O2.test(n))return!1;if(k2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new wc(3e4,6e4);function S0(){const i=ni().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function j2(i){return new Promise((t,n)=>{function s(){S0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(Rr(i,"network-request-failed"))},timeout:P2.get()})}if(ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ni().gapi?.load)s();else{const o=IR("iframefcb");return ni()[o]=()=>{gapi.load?s():n(Rr(i,"network-request-failed"))},NE(`${RR()}?onload=${o}`).catch(c=>n(c))}}).catch(t=>{throw mh=null,t})}let mh=null;function U2(i){return mh=mh||j2(i),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new wc(5e3,15e3),z2="__/auth/iframe",B2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(i){const t=i.config;At(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Ep(t,B2):`https://${i.config.authDomain}/${z2}`,s={apiKey:t.apiKey,appName:i.name,v:zo},o=H2.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Tc(s).slice(1)}`}async function G2(i){const t=await U2(i),n=ni().gapi;return At(n,i,"internal-error"),t.open({where:document.body,url:F2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=Rr(i,"network-request-failed"),m=ni().setTimeout(()=>{c(f)},L2.get());function p(){ni().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$2=500,Q2=600,K2="_blank",X2="http://localhost";class A0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z2(i,t,n,s=$2,o=Q2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...Y2,width:s.toString(),height:o.toString(),top:c,left:f},g=_n().toLowerCase();n&&(m=wE(g)?K2:n),EE(g)&&(t=t||X2,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[M,H])=>`${x}${M}=${H},`,"");if(_R(g)&&m!=="_self")return J2(t||"",m),new A0(null);const v=window.open(t||"",m,E);At(v,i,"popup-blocked");try{v.focus()}catch{}return new A0(v)}function J2(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="__/auth/handler",tI="emulator/auth/handler",eI=encodeURIComponent("fac");async function x0(i,t,n,s,o,c){At(i.config.authDomain,i,"auth-domain-config-required"),At(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:zo,eventId:o};if(t instanceof xp){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",jA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,v]of Object.entries({}))f[E]=v}if(t instanceof Ac){const E=t.getScopes().filter(v=>v!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${eI}=${encodeURIComponent(p)}`:"";return`${nI(i)}?${Tc(m).slice(1)}${g}`}function nI({config:i}){return i.emulator?Ep(i,tI):`https://${i.authDomain}/${W2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class rI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=R2,this._overrideRedirectResult=S2}async _openPopup(t,n,s,o){ji(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await x0(t,n,s,Lm(),o);return Z2(t,c,Rp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await x0(t,n,s,Lm(),o);return a2(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ji(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await G2(t),s=new C2(t);return n.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Tm,{type:Tm},o=>{const c=o?.[0]?.[Tm];c!==void 0&&n(!!c),ur(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return IE()||TE()||wp()}}const iI=rI;var R0="@firebase/auth",I0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oI(i){ko(new Ra("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(i)},g=new SR(s,o,c,p);return MR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ko(new Ra("auth-internal",t=>{const n=qs(t.getProvider("auth").getImmediate());return(s=>new sI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(R0,I0,aI(i)),Ds(R0,I0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=300,cI=sE("authIdTokenMaxAge")||lI;let C0=null;const uI=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>cI)return;const o=n?.token;C0!==o&&(C0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hI(i=hE()){const t=_p(i,"auth");if(t.isInitialized())return t.getImmediate();const n=OR(i,{popupRedirectResolver:iI,persistence:[p2,r2,LE]}),s=sE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=uI(c.toString());JR(n,f,()=>f(n.currentUser)),ZR(n,m=>f(m))}}const o=rE("auth");return o&&VR(n,`http://${o}`),n}function fI(){return document.getElementsByTagName("head")?.[0]??document}AR({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const c=Rr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",fI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oI("Browser");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,$E;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,k,P){for(var R=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)R[Qt-2]=arguments[Qt];return A.prototype[k].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)V[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)V[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],k=C.g[2];let P=C.g[3],R;R=A+(P^I&(k^P))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(k^A&(I^k))+V[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=k+(I^P&(A^I))+V[2]+606105819&4294967295,k=P+(R<<17&4294967295|R>>>15),R=I+(A^k&(P^A))+V[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(P^I&(k^P))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(k^A&(I^k))+V[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=k+(I^P&(A^I))+V[6]+2821735955&4294967295,k=P+(R<<17&4294967295|R>>>15),R=I+(A^k&(P^A))+V[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(P^I&(k^P))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(k^A&(I^k))+V[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=k+(I^P&(A^I))+V[10]+4294925233&4294967295,k=P+(R<<17&4294967295|R>>>15),R=I+(A^k&(P^A))+V[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(P^I&(k^P))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(k^A&(I^k))+V[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=k+(I^P&(A^I))+V[14]+2792965006&4294967295,k=P+(R<<17&4294967295|R>>>15),R=I+(A^k&(P^A))+V[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(k^P&(I^k))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^k&(A^I))+V[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(P^A))+V[11]+643717713&4294967295,k=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(k^P))+V[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^P&(I^k))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^k&(A^I))+V[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(P^A))+V[15]+3634488961&4294967295,k=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(k^P))+V[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^P&(I^k))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^k&(A^I))+V[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(P^A))+V[3]+4107603335&4294967295,k=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(k^P))+V[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^P&(I^k))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^k&(A^I))+V[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(P^A))+V[7]+1735328473&4294967295,k=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(k^P))+V[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(I^k^P)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^k)+V[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=k+(P^A^I)+V[11]+1839030562&4294967295,k=P+(R<<16&4294967295|R>>>16),R=I+(k^P^A)+V[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^P)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^k)+V[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=k+(P^A^I)+V[7]+4139469664&4294967295,k=P+(R<<16&4294967295|R>>>16),R=I+(k^P^A)+V[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^P)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^k)+V[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=k+(P^A^I)+V[3]+3572445317&4294967295,k=P+(R<<16&4294967295|R>>>16),R=I+(k^P^A)+V[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^P)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^k)+V[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=k+(P^A^I)+V[15]+530742520&4294967295,k=P+(R<<16&4294967295|R>>>16),R=I+(k^P^A)+V[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(k^(I|~P))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~k))+V[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=k+(A^(P|~I))+V[14]+2878612391&4294967295,k=P+(R<<15&4294967295|R>>>17),R=I+(P^(k|~A))+V[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~P))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~k))+V[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=k+(A^(P|~I))+V[10]+4293915773&4294967295,k=P+(R<<15&4294967295|R>>>17),R=I+(P^(k|~A))+V[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~P))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~k))+V[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=k+(A^(P|~I))+V[6]+2734768916&4294967295,k=P+(R<<15&4294967295|R>>>17),R=I+(P^(k|~A))+V[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~P))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~k))+V[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=k+(A^(P|~I))+V[2]+718787259&4294967295,k=P+(R<<15&4294967295|R>>>17),R=I+(P^(k|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let k=this.h,P=0;for(;P<A;){if(k==0)for(;P<=I;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(V[k++]=C.charCodeAt(P++),k==this.blockSize){o(this,V),k=0;break}}else for(;P<A;)if(V[k++]=C[P++],k==this.blockSize){o(this,V),k=0;break}}this.h=k,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function f(C,A){this.h=A;const I=[];let V=!0;for(let k=C.length-1;k>=0;k--){const P=C[k]|0;V&&P==A||(I[k]=P,V=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?c(C,function(A){return new f([A|0],A<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return Q(g(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new f(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return Q(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let V=v;for(let P=0;P<C.length;P+=8){var k=Math.min(8,C.length-P);const R=parseInt(C.substring(P,P+k),A);k<8?(k=g(Math.pow(A,k)),V=V.j(k).add(g(R))):(V=V.j(I),V=V.add(g(R)))}return V}var v=p(0),x=p(1),M=p(16777216);i=f.prototype,i.m=function(){if(X(this))return-Q(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(H(this))return"0";if(X(this))return"-"+Q(this).toString(C);const A=g(Math.pow(C,6));var I=this;let V="";for(;;){const k=Et(I,A).g;I=Z(I,k.j(A));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,H(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function H(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function X(C){return C.h==-1}i.l=function(C){return C=Z(this,C),X(C)?-1:H(C)?0:1};function Q(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new f(I,~C.h).add(x)}i.abs=function(){return X(this)?Q(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let k=0;k<=A;k++){let P=V+(this.i(k)&65535)+(C.i(k)&65535),R=(P>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);V=R>>>16,P&=65535,R&=65535,I[k]=R<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Z(C,A){return C.add(Q(A))}i.j=function(C){if(H(this)||H(C))return v;if(X(this))return X(C)?Q(this).j(Q(C)):Q(Q(this).j(C));if(X(C))return Q(this.j(Q(C)));if(this.l(M)<0&&C.l(M)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let k=0;k<C.g.length;k++){const P=this.i(V)>>>16,R=this.i(V)&65535,Qt=C.i(k)>>>16,Kt=C.i(k)&65535;I[2*V+2*k]+=R*Kt,ut(I,2*V+2*k),I[2*V+2*k+1]+=P*Kt,ut(I,2*V+2*k+1),I[2*V+2*k+1]+=R*Qt,ut(I,2*V+2*k+1),I[2*V+2*k+2]+=P*Qt,ut(I,2*V+2*k+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new f(I,0)};function ut(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function lt(C,A){this.g=C,this.h=A}function Et(C,A){if(H(A))throw Error("division by zero");if(H(C))return new lt(v,v);if(X(C))return A=Et(Q(C),A),new lt(Q(A.g),Q(A.h));if(X(A))return A=Et(C,Q(A)),new lt(Q(A.g),A.h);if(C.g.length>30){if(X(C)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=A;V.l(C)<=0;)I=jt(I),V=jt(V);var k=wt(I,1),P=wt(V,1);for(V=wt(V,2),I=wt(I,2);!H(V);){var R=P.add(V);R.l(C)<=0&&(k=k.add(I),P=R),V=wt(V,1),I=wt(I,1)}return A=Z(C,k.j(A)),new lt(k,A)}for(k=v;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(I),R=P.j(A);X(R)||R.l(C)>0;)I-=V,P=g(I),R=P.j(A);H(P)&&(P=x),k=k.add(P),C=Z(C,R)}return new lt(k,C)}i.B=function(C){return Et(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new f(I,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new f(I,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new f(I,this.h^C.h)};function jt(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new f(I,C.h)}function wt(C,A){const I=A>>5;A%=32;const V=C.g.length-I,k=[];for(let P=0;P<V;P++)k[P]=A>0?C.i(P+I)>>>A|C.i(P+I+1)<<32-A:C.i(P+I);return new f(k,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$E=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ks=f}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QE,Wl,KE,ph,Hm,XE,ZE,JE;(function(){var i,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<u.length;++y){var b=u[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(u,y){if(y)t:{var b=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in b))break t;b=b[U]}u=u[u.length-1],S=b[u],y=y(S),y!=S&&y!=null&&t(b,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var b=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&b.push([S,y[S]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function p(u,y,b){return u.call.apply(u.bind,arguments)}function g(u,y,b){return g=p,g.apply(null,arguments)}function E(u,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function v(u,y){function b(){}b.prototype=y.prototype,u.Z=y.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,U,F){for(var ot=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ot[Ot-2]=arguments[Ot];return y.prototype[U].apply(S,ot)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const y=u.length;if(y>0){const b=Array(y);for(let S=0;S<y;S++)b[S]=u[S];return b}return[]}function H(u,y){for(let S=1;S<arguments.length;S++){const U=arguments[S];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const F=U.length||0;u.length=b+F;for(let ot=0;ot<F;ot++)u[b+ot]=U[ot]}else u.push(U)}}class X{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(u){f.setTimeout(()=>{throw u},0)}function Z(){var u=C;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class ut{constructor(){this.h=this.g=null}add(y,b){const S=lt.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var lt=new X(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,wt=!1,C=new ut,A=()=>{const u=Promise.resolve(void 0);jt=()=>{u.then(I)}};function I(){for(var u;u=Z();){try{u.h.call(u.g)}catch(b){Q(b)}var y=lt;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Qt(u,y){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}v(Qt,k),Qt.prototype.init=function(u,y){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(b=="mouseover"?y=u.fromElement:b=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Kt="closure_listenable_"+(Math.random()*1e6|0),L=0;function it(u,y,b,S,U){this.listener=u,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=U,this.key=++L,this.da=this.fa=!1}function nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ct(u,y,b){for(const S in u)y.call(b,u[S],S,u)}function Nt(u,y){for(const b in u)y.call(void 0,u[b],b,u)}function D(u){const y={};for(const b in u)y[b]=u[b];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(u,y){let b,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(b in S)u[b]=S[b];for(let F=0;F<K.length;F++)b=K[F],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,y,b,S,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const ot=_t(u,y,S,U);return ot>-1?(y=u[ot],b||(y.fa=!1)):(y=new it(y,this.src,F,!!S,U),y.fa=b,u.push(y)),y};function ct(u,y){const b=y.type;if(b in u.g){var S=u.g[b],U=Array.prototype.indexOf.call(S,y,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(nt(y),u.g[b].length==0&&(delete u.g[b],u.h--))}}function _t(u,y,b,S){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==y&&F.capture==!!b&&F.ha==S)return U}return-1}var yt="closure_lm_"+(Math.random()*1e6|0),Rt={};function zt(u,y,b,S,U){if(Array.isArray(y)){for(let F=0;F<y.length;F++)zt(u,y[F],b,S,U);return null}return b=Fi(b),u&&u[Kt]?u.J(y,b,m(S)?!!S.capture:!1,U):Je(u,y,b,!1,S,U)}function Je(u,y,b,S,U,F){if(!y)throw Error("Invalid event type");const ot=m(U)?!!U.capture:!!U;let Ot=Dr(u);if(Ot||(u[yt]=Ot=new rt(u)),b=Ot.add(y,b,S,ot,F),b.proxy)return b;if(S=vn(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)P||(U=ot),U===void 0&&(U=!1),u.addEventListener(y.toString(),S,U);else if(u.attachEvent)u.attachEvent(Sn(y.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function vn(){function u(b){return y.call(u.src,u.listener,b)}const y=$s;return u}function Ge(u,y,b,S,U){if(Array.isArray(y))for(var F=0;F<y.length;F++)Ge(u,y[F],b,S,U);else S=m(S)?!!S.capture:!!S,b=Fi(b),u&&u[Kt]?(u=u.i,F=String(y).toString(),F in u.g&&(y=u.g[F],b=_t(y,b,S,U),b>-1&&(nt(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete u.g[F],u.h--)))):u&&(u=Dr(u))&&(y=u.g[y.toString()],u=-1,y&&(u=_t(y,b,S,U)),(b=u>-1?y[u]:null)&&Hi(b))}function Hi(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Kt])ct(y.i,u);else{var b=u.type,S=u.proxy;y.removeEventListener?y.removeEventListener(b,S,u.capture):y.detachEvent?y.detachEvent(Sn(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=Dr(y))?(ct(b,u),b.h==0&&(b.src=null,y[yt]=null)):nt(u)}}}function Sn(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function $s(u,y){if(u.da)u=!0;else{y=new Qt(y,this);const b=u.listener,S=u.ha||u.src;u.fa&&Hi(u),u=b.call(S,y)}return u}function Dr(u){return u=u[yt],u instanceof rt?u:null}var hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fi(u){return typeof u=="function"?u:(u[hr]||(u[hr]=function(y){return u.handleEvent(y)}),u[hr])}function te(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}v(te,V),te.prototype[Kt]=!0,te.prototype.removeEventListener=function(u,y,b,S){Ge(this,u,y,b,S)};function we(u,y){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=y.type||y,typeof y=="string")y=new k(y,u);else if(y instanceof k)y.target=y.target||u;else{var U=y;y=new k(S,u),Y(y,U)}U=!0;let F,ot;if(b)for(ot=b.length-1;ot>=0;ot--)F=y.g=b[ot],U=kr(F,S,!0,y)&&U;if(F=y.g=u,U=kr(F,S,!0,y)&&U,U=kr(F,S,!1,y)&&U,b)for(ot=0;ot<b.length;ot++)F=y.g=b[ot],U=kr(F,S,!1,y)&&U}te.prototype.N=function(){if(te.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const b=u.g[y];for(let S=0;S<b.length;S++)nt(b[S]);delete u.g[y],u.h--}}this.G=null},te.prototype.J=function(u,y,b,S){return this.i.add(String(u),y,!1,b,S)},te.prototype.K=function(u,y,b,S){return this.i.add(String(u),y,!0,b,S)};function kr(u,y,b,S){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let F=0;F<y.length;++F){const ot=y[F];if(ot&&!ot.da&&ot.capture==b){const Ot=ot.listener,Se=ot.ha||ot.src;ot.fa&&ct(u.i,ot),U=Ot.call(Se,S)!==!1&&U}}return U&&!S.defaultPrevented}function We(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(u,y||0)}function fr(u){u.g=We(()=>{u.g=null,u.i&&(u.i=!1,fr(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class tn extends V{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(u){V.call(this),this.h=u,this.g={}}v(ci,V);var Or=[];function Qs(u){Ct(u.g,function(y,b){this.g.hasOwnProperty(b)&&Hi(y)},u),u.g={}}ci.prototype.N=function(){ci.Z.N.call(this),Qs(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,Ks=f.JSON.parse,mr=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Xs(){}function pr(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){k.call(this,"d")}v(ze,k);function bn(){k.call(this,"c")}v(bn,k);var ge={},Ma=null;function Mr(){return Ma=Ma||new te}ge.Ia="serverreachability";function Pn(u){k.call(this,ge.Ia,u)}v(Pn,k);function Kn(u){const y=Mr();we(y,new Pn(y))}ge.STAT_EVENT="statevent";function ui(u,y){k.call(this,ge.STAT_EVENT,u),this.stat=y}v(ui,k);function ve(u){const y=Mr();we(y,new ui(y,u))}ge.Ja="timingevent";function jn(u,y){k.call(this,ge.Ja,u),this.size=y}v(jn,k);function Tt(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},y)}function ee(){this.g=!0}ee.prototype.ua=function(){this.g=!1};function Ce(u,y,b,S,U,F){u.info(function(){if(u.g)if(F){var ot="",Ot=F.split("&");for(let Jt=0;Jt<Ot.length;Jt++){var Se=Ot[Jt].split("=");if(Se.length>1){const ye=Se[0];Se=Se[1];const tr=ye.split("_");ot=tr.length>=2&&tr[1]=="type"?ot+(ye+"="+Se+"&"):ot+(ye+"=redacted&")}}}else ot=null;else ot=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+b+`
`+ot})}function Ye(u,y,b,S,U,F,ot){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+b+`
`+F+" "+ot})}function En(u,y,b,S){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+dn(u,b)+(S?" "+S:"")})}function de(u,y){u.info(function(){return"TIMEOUT: "+y})}ee.prototype.info=function(){};function dn(u,y){if(!u.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var b=F[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ot=1;ot<S.length;ot++)S[ot]=""}}}}return dr(F)}catch{return y}}var Xn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},en={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nn;function Vr(){}v(Vr,Xs),Vr.prototype.g=function(){return new XMLHttpRequest},nn=new Vr;function rn(u){return encodeURIComponent(String(u))}function Ko(u){var y=1;u=u.split(":");const b=[];for(;y>0&&u.length;)b.push(u.shift()),y--;return u.length&&b.push(u.join(":")),b}function gr(u,y,b,S){this.j=u,this.i=y,this.l=b,this.S=S||1,this.V=new ci(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var Ne={},$e={};function Pr(u,y,b){u.M=1,u.A=Zs(ke(y)),u.u=b,u.R=!0,Va(u,null)}function Va(u,y){u.F=Date.now(),jr(u),u.B=ke(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),La(b.i,"t",S),u.C=0,b=u.j.L,u.h=new yr,u.g=Kc(u.j,b?y:null,!u.u),u.P>0&&(u.O=new tn(g(u.Y,u,u.g),u.P)),y=u.V,b=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Or[0]=U.toString()),U=Or);for(let F=0;F<U.length;F++){const ot=zt(b,U[F],S||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Kn(),Ce(u.i,u.v,u.B,u.l,u.S,u.u)}gr.prototype.ba=function(u){u=u.target;const y=this.O;y&&br(u)==3?y.j():this.Y(u)},gr.prototype.Y=function(u){try{if(u==this.g)t:{const Ot=br(this.g),Se=this.g.ya(),Jt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ot!=4||Se==7||(Se==8||Jt<=0?Kn(3):Kn(2)),Ur(this);var y=this.g.ca();this.X=y;var b=mf(this);if(this.o=y==200,Ye(this.i,this.v,this.B,this.l,this.S,Ot,y),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var F=S;break e}}F=null}if(u=F)En(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lr(this,u);else{this.o=!1,this.m=3,ve(12),Un(this),Zn(this);break t}}if(this.R){u=!0;let ye;for(;!this.K&&this.C<b.length;)if(ye=Pc(this,b),ye==$e){Ot==4&&(this.m=4,ve(14),u=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==Ne){this.m=4,ve(15),En(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else En(this.i,this.l,ye,null),Lr(this,ye);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||b.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)En(this.i,this.l,b,"[Invalid Chunked Response]"),Un(this),Zn(this);else if(b.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ul(ot),ot.P=!0,ve(11))}}else En(this.i,this.l,b,null),Lr(this,b);Ot==4&&Un(this),this.o&&!this.K&&(Ot==4?Gc(this.j,this):(this.o=!1,jr(this)))}else fi(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),Un(this),Zn(this)}}}catch{}finally{}};function mf(u){if(!Vc(u))return u.g.la();const y=sn(u.g);if(y==="")return"";let b="";const S=y.length,U=br(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Un(u),Zn(u),"";u.h.i=new f.TextDecoder}for(let F=0;F<S;F++)u.h.h=!0,b+=u.h.i.decode(y[F],{stream:!(U&&F==S-1)});return y.length=0,u.h.g+=b,u.C=0,u.h.g}function Vc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Pc(u,y){var b=u.C,S=y.indexOf(`
`,b);return S==-1?$e:(b=Number(y.substring(b,S)),isNaN(b)?Ne:(S+=1,S+b>y.length?$e:(y=y.slice(S,S+b),u.C=S+b,y)))}gr.prototype.cancel=function(){this.K=!0,Un(this)};function jr(u){u.T=Date.now()+u.H,Pa(u,u.H)}function Pa(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Tt(g(u.aa,u),y)}function Ur(u){u.D&&(f.clearTimeout(u.D),u.D=null)}gr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(de(this.i,this.B),this.M!=2&&(Kn(),ve(17)),Un(this),this.m=2,Zn(this)):Pa(this,this.T-u)};function Zn(u){u.j.I==0||u.K||Gc(u.j,u)}function Un(u){Ur(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Qs(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Lr(u,y){try{var b=u.j;if(b.I!=0&&(b.g==u||Br(b.h,u))){if(!u.L&&Br(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Fa(b),Ji(b);else break t;ia(b),ve(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Tt(g(b.Va,b),6e3));zr(b.h)<=1&&b.ta&&(b.ta=void 0)}else $r(b,11)}else if((u.L||b.g==u)&&Fa(b),!R(y))for(U=b.Ba.g.parse(y),y=0;y<U.length;y++){let Jt=U[y];const ye=Jt[0];if(!(ye<=b.K))if(b.K=ye,Jt=Jt[1],b.I==2)if(Jt[0]=="c"){b.M=Jt[1],b.ba=Jt[2];const tr=Jt[3];tr!=null&&(b.ka=tr,b.j.info("VER="+b.ka));const Qr=Jt[4];Qr!=null&&(b.za=Qr,b.j.info("SVER="+b.za));const Er=Jt[5];Er!=null&&typeof Er=="number"&&Er>0&&(S=1.5*Er,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Tr=u.g;if(Tr){const sa=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var F=S.h;F.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Jo(F,F.h),F.h=null))}if(S.G){const Ga=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(S.wa=Ga,re(S.J,S.G,Ga))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ot=u;if(S.na=Qc(S,S.L?S.ba:null,S.W),ot.L){Wo(S.h,ot);var Ot=ot,Se=S.O;Se&&(Ot.H=Se),Ot.D&&(Ur(Ot),jr(Ot)),S.g=ot}else Hc(S);b.i.length>0&&Yr(b)}else Jt[0]!="stop"&&Jt[0]!="close"||$r(b,7);else b.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?$r(b,7):ll(b):Jt[0]!="noop"&&b.l&&b.l.qa(Jt),b.A=0)}}Kn(4)}catch{}}var De=class{constructor(u,y){this.g=u,this.map=y}};function Xo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zr(u){return u.h?1:u.g?u.g.size:0}function Br(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Jo(u,y){u.g?u.g.add(y):u.h=y}function Wo(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Xo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const b of u.g.values())y=y.concat(b.G);return y}return M(u.i)}var jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(u,y){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let U,F=null;S>=0?(U=u[b].substring(0,S),F=u[b].substring(S+1)):U=u[b],y(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ln(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Ln?(this.l=u.l,Qe(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.u),this.h=u.h,el(this,Bc(u.i)),this.m=u.m):u&&(y=String(u).match(jc))?(this.l=!1,Qe(this,y[1]||"",!0),this.o=qr(y[2]||""),this.g=qr(y[3]||"",!0),Gi(this,y[4]),this.h=qr(y[5]||"",!0),el(this,y[6]||"",!0),this.m=qr(y[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}Ln.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Js(y,Ua,!0),":");var b=this.g;return(b||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Js(y,Ua,!0),"@"),u.push(rn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Js(b,b.charAt(0)=="/"?nl:Uc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Js(b,Lc)),u.join("")},Ln.prototype.resolve=function(u){const y=ke(this);let b=!!u.j;b?Qe(y,u.j):b=!!u.o,b?y.o=u.o:b=!!u.g,b?y.g=u.g:b=u.u!=null;var S=u.h;if(b)Gi(y,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=y.h.lastIndexOf("/");U!=-1&&(S=y.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let ot=0;ot<U.length;){const Ot=U[ot++];Ot=="."?S&&ot==U.length&&F.push(""):Ot==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&ot==U.length&&F.push("")):(F.push(Ot),S=!0)}S=F.join("/")}else S=U}return b?y.h=S:b=u.i.toString()!=="",b?el(y,Bc(u.i)):b=!!u.m,b&&(y.m=u.m),y};function ke(u){return new Ln(u)}function Qe(u,y,b){u.j=b?qr(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function el(u,y,b){y instanceof $i?(u.i=y,za(u.i,u.l)):(b||(y=Js(y,Yi)),u.i=new $i(y,u.l))}function re(u,y,b){u.i.set(y,b)}function Zs(u){return re(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function qr(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Js(u,y,b){return typeof u=="string"?(u=encodeURI(u).replace(y,An),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ua=/[#\/\?@]/g,Uc=/[#\?:]/g,nl=/[#\?]/g,Yi=/[#\?@]/g,Lc=/#/g;function $i(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&ja(u.i,function(y,b){u.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=$i.prototype,i.add=function(u,y){xn(this),this.i=null,u=Qi(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(y),this.h+=1,this};function zc(u,y){xn(u),y=Qi(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function rl(u,y){return xn(u),y=Qi(u,y),u.g.has(y)}i.forEach=function(u,y){xn(this),this.g.forEach(function(b,S){b.forEach(function(U){u.call(y,U,S,this)},this)},this)};function il(u,y){xn(u);let b=[];if(typeof y=="string")rl(u,y)&&(b=b.concat(u.g.get(Qi(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)b=b.concat(u[y]);return b}i.set=function(u,y){return xn(this),this.i=null,u=Qi(this,u),rl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=il(this,u),u.length>0?String(u[0]):y):y};function La(u,y,b){zc(u,y),b.length>0&&(u.i=null,u.g.set(Qi(u,y),M(b)),u.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var b=y[S];const U=rn(b);b=il(this,b);for(let F=0;F<b.length;F++){let ot=U;b[F]!==""&&(ot+="="+rn(b[F])),u.push(ot)}}return this.i=u.join("&")};function Bc(u){const y=new $i;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Qi(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function za(u,y){y&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(b,S){const U=S.toLowerCase();S!=U&&(zc(this,S),La(this,U,b))},u)),u.j=y}function _r(u,y){const b=new ee;if(f.Image){const S=new Image;S.onload=E(Jn,b,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Jn,b,"TestLoadImage: error",!1,y,S),S.onabort=E(Jn,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Jn,b,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else y(!1)}function sl(u,y){const b=new ee,S=new AbortController,U=setTimeout(()=>{S.abort(),Jn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?Jn(b,"TestPingServer: ok",!0,y):Jn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Jn(b,"TestPingServer: error",!1,y)})}function Jn(u,y,b,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(b)}catch{}}function Ki(){this.g=new mr}function Hr(u){this.i=u.Sb||null,this.h=u.ab||!1}v(Hr,Xs),Hr.prototype.g=function(){return new Ws(this.i,this.h)};function Ws(u,y){te.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ws,te),i=Ws.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,vr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Xi(this):vr(this),this.readyState==3&&Ba(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Xi(this))},i.Na=function(u){this.g&&(this.response=u,Xi(this))},i.ga=function(){this.g&&Xi(this)};function Xi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,vr(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=y.next();return u.join(`\r
`)};function vr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let y="";return Ct(u,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function ta(u,y,b){t:{for(S in b){var S=!1;break t}S=!0}S||(b=Wn(b),typeof u=="string"?b!=null&&rn(b):re(u,y,b))}function ae(u){te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ae,te);var Fr=/^https?$/i,al=["POST","PUT"];i=ae.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nn.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(F){ea(this,F);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)b.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())b.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(al,y,void 0)>=0)||S||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ot]of b)this.g.setRequestHeader(F,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){ea(this,F)}};function ea(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ol(u),hi(u)}function ol(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),ae.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},i.Xa=function(){na(this)};function na(u){if(u.h&&typeof c<"u"){if(u.v&&br(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),br(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var b;if(!(b=y)){var S;if(S=F===0){let ot=String(u.D).match(jc)[1]||null;!ot&&f.self&&f.self.location&&(ot=f.self.location.protocol.slice(0,-1)),S=!Fr.test(ot?ot.toLowerCase():"")}b=S}if(b)we(u,"complete"),we(u,"success");else{u.o=6;try{var U=br(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ol(u)}}finally{hi(u)}}}}function hi(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,y||we(u,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function br(u){return u.g?u.g.readyState:0}i.ca=function(){try{return br(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Ks(y)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fi(u){const y={};u=(u.g&&br(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var b=Ko(u[S]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=y[U]||[];y[U]=F,F.push(b)}Nt(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||y}function Zi(u){this.za=0,this.i=[],this.j=new ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,u),this.Za=Gr("retryDelaySeedMs",1e4,u),this.Ta=Gr("forwardChannelMaxRetries",2,u),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(u&&u.concurrentRequestLimit),this.Ba=new Ki,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Zi.prototype,i.ka=8,i.I=1,i.connect=function(u,y,b,S){ve(0),this.W=u,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Qc(this,null,this.W),Yr(this)};function ll(u){if(qa(u),u.I==3){var y=u.V++,b=ke(u.J);if(re(b,"SID",u.M),re(b,"RID",y),re(b,"TYPE","terminate"),ra(u,b),y=new gr(u,u.j,y),y.M=2,y.A=Zs(ke(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.A,b=!0),b||(y.g=Kc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),jr(y)}$c(u)}function Ji(u){u.g&&(ul(u),u.g.cancel(),u.g=null)}function qa(u){Ji(u),u.v&&(f.clearTimeout(u.v),u.v=null),Fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Yr(u){if(!Zo(u.h)&&!u.m){u.m=!0;var y=u.Ea;jt||A(),wt||(jt(),wt=!0),C.add(y,u),u.D=0}}function Ha(u,y){return zr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Tt(g(u.Ea,u,y),Yc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new gr(this,this.j,u);let F=this.o;if(this.U&&(F?(F=D(F),Y(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)t:{for(var y=0,b=0;b<this.i.length;b++){e:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=b;break t}if(y===4096||b===this.i.length-1){y=b+1;break t}}y=1e3}else y=1e3;y=qc(this,U,y),b=ke(this.J),re(b,"RID",u),re(b,"CVER",22),this.G&&re(b,"X-HTTP-Session-Id",this.G),ra(this,b),F&&(this.R?y="headers="+rn(Wn(F))+"&"+y:this.u&&ta(b,this.u,F)),Jo(this.h,U),this.Ra&&re(b,"TYPE","init"),this.S?(re(b,"$req",y),re(b,"SID","null"),U.U=!0,Pr(U,b,null)):Pr(U,b,y),this.I=2}}else this.I==3&&(u?cl(this,u):this.i.length==0||Zo(this.h)||cl(this))};function cl(u,y){var b;y?b=y.l:b=u.V++;const S=ke(u.J);re(S,"SID",u.M),re(S,"RID",b),re(S,"AID",u.K),ra(u,S),u.u&&u.o&&ta(S,u.u,u.o),b=new gr(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),y&&(u.i=y.G.concat(u.i)),y=qc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Jo(u.h,b),Pr(b,S,y)}function ra(u,y){u.H&&Ct(u.H,function(b,S){re(y,S,b)}),u.l&&Ct({},function(b,S){re(y,S,b)})}function qc(u,y,b){b=Math.min(u.i.length,b);const S=u.l?g(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ot=-1;for(;;){const Se=["count="+b];Ot==-1?b>0?(Ot=U[0].g,Se.push("ofs="+Ot)):Ot=0:Se.push("ofs="+Ot);let Jt=!0;for(let ye=0;ye<b;ye++){var F=U[ye].g;const tr=U[ye].map;if(F-=Ot,F<0)Ot=Math.max(0,U[ye].g-100),Jt=!1;else try{F="req"+F+"_"||"";try{var ot=tr instanceof Map?tr:Object.entries(tr);for(const[Qr,Er]of ot){let Tr=Er;m(Er)&&(Tr=dr(Er)),Se.push(F+Qr+"="+encodeURIComponent(Tr))}}catch(Qr){throw Se.push(F+"type="+encodeURIComponent("_badmap")),Qr}}catch{S&&S(tr)}}if(Jt){ot=Se.join("&");break t}}ot=void 0}return u=u.i.splice(0,b),y.G=u,ot}function Hc(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;jt||A(),wt||(jt(),wt=!0),C.add(y,u),u.A=0}}function ia(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Tt(g(u.Da,u),Yc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Tt(g(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ji(this),Fc(this))};function ul(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Fc(u){u.g=new gr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=ke(u.na);re(y,"RID","rpc"),re(y,"SID",u.M),re(y,"AID",u.K),re(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&re(y,"TO",u.ia),re(y,"TYPE","xmlhttp"),ra(u,y),u.u&&u.o&&ta(y,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Zs(ke(y)),b.u=null,b.R=!0,Va(b,u)}i.Va=function(){this.C!=null&&(this.C=null,Ji(this),ia(this),ve(19))};function Fa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Gc(u,y){var b=null;if(u.g==y){Fa(u),ul(u),u.g=null;var S=2}else if(Br(u.h,y))b=y.G,Wo(u.h,y),S=1;else return;if(u.I!=0){if(y.o)if(S==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var U=u.D;S=Mr(),we(S,new jn(S,b)),Yr(u)}else Hc(u);else if(U=y.m,U==3||U==0&&y.X>0||!(S==1&&Ha(u,y)||S==2&&ia(u)))switch(b&&b.length>0&&(y=u.h,y.i=y.i.concat(b)),U){case 1:$r(u,5);break;case 4:$r(u,10);break;case 3:$r(u,6);break;default:$r(u,2)}}}function Yc(u,y){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*y}function $r(u,y){if(u.j.info("Error code "+y),y==2){var b=g(u.bb,u),S=u.Ua;const U=!S;S=new Ln(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qe(S,"https"),Zs(S),U?_r(S.toString(),b):sl(S.toString(),b)}else ve(2);u.I=0,u.l&&u.l.pa(y),$c(u),qa(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function $c(u){if(u.I=0,u.ja=[],u.l){const y=tl(u.h);(y.length!=0||u.i.length!=0)&&(H(u.ja,y),H(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function Qc(u,y,b){var S=b instanceof Ln?ke(b):new Ln(b);if(S.g!="")y&&(S.g=y+"."+S.g),Gi(S,S.u);else{var U=f.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const F=new Ln(null);S&&Qe(F,S),y&&(F.g=y),U&&Gi(F,U),b&&(F.h=b),S=F}return b=u.G,y=u.wa,b&&y&&re(S,b,y),re(S,"VER",u.ka),ra(u,S),S}function Kc(u,y,b){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new ae(new Hr({ab:b})):new ae(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}i=Xc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Wi(){}Wi.prototype.g=function(u,y){return new Tn(u,y)};function Tn(u,y){te.call(this),this.g=new Zi(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!R(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new di(this)}v(Tn,te),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){ll(this.g)},Tn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=dr(u),u=b);y.i.push(new De(y.Ya++,u)),y.I==3&&Yr(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,Tn.Z.N.call(this)};function Zc(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){t:{for(const b in y){u=b;break t}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}v(Zc,ze);function Jc(){bn.call(this),this.status=1}v(Jc,bn);function di(u){this.g=u}v(di,Xc),di.prototype.ra=function(){we(this.g,"a")},di.prototype.qa=function(u){we(this.g,new Zc(u))},di.prototype.pa=function(u){we(this.g,new Jc)},di.prototype.oa=function(){we(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,JE=function(){return new Wi},ZE=function(){return Mr()},XE=ge,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,ph=Xn,en.COMPLETE="complete",KE=en,pr.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",te.prototype.listen=te.prototype.J,Wl=pr,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,QE=ae}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore",k0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new gp("@firebase/firestore");function wo(){return Na.logLevel}function ft(i,...t){if(Na.logLevel<=Ht.DEBUG){const n=t.map(Cp);Na.debug(`Firestore (${qo}): ${i}`,...n)}}function Ui(i,...t){if(Na.logLevel<=Ht.ERROR){const n=t.map(Cp);Na.error(`Firestore (${qo}): ${i}`,...n)}}function Oo(i,...t){if(Na.logLevel<=Ht.WARN){const n=t.map(Cp);Na.warn(`Firestore (${qo}): ${i}`,...n)}}function Cp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,WE(i,s,n)}function WE(i,t,n){let s=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ui(s),new Error(s)}function ne(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||WE(t,o,s)}function kt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Bi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class mI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pI{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ne(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ne(typeof s.accessToken=="string",31837,{l:s}),new tT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class gI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new gI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ne(this.o===void 0,3512);const s=c=>{c.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function Ft(i,t){return i<t?-1:i>t?1:0}function Fm(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=t.charAt(s);if(o!==c)return wm(o)===wm(c)?Ft(o,c):wm(o)?1:-1}return Ft(i.length,t.length)}const bI=55296,EI=57343;function wm(i){const t=i.charCodeAt(0);return t>=bI&&t<=EI}function Mo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__name__";class ei{constructor(t,n,s){n===void 0?n=0:n>t.length&&xt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&xt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=ei.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return Ft(t.length,n.length)}static compareSegments(t,n){const s=ei.isNumericId(t),o=ei.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(t).compare(ei.extractNumericId(n)):Fm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ks.fromString(t.substring(4,t.length-2))}}class fe extends ei{construct(t,n,s){return new fe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new fe(n)}static emptyPath(){return new fe([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ei{construct(t,n,s){return new hn(t,n,s)}static isValidIdentifier(t){return TI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new hn([M0])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new ht(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(fe.fromString(t))}static fromName(t){return new bt(fe.fromString(t).popFirst(5))}static empty(){return new bt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return fe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(i,t,n){if(!n)throw new ht(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function wI(i,t,n,s){if(t===!0&&s===!0)throw new ht(tt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function V0(i){if(!bt.isDocumentKey(i))throw new ht(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function P0(i){if(bt.isDocumentKey(i))throw new ht(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xt(12329,{type:typeof i})}function Li(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ht(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(i);throw new ht(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(i,t){const n={typeString:i};return t&&(n.value=t),n}function Rc(i,t){if(!nT(i))throw new ht(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ht(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,U0=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*U0);return new ue(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<j0)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Rc(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Le("string",ue._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new ue(0,0))}static max(){return new It(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function SI(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new ue(n+1,0):new ue(n,s));return new Ms(o,bt.empty(),t)}function AI(i){return new Ms(i.readTime,i.key,mc)}class Ms{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(It.min(),bt.empty(),mc)}static max(){return new Ms(It.max(),bt.empty(),mc)}}function xI(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=bt.comparator(i.documentKey,t.documentKey),n!==0?n:Ft(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class II{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==RI)throw i;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,c=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(p=>s(p)))})),f=!0,c===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const c=t.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===c&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new et(((s,o)=>{const c=()=>{t()===!0?n().next((()=>{c()}),o):s()};c()}))}}function CI(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=-1;function Jh(i){return i==null}function kh(i){return i===0&&1/i==-1/0}function NI(i){return typeof i=="number"&&Number.isInteger(i)&&!kh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="";function DI(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=L0(t)),t=kI(i.get(n),t);return L0(t)}function kI(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case rT:n+="";break;default:n+=c}}return n}function L0(i){return i+rT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Hs(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function iT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,n){this.comparator=t,this.root=n||un.EMPTY}insert(t,n){return new be(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ih(this.root,t,this.comparator,!0)}}class ih{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new un(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new un(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(t){return new B0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new He(this.comparator);return n.data=t,n}}class B0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new Qn([])}unionWith(t){let n=new He(hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Mo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sT("Invalid base64 string: "+c):c}})(t);return new fn(n)}static fromUint8Array(t){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(t);return new fn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const OI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(i){if(ne(!!i,39018),typeof i=="string"){let t=0;const n=OI.exec(i);if(ne(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Re(i.seconds),nanos:Re(i.nanos)}}function Re(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ps(i){return typeof i=="string"?fn.fromBase64String(i):fn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="server_timestamp",oT="__type__",lT="__previous_value__",cT="__local_write_time__";function kp(i){return(i?.mapValue?.fields||{})[oT]?.stringValue===aT}function Wh(i){const t=i.mapValue.fields[lT];return kp(t)?Wh(t):t}function pc(i){const t=Vs(i.mapValue.fields[cT].timestampValue);return new ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,n,s,o,c,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Oh="(default)";class gc{constructor(t,n){this.projectId=t,this.database=n||Oh}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(t){return t instanceof gc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__type__",VI="__max__",sh={mapValue:{}},hT="__vector__",Mh="value";function js(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kp(i)?4:jI(i)?9007199254740991:PI(i)?10:11:xt(28295,{value:i})}function li(i,t){if(i===t)return!0;const n=js(i);if(n!==js(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return pc(i).isEqual(pc(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Vs(o.timestampValue),m=Vs(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,c){return Ps(o.bytesValue).isEqual(Ps(c.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,c){return Re(o.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(i,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Re(o.integerValue)===Re(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Re(o.doubleValue),m=Re(c.doubleValue);return f===m?kh(f)===kh(m):isNaN(f)&&isNaN(m)}return!1})(i,t);case 9:return Mo(i.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(z0(f)!==z0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!li(f[p],m[p])))return!1;return!0})(i,t);default:return xt(52216,{left:i})}}function yc(i,t){return(i.values||[]).find((n=>li(n,t)))!==void 0}function Vo(i,t){if(i===t)return 0;const n=js(i),s=js(t);if(n!==s)return Ft(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(i.booleanValue,t.booleanValue);case 2:return(function(c,f){const m=Re(c.integerValue||c.doubleValue),p=Re(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return q0(i.timestampValue,t.timestampValue);case 4:return q0(pc(i),pc(t));case 5:return Fm(i.stringValue,t.stringValue);case 6:return(function(c,f){const m=Ps(c),p=Ps(f);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(c,f){const m=c.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ft(m[g],p[g]);if(E!==0)return E}return Ft(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(c,f){const m=Ft(Re(c.latitude),Re(f.latitude));return m!==0?m:Ft(Re(c.longitude),Re(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return H0(i.arrayValue,t.arrayValue);case 10:return(function(c,f){const m=c.fields||{},p=f.fields||{},g=m[Mh]?.arrayValue,E=p[Mh]?.arrayValue,v=Ft(g?.values?.length||0,E?.values?.length||0);return v!==0?v:H0(g,E)})(i.mapValue,t.mapValue);case 11:return(function(c,f){if(c===sh.mapValue&&f===sh.mapValue)return 0;if(c===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let v=0;v<p.length&&v<E.length;++v){const x=Fm(p[v],E[v]);if(x!==0)return x;const M=Vo(m[p[v]],g[E[v]]);if(M!==0)return M}return Ft(p.length,E.length)})(i.mapValue,t.mapValue);default:throw xt(23264,{he:n})}}function q0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ft(i,t);const n=Vs(i),s=Vs(t),o=Ft(n.seconds,s.seconds);return o!==0?o:Ft(n.nanos,s.nanos)}function H0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Vo(n[o],s[o]);if(c)return c}return Ft(n.length,s.length)}function Po(i){return Gm(i)}function Gm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ps(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return bt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Gm(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Gm(n.fields[f])}`;return o+"}"})(i.mapValue):xt(61005,{value:i})}function gh(i){switch(js(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wh(i);return t?16+gh(t):16;case 5:return 2*i.stringValue.length;case 6:return Ps(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+gh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Hs(s.fields,((c,f)=>{o+=c.length+gh(f)})),o})(i.mapValue);default:throw xt(13486,{value:i})}}function F0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Ym(i){return!!i&&"integerValue"in i}function Op(i){return!!i&&"arrayValue"in i}function G0(i){return!!i&&"nullValue"in i}function Y0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yh(i){return!!i&&"mapValue"in i}function PI(i){return(i?.mapValue?.fields||{})[uT]?.stringValue===hT}function sc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Hs(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=sc(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=sc(i.arrayValue.values[n]);return t}return{...i}}function jI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===VI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!yh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=sc(n)}setAll(t){let n=hn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=sc(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Hs(n,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new Mn(sc(this.value))}}function fT(i){const t=[];return Hs(i.fields,((n,s)=>{const o=new hn([n]);if(yh(s)){const c=fT(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)})),new Qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n,s,o,c,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(t){return new yn(t,0,It.min(),It.min(),It.min(),Mn.empty(),0)}static newFoundDocument(t,n,s,o){return new yn(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new yn(t,2,n,It.min(),It.min(),Mn.empty(),0)}static newUnknownDocument(t,n){return new yn(t,3,n,It.min(),It.min(),Mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n){this.position=t,this.inclusive=n}}function $0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const c=t[o],f=i.position[o];if(c.field.isKeyField()?s=bt.comparator(bt.fromName(f.referenceValue),n.key):s=Vo(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!li(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n="asc"){this.field=t,this.dir=n}}function UI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{}class Ue extends dT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new zI(t,n,s):n==="array-contains"?new HI(t,s):n==="in"?new FI(t,s):n==="not-in"?new GI(t,s):n==="array-contains-any"?new YI(t,s):new Ue(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new BI(t,s):new qI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends dT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ir(t,n)}matches(t){return mT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mT(i){return i.op==="and"}function pT(i){return LI(i)&&mT(i)}function LI(i){for(const t of i.filters)if(t instanceof Ir)return!1;return!0}function $m(i){if(i instanceof Ue)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(pT(i))return i.filters.map((t=>$m(t))).join(",");{const t=i.filters.map((n=>$m(n))).join(",");return`${i.op}(${t})`}}function gT(i,t){return i instanceof Ue?(function(s,o){return o instanceof Ue&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)})(i,t):i instanceof Ir?(function(s,o){return o instanceof Ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,m)=>c&&gT(f,o.filters[m])),!0):!1})(i,t):void xt(19439)}function yT(i){return i instanceof Ue?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(i):i instanceof Ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(yT).join(" ,")+"}"})(i):"Filter"}class zI extends Ue{constructor(t,n,s){super(t,n,s),this.key=bt.fromName(s.referenceValue)}matches(t){const n=bt.comparator(t.key,this.key);return this.matchesComparison(n)}}class BI extends Ue{constructor(t,n){super(t,"in",n),this.keys=_T("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class qI extends Ue{constructor(t,n){super(t,"not-in",n),this.keys=_T("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function _T(i,t){return(t.arrayValue?.values||[]).map((n=>bt.fromName(n.referenceValue)))}class HI extends Ue{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Op(n)&&yc(n.arrayValue,this.value)}}class FI extends Ue{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class GI extends Ue{constructor(t,n){super(t,"not-in",n)}matches(t){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yc(this.value.arrayValue,n)}}class YI extends Ue{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n=null,s=[],o=[],c=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function K0(i,t=null,n=[],s=[],o=null,c=null,f=null){return new $I(i,t,n,s,o,c,f)}function Mp(i){const t=kt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>$m(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Jh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Po(s))).join(",")),t.Te=n}return t.Te}function Vp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!UI(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!gT(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Q0(i.startAt,t.startAt)&&Q0(i.endAt,t.endAt)}function Qm(i){return bt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n=null,s=[],o=[],c=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QI(i,t,n,s,o,c,f,m){return new Ic(i,t,n,s,o,c,f,m)}function Pp(i){return new Ic(i)}function X0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vT(i){return i.collectionGroup!==null}function ac(i){const t=kt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new He(hn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ph(c,s))})),n.has(hn.keyField().canonicalString())||t.Ie.push(new Ph(hn.keyField(),s))}return t.Ie}function ri(i){const t=kt(i);return t.Ee||(t.Ee=KI(t,ac(i))),t.Ee}function KI(i,t){if(i.limitType==="F")return K0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ph(o.field,c)}));const n=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return K0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Km(i,t){const n=i.filters.concat([t]);return new Ic(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Xm(i,t,n){return new Ic(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function tf(i,t){return Vp(ri(i),ri(t))&&i.limitType===t.limitType}function bT(i){return`${Mp(ri(i))}|lt:${i.limitType}`}function So(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>yT(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(ri(i))}; limitType=${i.limitType})`}function ef(i,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):bt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,t)&&(function(s,o){for(const c of ac(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=$0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,ac(s),o)||s.endAt&&!(function(f,m,p){const g=$0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,ac(s),o))})(i,t)}function XI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ET(i){return(t,n)=>{let s=!1;for(const o of ac(i)){const c=ZI(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function ZI(i,t,n){const s=i.field.isKeyField()?bt.comparator(t.key,n.key):(function(c,f,m){const p=f.data.field(c),g=m.data.field(c);return p!==null&&g!==null?Vo(p,g):xt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,((n,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new be(bt.comparator);function zi(){return JI}const TT=new be(bt.comparator);function tc(...i){let t=TT;for(const n of i)t=t.insert(n.key,n);return t}function wT(i){let t=TT;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Sa(){return oc()}function ST(){return oc()}function oc(){return new ka((i=>i.toString()),((i,t)=>i.isEqual(t)))}const WI=new be(bt.comparator),tC=new He(bt.comparator);function Gt(...i){let t=tC;for(const n of i)t=t.add(n);return t}const eC=new He(Ft);function nC(){return eC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(t)?"-0":t}}function AT(i){return{integerValue:""+i}}function rC(i,t){return NI(t)?AT(t):jp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function iC(i,t,n){return i instanceof jh?(function(o,c){const f={fields:{[oT]:{stringValue:aT},[cT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&kp(c)&&(c=Wh(c)),c&&(f.fields[lT]=c),{mapValue:f}})(n,t):i instanceof _c?RT(i,t):i instanceof vc?IT(i,t):(function(o,c){const f=xT(o,c),m=Z0(f)+Z0(o.Ae);return Ym(f)&&Ym(o.Ae)?AT(m):jp(o.serializer,m)})(i,t)}function sC(i,t,n){return i instanceof _c?RT(i,t):i instanceof vc?IT(i,t):n}function xT(i,t){return i instanceof Uh?(function(s){return Ym(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class jh extends nf{}class _c extends nf{constructor(t){super(),this.elements=t}}function RT(i,t){const n=CT(t);for(const s of i.elements)n.some((o=>li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class vc extends nf{constructor(t){super(),this.elements=t}}function IT(i,t){let n=CT(t);for(const s of i.elements)n=n.filter((o=>!li(o,s)));return{arrayValue:{values:n}}}class Uh extends nf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Z0(i){return Re(i.integerValue||i.doubleValue)}function CT(i){return Op(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function aC(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof _c&&o instanceof _c||s instanceof vc&&o instanceof vc?Mo(s.elements,o.elements,li):s instanceof Uh&&o instanceof Uh?li(s.Ae,o.Ae):s instanceof jh&&o instanceof jh})(i.transform,t.transform)}class oC{constructor(t,n){this.version=t,this.transformResults=n}}class ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _h(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class rf{}function NT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new kT(i.key,ii.none()):new Cc(i.key,i.data,ii.none());{const n=i.data,s=Mn.empty();let o=new He(hn.comparator);for(let c of t.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Fs(i.key,s,new Qn(o.toArray()),ii.none())}}function lC(i,t,n){i instanceof Cc?(function(o,c,f){const m=o.value.clone(),p=W0(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,t,n):i instanceof Fs?(function(o,c,f){if(!_h(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=W0(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(DT(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,t,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function lc(i,t,n,s){return i instanceof Cc?(function(c,f,m,p){if(!_h(c.precondition,f))return m;const g=c.value.clone(),E=tb(c.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof Fs?(function(c,f,m,p){if(!_h(c.precondition,f))return m;const g=tb(c.fieldTransforms,p,f),E=f.data;return E.setAll(DT(c)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((v=>v.field)))})(i,t,n,s):(function(c,f,m){return _h(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,t,n)}function cC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),c=xT(s.transform,o||null);c!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,c))}return n||null}function J0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Mo(s,o,((c,f)=>aC(c,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Cc extends rf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends rf{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DT(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function W0(i,t,n){const s=new Map;ne(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],f=c.transform,m=t.data.field(c.field);s.set(c.field,sC(f,m,n[o]))}return s}function tb(i,t,n){const s=new Map;for(const o of i){const c=o.transform,f=n.data.field(o.field);s.set(o.field,iC(c,f,t))}return s}class kT extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&lC(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=lc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=lc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=ST();return this.mutations.forEach((o=>{const c=t.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const p=NT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Gt())}isEqual(t){return this.batchId===t.batchId&&Mo(this.mutations,t.mutations,((n,s)=>J0(n,s)))&&Mo(this.baseMutations,t.baseMutations,((n,s)=>J0(n,s)))}}class Up{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ne(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return WI})();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Up(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,$t;function mC(i){switch(i){case tt.OK:return xt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return xt(15467,{code:i})}}function OT(i){if(i===void 0)return Ui("GRPC error has no .code"),tt.UNKNOWN;switch(i){case je.OK:return tt.OK;case je.CANCELLED:return tt.CANCELLED;case je.UNKNOWN:return tt.UNKNOWN;case je.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case je.INTERNAL:return tt.INTERNAL;case je.UNAVAILABLE:return tt.UNAVAILABLE;case je.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case je.NOT_FOUND:return tt.NOT_FOUND;case je.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case je.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case je.ABORTED:return tt.ABORTED;case je.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case je.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case je.DATA_LOSS:return tt.DATA_LOSS;default:return xt(39323,{code:i})}}($t=je||(je={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new ks([4294967295,4294967295],0);function eb(i){const t=pC().encode(i),n=new $E;return n.update(t),new Uint8Array(n.digest())}function nb(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ks([n,s],0),new ks([o,c],0)]}class Lp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(s<0)throw new ec(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ks.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ks.fromNumber(s)));return o.compare(gC)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=eb(t),[s,o]=nb(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Lp(c,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=eb(t),[s,o]=nb(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Nc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new sf(It.min(),o,new be(Ft),zi(),Gt())}}class Nc{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Nc(s,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class MT{constructor(t,n){this.targetId=t,this.Ce=n}}class VT{constructor(t,n,s=fn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class rb{constructor(){this.ve=0,this.Fe=ib(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Gt(),n=Gt(),s=Gt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xt(38017,{changeType:c})}})),new Nc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=ib()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yC{constructor(t){this.Ge=t,this.ze=new Map,this.je=zi(),this.Je=ah(),this.He=ah(),this.Ye=new be(Ft)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Qm(c))if(s===0){const f=new bt(c.path);this.et(n,f,yn.newNoDocument(f,It.min()))}else ne(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=Ps(s).toUint8Array()}catch(p){if(p instanceof sT)return Oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lp(f,o,c)}catch(p){return Oo(p instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Qm(m.target)){const p=new bt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,yn.newNoDocument(p,t))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Gt();this.He.forEach(((c,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(t)));const o=new sf(t,n,this.Ye,this.je,s);return this.je=zi(),this.Je=ah(),this.He=ah(),this.Ye=new be(Ft),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new rb,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new He(Ft),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new He(Ft),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rb),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ah(){return new be(bt.comparator)}function ib(){return new be(bt.comparator)}const _C={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class EC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zm(i,t){return i.useProto3Json||Jh(t)?t:{value:t}}function Lh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function TC(i,t){return Lh(i,t.toTimestamp())}function si(i){return ne(!!i,49232),It.fromTimestamp((function(n){const s=Vs(n);return new ue(s.seconds,s.nanos)})(i))}function zp(i,t){return Jm(i,t).canonicalString()}function Jm(i,t){const n=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function jT(i){const t=fe.fromString(i);return ne(qT(t),10190,{key:t.toString()}),t}function Wm(i,t){return zp(i.databaseId,t.path)}function Sm(i,t){const n=jT(t);if(n.get(1)!==i.databaseId.projectId)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new bt(LT(n))}function UT(i,t){return zp(i.databaseId,t)}function wC(i){const t=jT(i);return t.length===4?fe.emptyPath():LT(t)}function tp(i){return new fe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function LT(i){return ne(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function sb(i,t,n){return{name:Wm(i,t),fields:n.value.mapValue.fields}}function SC(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(ne(E===void 0||typeof E=="string",58123),fn.fromBase64String(E||"")):(ne(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),fn.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?tt.UNKNOWN:OT(g.code);return new ht(E,g.message||"")})(f);n=new VT(s,o,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(i,s.document.name),c=si(s.document.updateTime),f=s.document.createTime?si(s.document.createTime):It.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,c,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new vh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Sm(i,s.document),c=s.readTime?si(s.readTime):It.min(),f=yn.newNoDocument(o,c),m=s.removedTargetIds||[];n=new vh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Sm(i,s.document),c=s.removedTargetIds||[];n=new vh([],c,o,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new dC(o,c),m=s.targetId;n=new MT(m,f)}}return n}function AC(i,t){let n;if(t instanceof Cc)n={update:sb(i,t.key,t.value)};else if(t instanceof kT)n={delete:Wm(i,t.key)};else if(t instanceof Fs)n={update:sb(i,t.key,t.data),updateMask:MC(t.fieldMask)};else{if(!(t instanceof uC))return xt(16599,{Vt:t.type});n={verify:Wm(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,f){const m=f.transform;if(m instanceof jh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _c)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw xt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:TC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xt(27497)})(i,t.precondition)),n}function xC(i,t){return i&&i.length>0?(ne(t!==void 0,14353),i.map((n=>(function(o,c){let f=o.updateTime?si(o.updateTime):si(c);return f.isEqual(It.min())&&(f=si(c)),new oC(f,o.transformResults||[])})(n,t)))):[]}function RC(i,t){return{documents:[UT(i,t.path)]}}function IC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=UT(i,o);const c=(function(g){if(g.length!==0)return BT(Ir.create(g,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const f=(function(g){if(g.length!==0)return g.map((E=>(function(x){return{field:Ao(x.field),direction:DC(x.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function CC(i){let t=wC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ne(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];n.where&&(c=(function(v){const x=zT(v);return x instanceof Ir&&pT(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(v){return v.map((x=>(function(H){return new Ph(xo(H.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(v){let x;return x=typeof v=="object"?v.value:v,Jh(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(v){const x=!!v.before,M=v.values||[];return new Vh(M,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const x=!v.before,M=v.values||[];return new Vh(M,x)})(n.endAt)),QI(t,o,f,c,m,"F",p,g)}function NC(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xo(n.unaryFilter.field);return Ue.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(n.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xo(n.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xo(n.unaryFilter.field);return Ue.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ue.create(xo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ir.create(n.compositeFilter.filters.map((s=>zT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(n.compositeFilter.op))})(i):xt(30097,{filter:i})}function DC(i){return _C[i]}function kC(i){return vC[i]}function OC(i){return bC[i]}function Ao(i){return{fieldPath:i.canonicalString()}}function xo(i){return hn.fromServerFormat(i.fieldPath)}function BT(i){return i instanceof Ue?(function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(G0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(G0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:kC(n.op),value:n.value}}})(i):i instanceof Ir?(function(n){const s=n.getFilters().map((o=>BT(o)));return s.length===1?s[0]:{compositeFilter:{op:OC(n.op),filters:s}}})(i):xt(54877,{filter:i})}function MC(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function qT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t,n,s,o,c=It.min(),f=It.min(),m=fn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.yt=t}}function PC(i){const t=CC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.Cn=new UC}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(Ms.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(Ms.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class UC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new He(fe.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new He(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(HT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="LruGarbageCollector",LC=1048576;function lb([i,t],[n,s]){const o=Ft(i,n);return o===0?Ft(t,s):o}class zC{constructor(t){this.Ir=t,this.buffer=new He(lb),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(ob,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?ft(ob,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.Vr(3e5)}))}}class qC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Zh.ce);const s=new zC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(ab)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,c,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,f=Date.now(),this.nthSequenceNumber(t,o)))).next((v=>(s=v,m=Date.now(),this.removeTargets(t,s,n)))).next((v=>(c=v,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(g=Date.now(),wo()<=Ht.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:v}))))}}function HC(i,t){return new qC(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.changes=new ka((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&lc(s.mutation,o,Qn.empty(),ue.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Gt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Gt()){const o=Sa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((c=>{let f=tc();return c.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Sa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Gt())))}populateOverlays(t,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let c=zi();const f=oc(),m=(function(){return oc()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Fs)?c=c.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),lc(E.mutation,g,E.mutation.getFieldMask(),ue.now())):f.set(g.key,Qn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new GC(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=oc();let o=new be(((f,m)=>f-m)),c=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Qn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const v=(o.get(m.batchId)||Gt()).add(p);o=o.insert(m.batchId,v)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,v=ST();E.forEach((x=>{if(!c.has(x)){const M=NT(n.get(x),s.get(x));M!==null&&v.set(x,M),c=c.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,v))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return bt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):vT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):et.resolve(Sa());let m=mc,p=c;return f.next((g=>et.forEach(g,((E,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((x=>{p=p.insert(E,x)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,p,g,Gt()))).next((E=>({batchId:m,changes:wT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new bt(n)).next((s=>{let o=tc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let f=tc();return this.indexManager.getCollectionParents(t,c).next((m=>et.forEach(m,(p=>{const g=(function(v,x){return new Ic(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((v,x)=>{f=f.insert(v,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o)))).next((f=>{c.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let m=tc();return f.forEach(((p,g)=>{const E=c.get(p);E!==void 0&&lc(E.mutation,g,Qn.empty(),ue.now()),ef(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:PC(o.bundledQuery),readTime:si(o.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.overlays=new be(bt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Sa();return et.forEach(n,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,c)=>{this.St(t,n,c)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=Sa(),c=n.length+1,f=new bt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new be(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=c.get(g.largestBatchId);E===null&&(E=Sa(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Sa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return et.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new fC(n,s));let c=this.qr.get(n);c===void 0&&(c=Gt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.Qr=new He(Xe.$r),this.Ur=new He(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Xe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Xe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new bt(new fe([])),s=new Xe(n,t),o=new Xe(n,t+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new bt(new fe([])),s=new Xe(n,t),o=new Xe(n,t+1);let c=Gt();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(t){const n=new Xe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Xe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return bt.comparator(t.key,n.key)||Ft(t.Yr,n.Yr)}static Kr(t,n){return Ft(t.Yr,n.Yr)||bt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new He(Xe.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hC(c,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Xe(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Dp:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Xe(n,0),o=new Xe(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);c.push(m)})),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new He(Ft);return n.forEach((o=>{const c=new Xe(o,0),f=new Xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(m=>{s=s.add(m.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;bt.isDocumentKey(c)||(c=c.child(""));const f=new Xe(new bt(c),0);let m=new He(Ft);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),et.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){ne(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(o=>{const c=new Xe(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Xe(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t){this.ri=t,this.docs=(function(){return new be(bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(t,n){let s=zi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():yn.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=zi();const f=n.path,m=new bt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||xI(AI(E),s)<=0||(o.has(E.key)||ef(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(t,n,s,o){xt(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new JC(this)}getSize(t){return et.resolve(this.size)}}class JC extends FC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.persistence=t,this.si=new ka((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new Bp,this.targetCount=0,this.ai=jo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(c).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(t,f))})),et.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new KC,this.referenceDelegate=t(this),this.Pi=new WC(this),this.indexManager=new jC,this.remoteDocumentCache=(function(o){return new ZC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new VC(n),this.Ii=new $C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new QC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new XC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const o=new tN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class tN extends II{constructor(t){super(),this.currentSequenceNumber=t}}class qp{constructor(t){this.persistence=t,this.Ri=new Bp,this.Vi=null}static mi(t){return new qp(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=bt.fromPath(s);return this.gi(t,o).next((c=>{c||n.removeEntry(o,It.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class zh{constructor(t,n){this.persistence=t,this.pi=new ka((s=>DI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=HC(this,n)}static mi(t,n){return new zh(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((c=>c?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,c.removeEntry(f,It.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Gt(),o=Gt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Hp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DA()?8:CI(_n())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ys(t,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(t,n,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new eN;return this.Ss(t,n,f).next((m=>{if(c.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>c.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(wo()<=Ht.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(wo()<=Ht.DEBUG&&ft("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(wo()<=Ht.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(n))):et.resolve())}ys(t,n){if(X0(n))return et.resolve(null);let s=ri(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const f=Gt(...c);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(t,Xm(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return X0(n)||o.isEqual(It.min())?et.resolve(null):this.ps.getDocuments(t,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,o)?et.resolve(null):(wo()<=Ht.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(n)),this.vs(t,f,n,SI(o,mc)).next((m=>m)))}))}Ds(t,n){let s=new He(ET(t));return n.forEach(((o,c)=>{ef(t,c)&&(s=s.add(c))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,n,s){return wo()<=Ht.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",So(n)),this.ps.getDocumentsMatchingQuery(t,n,Ms.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",rN=3e8;class iN{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new be(Ft),this.xs=new ka((c=>Mp(c)),Vp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function sN(i,t,n,s){return new iN(i,t,n,s)}async function GT(i,t){const n=kt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],m=[];let p=Gt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of c){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function aN(i,t){const n=kt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const v=g.batch,x=v.keys();let M=et.resolve();return x.forEach((H=>{M=M.next((()=>E.getEntry(p,H))).next((X=>{const Q=g.docVersions.get(H);ne(Q!==null,48541),X.version.compareTo(Q)<0&&(v.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,v)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Gt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function YT(i){const t=kt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function oN(i,t){const n=kt(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,v)=>{const x=o.get(v);if(!x)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,v))));let M=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(v)!==null?M=M.withResumeToken(fn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(v,M),(function(X,Q,Z){return X.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=rN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(x,M,E)&&m.push(n.Pi.updateTargetData(c,M))}));let p=zi(),g=Gt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(lN(c,f,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(It.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((v=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(E)}return et.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function lN(i,t,n){let s=Gt(),o=Gt();return n.forEach((c=>s=s.add(c))),t.getEntries(i,s).next((c=>{let f=zi();return n.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ft(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function cN(i,t){const n=kt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function uN(i,t){const n=kt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((c=>c?(o=c,et.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Is(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function ep(i,t,n){const s=kt(i),o=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Fo(f))throw f;ft(Fp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function cb(i,t,n){const s=kt(i);let o=It.min(),c=Gt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const v=kt(p),x=v.xs.get(E);return x!==void 0?et.resolve(v.Ms.get(x)):v.Pi.getTargetData(g,E)})(s,f,ri(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:It.min(),n?c:Gt()))).next((m=>(hN(s,XI(t),m),{documents:m,Qs:c})))))}function hN(i,t,n){let s=i.Os.get(t)||It.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(t,s)}class ub{constructor(){this.activeTargetIds=nC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fN{constructor(){this.Mo=new ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ub,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="ConnectivityMonitor";class fb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(hb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(hb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function np(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,c){const f=np(),m=this.zo(t,n.toUriEncodedString());ft(Am,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(m),E=Lo(g);return this.Jo(t,m,p,s,E).then((v=>(ft(Am,`Received RPC '${t}' ${f}: `,v),v)),(v=>{throw Oo(Am,`RPC '${t}' ${f} failed with error: `,v,"url: ",m,"request:",s),v}))}Ho(t,n,s,o,c,f){return this.Go(t,n,s,o,c)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}zo(t,n){const s=mN[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class yN extends pN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,c){const f=np();return new Promise(((m,p)=>{const g=new QE;g.setWithCredentials(!0),g.listenOnce(KE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const v=g.getResponseJson();ft(pn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(v)),m(v);break;case ph.TIMEOUT:ft(pn,`RPC '${t}' ${f} timed out`),p(new ht(tt.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const x=g.getStatus();if(ft(pn,`RPC '${t}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const H=M?.error;if(H&&H.status&&H.message){const X=(function(Z){const ut=Z.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ut)>=0?ut:tt.UNKNOWN})(H.status);p(new ht(X,H.message))}else p(new ht(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(tt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(pn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ft(pn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=np(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=JE(),m=ZE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ft(pn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const v=f.createWebChannel(E,p);this.I_(v);let x=!1,M=!1;const H=new gN({Yo:Q=>{M?ft(pn,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(x||(ft(pn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),x=!0),ft(pn,`RPC '${t}' stream ${o} sending:`,Q),v.send(Q))},Zo:()=>v.close()}),X=(Q,Z,ut)=>{Q.listen(Z,(lt=>{try{ut(lt)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return X(v,Wl.EventType.OPEN,(()=>{M||(ft(pn,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),X(v,Wl.EventType.CLOSE,(()=>{M||(M=!0,ft(pn,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(v))})),X(v,Wl.EventType.ERROR,(Q=>{M||(M=!0,Oo(pn,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),H.a_(new ht(tt.UNAVAILABLE,"The operation could not be completed")))})),X(v,Wl.EventType.MESSAGE,(Q=>{if(!M){const Z=Q.data[0];ne(!!Z,16349);const ut=Z,lt=ut?.error||ut[0]?.error;if(lt){ft(pn,`RPC '${t}' stream ${o} received error:`,lt);const Et=lt.status;let jt=(function(A){const I=je[A];if(I!==void 0)return OT(I)})(Et),wt=lt.message;jt===void 0&&(jt=tt.INTERNAL,wt="Unknown error status: "+Et+" with message "+lt.message),M=!0,H.a_(new ht(jt,wt)),v.close()}else ft(pn,`RPC '${t}' stream ${o} received:`,Z),H.u_(Z)}})),X(m,XE.STAT_EVENT,(Q=>{Q.stat===Hm.PROXY?ft(pn,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===Hm.NOPROXY&&ft(pn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(i){return new EC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="PersistentStream";class QT{constructor(t,n,s,o,c,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $T(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(db,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _N extends QT{constructor(t,n,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=SC(this.serializer,t),s=(function(c){if(!("targetChange"in c))return It.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?It.min():f.readTime?si(f.readTime):It.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=tp(this.serializer),n.addTarget=(function(c,f){let m;const p=f.target;if(m=Qm(p)?{documents:RC(c,p)}:{query:IC(c,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=PT(c,f.resumeToken);const g=Zm(c,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(It.min())>0){m.readTime=Lh(c,f.snapshotVersion.toTimestamp());const g=Zm(c,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=NC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=tp(this.serializer),n.removeTarget=t,this.q_(n)}}class vN extends QT{constructor(t,n,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=xC(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=tp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>AC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{}class EN extends bN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(t,Jm(n,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(tt.UNKNOWN,c.toString())}))}Ho(t,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Jm(n,s),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class wN{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Oa(this)&&(ft(Da,"Restarting streams for network reachability change."),await(async function(p){const g=kt(p);g.Ea.add(4),await Dc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await of(g)})(this))}))})),this.Ra=new TN(s,o)}}async function of(i){if(Oa(i))for(const t of i.da)await t(!0)}async function Dc(i){for(const t of i.da)await t(!1)}function KT(i,t){const n=kt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qp(n)?$p(n):Go(n).O_()&&Yp(n,t))}function Gp(i,t){const n=kt(i),s=Go(n);n.Ia.delete(t),s.O_()&&XT(n,t),n.Ia.size===0&&(s.O_()?s.L_():Oa(n)&&n.Ra.set("Unknown"))}function Yp(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Go(i).Y_(t)}function XT(i,t){i.Va.Ue(t),Go(i).Z_(t)}function $p(i){i.Va=new yC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Go(i).start(),i.Ra.ua()}function Qp(i){return Oa(i)&&!Go(i).x_()&&i.Ia.size>0}function Oa(i){return kt(i).Ea.size===0}function ZT(i){i.Va=void 0}async function SN(i){i.Ra.set("Online")}async function AN(i){i.Ia.forEach(((t,n)=>{Yp(i,t)}))}async function xN(i,t){ZT(i),Qp(i)?(i.Ra.ha(t),$p(i)):i.Ra.set("Unknown")}async function RN(i,t,n){if(i.Ra.set("Online"),t instanceof VT&&t.state===2&&t.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){ft(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Bh(i,s)}else if(t instanceof vh?i.Va.Ze(t):t instanceof MT?i.Va.st(t):i.Va.tt(t),!n.isEqual(It.min()))try{const s=await YT(i.localStore);n.compareTo(s)>=0&&await(function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(fn.EMPTY_BYTE_STRING,E.snapshotVersion)),XT(c,p);const v=new Is(E.target,p,g,E.sequenceNumber);Yp(c,v)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ft(Da,"Failed to raise snapshot:",s),await Bh(i,s)}}async function Bh(i,t,n){if(!Fo(t))throw t;i.Ea.add(1),await Dc(i),i.Ra.set("Offline"),n||(n=()=>YT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ft(Da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await of(i)}))}function JT(i,t){return t().catch((n=>Bh(i,n,t)))}async function lf(i){const t=kt(i),n=Us(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dp;for(;IN(t);)try{const o=await cN(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,CN(t,o)}catch(o){await Bh(t,o)}WT(t)&&tw(t)}function IN(i){return Oa(i)&&i.Ta.length<10}function CN(i,t){i.Ta.push(t);const n=Us(i);n.O_()&&n.X_&&n.ea(t.mutations)}function WT(i){return Oa(i)&&!Us(i).x_()&&i.Ta.length>0}function tw(i){Us(i).start()}async function NN(i){Us(i).ra()}async function DN(i){const t=Us(i);for(const n of i.Ta)t.ea(n.mutations)}async function kN(i,t,n){const s=i.Ta.shift(),o=Up.from(s,t,n);await JT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await lf(i)}async function ON(i,t){t&&Us(i).X_&&await(async function(s,o){if((function(f){return mC(f)&&f!==tt.ABORTED})(o.code)){const c=s.Ta.shift();Us(s).B_(),await JT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await lf(s)}})(i,t),WT(i)&&tw(i)}async function mb(i,t){const n=kt(i);n.asyncQueue.verifyOperationInProgress(),ft(Da,"RemoteStore received new credentials");const s=Oa(n);n.Ea.add(3),await Dc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await of(n)}async function MN(i,t){const n=kt(i);t?(n.Ea.delete(2),await of(n)):t||(n.Ea.add(2),await Dc(n),n.Ra.set("Unknown"))}function Go(i){return i.ma||(i.ma=(function(n,s,o){const c=kt(n);return c.sa(),new _N(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:SN.bind(null,i),t_:AN.bind(null,i),r_:xN.bind(null,i),H_:RN.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Qp(i)?$p(i):i.Ra.set("Unknown")):(await i.ma.stop(),ZT(i))}))),i.ma}function Us(i){return i.fa||(i.fa=(function(n,s,o){const c=kt(n);return c.sa(),new vN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:NN.bind(null,i),r_:ON.bind(null,i),ta:DN.bind(null,i),na:kN.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await lf(i)):(await i.fa.stop(),i.Ta.length>0&&(ft(Da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const f=Date.now()+s,m=new Kp(t,n,f,o,c);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(i,t){if(Ui("AsyncQueue",`${t}: ${i}`),Fo(i))return new ht(tt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(t){return new No(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||bt.comparator(n.key,s.key):(n,s)=>bt.comparator(n.key,s.key),this.keyedMap=tc(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof No)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new No;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.ga=new be(bt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Uo{constructor(t,n,s,o,c,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Uo(t,n,No.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class PN{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=kt(n),c=o.queries;o.queries=gb(),c.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ht(tt.ABORTED,"Firestore shutting down"))}}function gb(){return new ka((i=>bT(i)),tf)}async function ew(i,t){const n=kt(i);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new VN,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xp(f,`Initialization of query '${So(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Zp(n)}async function nw(i,t){const n=kt(i),s=t.query;let o=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jN(i,t){const n=kt(i);let s=!1;for(const o of t){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Zp(n)}function UN(i,t,n){const s=kt(i),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(t)}function Zp(i){i.Ca.forEach((t=>{t.next()}))}var rp,yb;(yb=rp||(rp={})).Ma="default",yb.Cache="cache";class rw{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.key=t}}class sw{constructor(t){this.key=t}}class LN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=ET(t),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new pb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,v)=>{const x=o.get(E),M=ef(this.query,v)?v:null,H=!!x&&this.mutatedKeys.has(x.key),X=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Q=!1;x&&M?x.data.isEqual(M.data)?H!==X&&(s.track({type:3,doc:M}),Q=!0):this.su(x,M)||(s.track({type:2,doc:M}),Q=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!x&&M?(s.track({type:0,doc:M}),Q=!0):x&&!M&&(s.track({type:1,doc:x}),Q=!0,(p||g)&&(m=!0)),Q&&(M?(f=f.add(M),c=X?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,v)=>(function(M,H){const X=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:Q})}};return X(M)-X(H)})(E.type,v.type)||this.eu(E.doc,v.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Uo(this.query,t.tu,c,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Gt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new sw(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new iw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Gt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jp="SyncEngine";class zN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class BN{constructor(t){this.key=t,this.hu=!1}}class qN{constructor(t,n,s,o,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ka((m=>bT(m)),tf),this.Iu=new Map,this.Eu=new Set,this.du=new be(bt.comparator),this.Au=new Map,this.Ru=new Bp,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HN(i,t,n=!0){const s=hw(i);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await aw(s,t,n,!0),o}async function FN(i,t){const n=hw(i);await aw(n,t,!0,!1)}async function aw(i,t,n,s){const o=await uN(i.localStore,ri(t)),c=o.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await GN(i,t,c,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&KT(i.remoteStore,o),m}async function GN(i,t,n,s,o){i.pu=(v,x,M)=>(async function(X,Q,Z,ut){let lt=Q.view.ru(Z);lt.Cs&&(lt=await cb(X.localStore,Q.query,!1).then((({documents:C})=>Q.view.ru(C,lt))));const Et=ut&&ut.targetChanges.get(Q.targetId),jt=ut&&ut.targetMismatches.get(Q.targetId)!=null,wt=Q.view.applyChanges(lt,X.isPrimaryClient,Et,jt);return vb(X,Q.targetId,wt.au),wt.snapshot})(i,v,x,M);const c=await cb(i.localStore,t,!0),f=new LN(t,c.Qs),m=f.ru(c.documents),p=Nc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);vb(i,n,g.au);const E=new zN(t,n,f);return i.Tu.set(t,E),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function YN(i,t,n){const s=kt(i),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!tf(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),ip(s,o.targetId)})).catch(Ho)):(ip(s,o.targetId),await ep(s.localStore,o.targetId,!0))}async function $N(i,t){const n=kt(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function QN(i,t,n){const s=eD(i);try{const o=await(function(f,m){const p=kt(f),g=ue.now(),E=m.reduce(((M,H)=>M.add(H.key)),Gt());let v,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let H=zi(),X=Gt();return p.Ns.getEntries(M,E).next((Q=>{H=Q,H.forEach(((Z,ut)=>{ut.isValidDocument()||(X=X.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,H))).next((Q=>{v=Q;const Z=[];for(const ut of m){const lt=cC(ut,v.get(ut.key).overlayedDocument);lt!=null&&Z.push(new Fs(ut.key,lt,fT(lt.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Z,m)})).next((Q=>{x=Q;const Z=Q.applyToLocalDocumentSet(v,X);return p.documentOverlayCache.saveOverlays(M,Q.batchId,Z)}))})).then((()=>({batchId:x.batchId,changes:wT(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new be(Ft)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await kc(s,o.changes),await lf(s.remoteStore)}catch(o){const c=Xp(o,"Failed to persist write");n.reject(c)}}async function ow(i,t){const n=kt(i);try{const s=await oN(n.localStore,t);t.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ne(f.hu,14607):o.removedDocuments.size>0&&(ne(f.hu,42227),f.hu=!1))})),await kc(n,s,t)}catch(s){await Ho(s)}}function _b(i,t,n){const s=kt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=kt(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,v)=>{for(const x of v.Sa)x.va(m)&&(g=!0)})),g&&Zp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function KN(i,t,n){const s=kt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),c=o&&o.key;if(c){let f=new be(bt.comparator);f=f.insert(c,yn.newNoDocument(c,It.min()));const m=Gt().add(c),p=new sf(It.min(),new Map,new be(Ft),f,m);await ow(s,p),s.du=s.du.remove(c),s.Au.delete(t),Wp(s)}else await ep(s.localStore,t,!1).then((()=>ip(s,t,n))).catch(Ho)}async function XN(i,t){const n=kt(i),s=t.batch.batchId;try{const o=await aN(n.localStore,t);cw(n,s,null),lw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kc(n,o)}catch(o){await Ho(o)}}async function ZN(i,t,n){const s=kt(i);try{const o=await(function(f,m){const p=kt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((v=>(ne(v!==null,37113),E=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);cw(s,t,n),lw(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await kc(s,o)}catch(o){await Ho(o)}}function lw(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function cw(i,t,n){const s=kt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ip(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||uw(i,s)}))}function uw(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(Gp(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),Wp(i))}function vb(i,t,n){for(const s of n)s instanceof iw?(i.Ru.addReference(s.key,t),JN(i,s)):s instanceof sw?(ft(Jp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||uw(i,s.key)):xt(19791,{wu:s})}function JN(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ft(Jp,"New document in limbo: "+n),i.Eu.add(s),Wp(i))}function Wp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new bt(fe.fromString(t)),s=i.fu.next();i.Au.set(s,new BN(n)),i.du=i.du.insert(n,s),KT(i.remoteStore,new Is(ri(Pp(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function kc(i,t,n){const s=kt(i),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Hp.As(p.targetId,g);c.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=kt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>et.forEach(g,(x=>et.forEach(x.Es,(M=>E.persistence.referenceDelegate.addReference(v,x.targetId,M))).next((()=>et.forEach(x.ds,(M=>E.persistence.referenceDelegate.removeReference(v,x.targetId,M)))))))))}catch(v){if(!Fo(v))throw v;ft(Fp,"Failed to update sequence numbers: "+v)}for(const v of g){const x=v.targetId;if(!v.fromCache){const M=E.Ms.get(x),H=M.snapshotVersion,X=M.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(x,X)}}})(s.localStore,c))}async function WN(i,t){const n=kt(i);if(!n.currentUser.isEqual(t)){ft(Jp,"User change. New user:",t.toKey());const s=await GT(n.localStore,t);n.currentUser=t,(function(c,f){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new ht(tt.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await kc(n,s.Ls)}}function tD(i,t){const n=kt(i),s=n.Au.get(t);if(s&&s.hu)return Gt().add(s.key);{let o=Gt();const c=n.Iu.get(t);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function hw(i){const t=kt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KN.bind(null,t),t.Pu.H_=jN.bind(null,t.eventManager),t.Pu.yu=UN.bind(null,t.eventManager),t}function eD(i){const t=kt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,t),t}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=af(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return sN(this.persistence,new nN,t.initialUser,this.serializer)}Cu(t){return new FT(qp.mi,this.serializer)}Du(t){return new fN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class nD extends qh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ne(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new BC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new FT((s=>zh.mi(s,n)),this.serializer)}}class sp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_b(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await MN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new PN})()}createDatastore(t){const n=af(t.databaseInfo.databaseId),s=(function(c){return new yN(c)})(t.databaseInfo);return(function(c,f,m,p){return new EN(c,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,c,f,m){return new wN(s,o,c,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>_b(this.syncEngine,n,0)),(function(){return fb.v()?new fb:new dN})())}createSyncEngine(t,n){return(function(o,c,f,m,p,g,E){const v=new qN(o,c,f,m,p,g);return E&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=kt(n);ft(Da,"RemoteStore shutting down."),s.Ea.add(5),await Dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ui("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class rD{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{ft(Ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ft(Ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Rm(i,t){i.asyncQueue.verifyOperationInProgress(),ft(Ls,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await GT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function bb(i,t){i.asyncQueue.verifyOperationInProgress();const n=await iD(i);ft(Ls,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>mb(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>mb(t.remoteStore,o))),i._onlineComponents=t}async function iD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ft(Ls,"Using user provided OfflineComponentProvider");try{await Rm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await Rm(i,new qh)}}else ft(Ls,"Using default OfflineComponentProvider"),await Rm(i,new nD(void 0));return i._offlineComponents}async function dw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ft(Ls,"Using user provided OnlineComponentProvider"),await bb(i,i._uninitializedComponentsProvider._online)):(ft(Ls,"Using default OnlineComponentProvider"),await bb(i,new sp))),i._onlineComponents}function sD(i){return dw(i).then((t=>t.syncEngine))}async function mw(i){const t=await dw(i),n=t.eventManager;return n.onListen=HN.bind(null,t.syncEngine),n.onUnlisten=YN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=FN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$N.bind(null,t.syncEngine),n}function aD(i,t,n={}){const s=new Vi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,g){const E=new fw({next:x=>{E.Nu(),f.enqueueAndForget((()=>nw(c,v)));const M=x.docs.has(m);!M&&x.fromCache?g.reject(new ht(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&p&&p.source==="server"?g.reject(new ht(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new rw(Pp(m.path),E,{includeMetadataChanges:!0,qa:!0});return ew(c,v)})(await mw(i),i.asyncQueue,t,n,s))),s.promise}function oD(i,t,n={}){const s=new Vi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,g){const E=new fw({next:x=>{E.Nu(),f.enqueueAndForget((()=>nw(c,v))),x.fromCache&&p.source==="server"?g.reject(new ht(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new rw(m,E,{includeMetadataChanges:!0,qa:!0});return ew(c,v)})(await mw(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firestore.googleapis.com",Tb=!0;class wb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gw,this.ssl=Tb}else this.host=t.host,this.ssl=t.ssl??Tb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LC)throw new ht(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Eb.get(n);s&&(ft("ComponentProvider","Removing Datastore"),Eb.delete(n),s.terminate())})(this),Promise.resolve()}}function lD(i,t,n,s={}){i=Li(i,cf);const o=Lo(t),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(aE(`https://${m}`),oE("Firestore",!0)),c.host!==gw&&c.host!==m&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!xa(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=gn.MOCK_USER;else{g=TA(s.mockUserToken,i._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ht(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(v)}i._authCredentials=new mI(new tT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Yo(this.firestore,t,this._query)}}class Ie{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Rc(n,Ie._jsonSchema))return new Ie(t,s||null,new bt(fe.fromString(n.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Le("string",Ie._jsonSchemaVersion),referencePath:Le("string")};class Os extends Yo{constructor(t,n,s){super(t,n,Pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new bt(t))}withConverter(t){return new Os(this.firestore,t,this._path)}}function cD(i,t,...n){if(i=Ze(i),eT("collection","path",t),i instanceof cf){const s=fe.fromString(t,...n);return P0(s),new Os(i,null,s)}{if(!(i instanceof Ie||i instanceof Os))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(fe.fromString(t,...n));return P0(s),new Os(i.firestore,null,s)}}function ws(i,t,...n){if(i=Ze(i),arguments.length===1&&(t=Np.newId()),eT("doc","path",t),i instanceof cf){const s=fe.fromString(t,...n);return V0(s),new Ie(i,null,new bt(s))}{if(!(i instanceof Ie||i instanceof Os))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(fe.fromString(t,...n));return V0(s),new Ie(i.firestore,i instanceof Os?i.converter:null,new bt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="AsyncQueue";class Ab{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $T(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&ft(Sb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Fo(t))throw t;ft(Sb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",xb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Kp.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xt(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function xb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Oc extends cf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Ab,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ab(t),this._firestoreClient=void 0,await t}}}function uD(i,t){const n=typeof i=="object"?i:hE(),s=typeof i=="string"?i:Oh,o=_p(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=bA("firestore");c&&lD(o,...c)}return o}function tg(i){if(i._terminated)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||hD(i),i._firestoreClient}function hD(i){const t=i._freezeSettings(),n=(function(o,c,f,m){return new MI(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,pw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new rD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cr(fn.fromBase64String(t))}catch(n){throw new ht(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cr(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Rc(t,cr._jsonSchema))return cr.fromBase64String(t.bytes)}}cr._jsonSchemaVersion="firestore/bytes/1.0",cr._jsonSchema={type:Le("string",cr._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(t){if(Rc(t,ai._jsonSchema))return new ai(t.latitude,t.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:Le("string",ai._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Rc(t,oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new oi(t.vectorValues);throw new ht(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Le("string",oi._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=/^__.*__$/;class dD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Fs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(t,this.data,n,this.fieldTransforms)}}class yw{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Fs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function _w(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:i})}}class ng{constructor(t,n,s,o,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ng({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_w(this.Ac)&&fD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class mD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||af(t)}Cc(t,n,s,o=!1){return new ng({Ac:t,methodName:n,Dc:s,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(i){const t=i._freezeSettings(),n=af(i._databaseId);return new mD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function pD(i,t,n,s,o,c={}){const f=i.Cc(c.merge||c.mergeFields?2:0,t,n,o);ig("Data must be an object, but it was:",f,s);const m=vw(s,f);let p,g;if(c.merge)p=new Qn(f.fieldMask),g=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const v of c.mergeFields){const x=ap(t,v,n);if(!f.contains(x))throw new ht(tt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ew(E,x)||E.push(x)}p=new Qn(E),g=f.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=f.fieldTransforms;return new dD(new Mn(m),p,g)}class hf extends eg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hf}}function gD(i,t,n,s){const o=i.Cc(1,t,n);ig("Data must be an object, but it was:",o,s);const c=[],f=Mn.empty();Hs(s,((p,g)=>{const E=sg(t,p,n);g=Ze(g);const v=o.yc(E);if(g instanceof hf)c.push(E);else{const x=Mc(g,v);x!=null&&(c.push(E),f.set(E,x))}}));const m=new Qn(c);return new yw(f,m,o.fieldTransforms)}function yD(i,t,n,s,o,c){const f=i.Cc(1,t,n),m=[ap(t,s,n)],p=[o];if(c.length%2!=0)throw new ht(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)m.push(ap(t,c[x])),p.push(c[x+1]);const g=[],E=Mn.empty();for(let x=m.length-1;x>=0;--x)if(!Ew(g,m[x])){const M=m[x];let H=p[x];H=Ze(H);const X=f.yc(M);if(H instanceof hf)g.push(M);else{const Q=Mc(H,X);Q!=null&&(g.push(M),E.set(M,Q))}}const v=new Qn(g);return new yw(E,v,f.fieldTransforms)}function _D(i,t,n,s=!1){return Mc(n,i.Cc(s?4:3,t))}function Mc(i,t){if(bw(i=Ze(i)))return ig("Unsupported field value:",t,i),vw(i,t);if(i instanceof eg)return(function(s,o){if(!_w(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const m of s){let p=Mc(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(i,t)}return(function(s,o){if((s=Ze(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ue.fromDate(s);return{timestampValue:Lh(o.serializer,c)}}if(s instanceof ue){const c=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,c)}}if(s instanceof ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof cr)return{bytesValue:PT(o.serializer,s._byteString)};if(s instanceof Ie){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof oi)return(function(f,m){return{mapValue:{fields:{[uT]:{stringValue:hT},[Mh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return jp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xh(s)}`)})(i,t)}function vw(i,t){const n={};return iT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(i,((s,o)=>{const c=Mc(o,t.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function bw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ue||i instanceof ai||i instanceof cr||i instanceof Ie||i instanceof eg||i instanceof oi)}function ig(i,t,n){if(!bw(n)||!nT(n)){const s=Xh(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function ap(i,t,n){if((t=Ze(t))instanceof uf)return t._internalPath;if(typeof t=="string")return sg(i,t);throw Hh("Field path arguments must be of type string or ",i,!1,void 0,n)}const vD=new RegExp("[~\\*/\\[\\]]");function sg(i,t,n){if(t.search(vD)>=0)throw Hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new uf(...t.split("."))._internalPath}catch{throw Hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Hh(i,t,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ht(tt.INVALID_ARGUMENT,m+i+p)}function Ew(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bD extends Tw{data(){return super.data()}}function ag(i,t){return typeof t=="string"?sg(i,t):t instanceof uf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ht(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class TD extends og{}function wD(i,t,...n){let s=[];t instanceof og&&s.push(t),s=s.concat(n),(function(c){const f=c.filter((p=>p instanceof lg)).length,m=c.filter((p=>p instanceof ff)).length;if(f>1||f>0&&m>0)throw new ht(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class ff extends TD{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ff(t,n,s)}_apply(t){const n=this._parse(t);return ww(t._query,n),new Yo(t.firestore,t.converter,Km(t._query,n))}_parse(t){const n=rg(t.firestore);return(function(c,f,m,p,g,E,v){let x;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ht(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Ib(v,E);const H=[];for(const X of v)H.push(Rb(p,c,X));x={arrayValue:{values:H}}}else x=Rb(p,c,v)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Ib(v,E),x=_D(m,f,v,E==="in"||E==="not-in");return Ue.create(g,E,x)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function SD(i,t,n){const s=t,o=ag("where",i);return ff._create(o,s,n)}class lg extends og{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new lg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const p of m)ww(f,p),f=Km(f,p)})(t._query,n),new Yo(t.firestore,t.converter,Km(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rb(i,t,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new ht(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vT(t)&&n.indexOf("/")!==-1)throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(fe.fromString(n));if(!bt.isDocumentKey(s))throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return F0(i,new bt(s))}if(n instanceof Ie)return F0(i,n._key);throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function Ib(i,t){if(!Array.isArray(i)||i.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ww(i,t){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class AD{convertValue(t,n="none"){switch(js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ps(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Hs(t,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(t){const n=t.fields?.[Mh].arrayValue?.values?.map((s=>Re(s.doubleValue)));return new oi(n)}convertGeoPoint(t){return new ai(Re(t.latitude),Re(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Wh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pc(t));default:return null}}convertTimestamp(t){const n=Vs(t);return new ue(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=fe.fromString(t);ne(qT(s),9688,{name:t});const o=new gc(s.get(1),s.get(3)),c=new bt(s.popFirst(5));return o.isEqual(n)||Ui(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(i,t,n){let s;return s=i?i.toFirestore(t):t,s}class nc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Aa extends Tw{constructor(t,n,s,o,c,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ag("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Le("string",Aa._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class bh extends Aa{data(t={}){return super.data(t)}}class Do{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new nc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new bh(this._firestore,this._userDataWriter,s.key,s,new nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:RD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Do._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(i){i=Li(i,Ie);const t=Li(i.firestore,Oc);return aD(tg(t),i._key).then((n=>CD(t,i,n)))}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:Le("string",Do._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class Sw extends AD{constructor(t){super(),this.firestore=t}convertBytes(t){return new cr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}function ID(i){i=Li(i,Yo);const t=Li(i.firestore,Oc),n=tg(t),s=new Sw(t);return ED(i._query),oD(n,i._query).then((o=>new Do(t,s,i,o)))}function Cb(i,t,n){i=Li(i,Ie);const s=Li(i.firestore,Oc),o=xD(i.converter,t);return Aw(s,[pD(rg(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ii.none())])}function Cm(i,t,n,...s){i=Li(i,Ie);const o=Li(i.firestore,Oc),c=rg(o);let f;return f=typeof(t=Ze(t))=="string"||t instanceof uf?yD(c,"updateDoc",i._key,t,n,s):gD(c,"updateDoc",i._key,t),Aw(o,[f.toMutation(i._key,ii.exists(!0))])}function Aw(i,t){return(function(s,o){const c=new Vi;return s.asyncQueue.enqueueAndForget((async()=>QN(await sD(s),o,c))),c.promise})(tg(i),t)}function CD(i,t,n){const s=n.docs.get(t._key),o=new Sw(i);return new Aa(i,o,t._key,s,new nc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){qo=o})(zo),ko(new Ra("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Oc(new pI(s.getProvider("auth-internal")),new _I(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(g.options.projectId,E)})(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Ds(D0,k0,t),Ds(D0,k0,"esm2020")})();const ND={apiKey:"AIzaSyAYc4hqiWsrzIYvoybXUK_2HglHj_Ut1Mo",authDomain:"chatapp-d92e7.firebaseapp.com",projectId:"chatapp-d92e7",storageBucket:"chatapp-d92e7.firebasestorage.app",messagingSenderId:"312092844552",appId:"1:312092844552:web:c916c4839833d6c0e867bd"},xw=uE(ND),Kl=hI(xw),Ci=uD(xw),Nr=hA((i,t)=>({currentUser:null,pendingGoogleUser:null,isAuthenticated:!1,darkMode:!1,bookmarkedPosts:[],initializeAuth:()=>{WR(Kl,async n=>{if(n)try{const s=await Im(ws(Ci,"users",n.uid));if(s.exists()){const o=s.data();try{await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n.uid,username:o.username||n.displayName?.split(" ")[0].toLowerCase()||"user",email:n.email||o.email,fullName:o.fullName||n.displayName,avatar:o.avatar||n.photoURL||""})})}catch(c){console.warn("Database sync failed:",c)}i({currentUser:{id:n.uid,...o},isAuthenticated:!0})}else i({currentUser:null,isAuthenticated:!1,pendingGoogleUser:null})}catch(s){console.error("Error loading user data:",s),i({currentUser:null,isAuthenticated:!1,pendingGoogleUser:null})}else i({currentUser:null,isAuthenticated:!1,pendingGoogleUser:null})})},loginWithGoogle:async()=>{const n=new Di,o=(await b2(Kl,n)).user,c=ws(Ci,"users",o.uid),f=await Im(c);if(f.exists()){const m=f.data();i({currentUser:{id:o.uid,...m},isAuthenticated:!0,pendingGoogleUser:null})}else throw i({pendingGoogleUser:{uid:o.uid,displayName:o.displayName||"User",email:o.email||"",photoURL:o.photoURL||""}}),new Error("USERNAME_SETUP_REQUIRED")},checkUsernameAvailable:async n=>{try{const s=wD(cD(Ci,"users"),SD("username","==",n.toLowerCase()));return(await ID(s)).empty}catch(s){return console.error("Error checking username:",s),!1}},completeGoogleSignup:async n=>{const s=t().pendingGoogleUser;if(!s)throw new Error("No pending user");if(!await t().checkUsernameAvailable(n))throw new Error("Username already taken");const c={username:n.toLowerCase(),fullName:s.displayName,email:s.email,avatar:s.photoURL,createdAt:ue.now()};await Cb(ws(Ci,"users",s.uid),c);try{await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s.uid,username:n.toLowerCase(),email:s.email,fullName:s.displayName,avatar:s.photoURL})})}catch(f){console.warn("Database sync failed:",f)}i({currentUser:{id:s.uid,...c},isAuthenticated:!0,pendingGoogleUser:null})},loginWithEmail:async(n,s)=>{const c=(await XR(Kl,n,s)).user,f=await Im(ws(Ci,"users",c.uid));if(f.exists()){const m=f.data();i({currentUser:{id:c.uid,...m},isAuthenticated:!0})}},signupWithEmail:async(n,s,o)=>{const f=(await KR(Kl,n,s)).user;let m=n.split("@")[0].toLowerCase(),p=m,g=1;for(;!await t().checkUsernameAvailable(p);)p=`${m}${g}`,g++;const E={username:p,fullName:o,email:n,avatar:"",createdAt:ue.now()};await Cb(ws(Ci,"users",f.uid),E);try{await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f.uid,username:p,email:n,fullName:o,avatar:""})})}catch(v){console.warn("Database sync failed:",v)}i({currentUser:{id:f.uid,...E},isAuthenticated:!0})},logout:async()=>{try{await t2(Kl)}catch(n){console.error("Error signing out:",n)}i({currentUser:null,isAuthenticated:!1,pendingGoogleUser:null})},updateProfile:async n=>{const s=t().currentUser;if(!s)throw new Error("No current user");try{const o=await fetch(`/api/users/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!o.ok)throw new Error("Failed to update profile");const c=await o.json();i({currentUser:{...s,...c}})}catch(o){throw console.error("Error updating profile:",o),o}},addInstagramAccount:async(n,s)=>{const o=t().currentUser;if(!o)throw new Error("No current user");try{const{getUserProfile:c}=await oA(async()=>{const{getUserProfile:M}=await Promise.resolve().then(()=>zk);return{getUserProfile:M}},void 0),f=await c("me",n),m={token:n,accountName:s||`Account ${(o.instagramAccounts?.length||0)+1}`,instagramUsername:f?.username,createdAt:ue.now()},p=ws(Ci,"users",o.id),g=o.instagramAccounts||[],E=g.length===0,v={...m,id:g.length};await Cm(p,{instagramAccounts:[...g,v],...E&&{activeInstagramAccountId:0}});try{await fetch("/api/instagram-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o.id,token:n,accountName:s||`Account ${g.length+1}`,instagramUsername:f?.username})})}catch(M){console.warn("Database sync failed:",M)}const x=[...g,v];i(M=>({currentUser:M.currentUser?{...M.currentUser,instagramAccounts:x,activeInstagramAccountId:E?0:M.currentUser.activeInstagramAccountId}:null}))}catch(c){throw console.error("Error adding Instagram account:",c),c}},switchInstagramAccount:async n=>{const s=t().currentUser;if(!s)throw new Error("No current user");try{const o=ws(Ci,"users",s.id);await Cm(o,{activeInstagramAccountId:n}),i(c=>({currentUser:c.currentUser?{...c.currentUser,activeInstagramAccountId:n}:null}))}catch(o){throw console.error("Error switching Instagram account:",o),o}},removeInstagramAccount:async n=>{const s=t().currentUser;if(!s)throw new Error("No current user");try{const o=ws(Ci,"users",s.id),c=(s.instagramAccounts||[]).filter((f,m)=>m!==n);await Cm(o,{instagramAccounts:c,activeInstagramAccountId:s.activeInstagramAccountId===n?c.length>0?0:void 0:s.activeInstagramAccountId});try{await fetch(`/api/instagram-accounts/${n}`,{method:"DELETE"})}catch(f){console.warn("Database sync failed:",f)}i(f=>({currentUser:f.currentUser?{...f.currentUser,instagramAccounts:c,activeInstagramAccountId:f.currentUser.activeInstagramAccountId===n?0:f.currentUser.activeInstagramAccountId}:null}))}catch(o){throw console.error("Error removing Instagram account:",o),o}},getActiveInstagramToken:()=>{const n=t().currentUser;if(!n||!n.instagramAccounts||n.instagramAccounts.length===0)return;const s=n.activeInstagramAccountId||0;return n.instagramAccounts[s]?.token},toggleDarkMode:()=>{i(n=>({darkMode:!n.darkMode}))},bookmarkPost:n=>{i(s=>({bookmarkedPosts:[...s.bookmarkedPosts,n]}))},removeBookmark:n=>{i(s=>({bookmarkedPosts:s.bookmarkedPosts.filter(o=>o!==n)}))}}));var DD=Hb();const kD=qb(DD);function OD(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}const MD=i=>{switch(i){case"success":return jD;case"info":return LD;case"warning":return UD;case"error":return zD;default:return null}},VD=Array(12).fill(0),PD=({visible:i,className:t})=>st.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":i},st.createElement("div",{className:"sonner-spinner"},VD.map((n,s)=>st.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),jD=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UD=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LD=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zD=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BD=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},st.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),st.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qD=()=>{const[i,t]=st.useState(document.hidden);return st.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),i};let op=1;class HD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,c=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:op++,f=this.toasts.find(p=>p.id===c),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),f?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...t,id:c,title:s}),{...p,...t,id:c,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let c=s!==void 0,f;const m=o.then(async g=>{if(f=["resolve",g],st.isValidElement(g))c=!1,this.create({id:s,type:"default",message:g});else if(GD(g)&&!g.ok){c=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,H=typeof v=="object"&&!st.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:x,...H})}else if(g instanceof Error){c=!1;const v=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,H=typeof v=="object"&&!st.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:x,...H})}else if(n.success!==void 0){c=!1;const v=typeof n.success=="function"?await n.success(g):n.success,x=typeof n.description=="function"?await n.description(g):n.description,H=typeof v=="object"&&!st.isValidElement(v)?v:{message:v};this.create({id:s,type:"success",description:x,...H})}}).catch(async g=>{if(f=["reject",g],n.error!==void 0){c=!1;const E=typeof n.error=="function"?await n.error(g):n.error,v=typeof n.description=="function"?await n.description(g):n.description,M=typeof E=="object"&&!st.isValidElement(E)?E:{message:E};this.create({id:s,type:"error",description:v,...M})}}).finally(()=>{c&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((g,E)=>m.then(()=>f[0]==="reject"?E(f[1]):g(f[1])).catch(E));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,n)=>{const s=n?.id||op++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new HD,FD=(i,t)=>{const n=t?.id||op++;return kn.addToast({title:i,...t,id:n}),n},GD=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",YD=FD,$D=()=>kn.toasts,QD=()=>kn.getActiveToasts(),cc=Object.assign(YD,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:$D,getToasts:QD});OD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function lh(i){return i.label!==void 0}const KD=3,XD="24px",ZD="16px",Nb=4e3,JD=356,WD=14,t4=45,e4=200;function ti(...i){return i.filter(Boolean).join(" ")}function n4(i){const[t,n]=i.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const r4=i=>{var t,n,s,o,c,f,m,p,g;const{invert:E,toast:v,unstyled:x,interacting:M,setHeights:H,visibleToasts:X,heights:Q,index:Z,toasts:ut,expanded:lt,removeToast:Et,defaultRichColors:jt,closeButton:wt,style:C,cancelButtonStyle:A,actionButtonStyle:I,className:V="",descriptionClassName:k="",duration:P,position:R,gap:Qt,expandByDefault:Kt,classNames:L,icons:it,closeButtonAriaLabel:nt="Close toast"}=i,[Ct,Nt]=st.useState(null),[D,K]=st.useState(null),[Y,rt]=st.useState(!1),[ct,_t]=st.useState(!1),[yt,Rt]=st.useState(!1),[zt,Je]=st.useState(!1),[vn,Ge]=st.useState(!1),[Hi,Sn]=st.useState(0),[$s,Dr]=st.useState(0),hr=st.useRef(v.duration||P||Nb),Fi=st.useRef(null),te=st.useRef(null),we=Z===0,kr=Z+1<=X,We=v.type,fr=v.dismissible!==!1,tn=v.className||"",ci=v.descriptionClassName||"",Or=st.useMemo(()=>Q.findIndex(Tt=>Tt.toastId===v.id)||0,[Q,v.id]),Qs=st.useMemo(()=>{var Tt;return(Tt=v.closeButton)!=null?Tt:wt},[v.closeButton,wt]),dr=st.useMemo(()=>v.duration||P||Nb,[v.duration,P]),Ks=st.useRef(0),mr=st.useRef(0),Xs=st.useRef(0),pr=st.useRef(null),[Vn,ze]=R.split("-"),bn=st.useMemo(()=>Q.reduce((Tt,ee,Ce)=>Ce>=Or?Tt:Tt+ee.height,0),[Q,Or]),ge=qD(),Ma=v.invert||E,Mr=We==="loading";mr.current=st.useMemo(()=>Or*Qt+bn,[Or,bn]),st.useEffect(()=>{hr.current=dr},[dr]),st.useEffect(()=>{rt(!0)},[]),st.useEffect(()=>{const Tt=te.current;if(Tt){const ee=Tt.getBoundingClientRect().height;return Dr(ee),H(Ce=>[{toastId:v.id,height:ee,position:v.position},...Ce]),()=>H(Ce=>Ce.filter(Ye=>Ye.toastId!==v.id))}},[H,v.id]),st.useLayoutEffect(()=>{if(!Y)return;const Tt=te.current,ee=Tt.style.height;Tt.style.height="auto";const Ce=Tt.getBoundingClientRect().height;Tt.style.height=ee,Dr(Ce),H(Ye=>Ye.find(de=>de.toastId===v.id)?Ye.map(de=>de.toastId===v.id?{...de,height:Ce}:de):[{toastId:v.id,height:Ce,position:v.position},...Ye])},[Y,v.title,v.description,H,v.id,v.jsx,v.action,v.cancel]);const Pn=st.useCallback(()=>{_t(!0),Sn(mr.current),H(Tt=>Tt.filter(ee=>ee.toastId!==v.id)),setTimeout(()=>{Et(v)},e4)},[v,Et,H,mr]);st.useEffect(()=>{if(v.promise&&We==="loading"||v.duration===1/0||v.type==="loading")return;let Tt;return lt||M||ge?(()=>{if(Xs.current<Ks.current){const Ye=new Date().getTime()-Ks.current;hr.current=hr.current-Ye}Xs.current=new Date().getTime()})():(()=>{hr.current!==1/0&&(Ks.current=new Date().getTime(),Tt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Pn()},hr.current))})(),()=>clearTimeout(Tt)},[lt,M,v,We,ge,Pn]),st.useEffect(()=>{v.delete&&(Pn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Pn,v.delete]);function Kn(){var Tt;if(it?.loading){var ee;return st.createElement("div",{className:ti(L?.loader,v==null||(ee=v.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":We==="loading"},it.loading)}return st.createElement(PD,{className:ti(L?.loader,v==null||(Tt=v.classNames)==null?void 0:Tt.loader),visible:We==="loading"})}const ui=v.icon||it?.[We]||MD(We);var ve,jn;return st.createElement("li",{tabIndex:0,ref:te,className:ti(V,tn,L?.toast,v==null||(t=v.classNames)==null?void 0:t.toast,L?.default,L?.[We],v==null||(n=v.classNames)==null?void 0:n[We]),"data-sonner-toast":"","data-rich-colors":(ve=v.richColors)!=null?ve:jt,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":Y,"data-promise":!!v.promise,"data-swiped":vn,"data-removed":ct,"data-visible":kr,"data-y-position":Vn,"data-x-position":ze,"data-index":Z,"data-front":we,"data-swiping":yt,"data-dismissible":fr,"data-type":We,"data-invert":Ma,"data-swipe-out":zt,"data-swipe-direction":D,"data-expanded":!!(lt||Kt&&Y),"data-testid":v.testId,style:{"--index":Z,"--toasts-before":Z,"--z-index":ut.length-Z,"--offset":`${ct?Hi:mr.current}px`,"--initial-height":Kt?"auto":`${$s}px`,...C,...v.style},onDragEnd:()=>{Rt(!1),Nt(null),pr.current=null},onPointerDown:Tt=>{Tt.button!==2&&(Mr||!fr||(Fi.current=new Date,Sn(mr.current),Tt.target.setPointerCapture(Tt.pointerId),Tt.target.tagName!=="BUTTON"&&(Rt(!0),pr.current={x:Tt.clientX,y:Tt.clientY})))},onPointerUp:()=>{var Tt,ee,Ce;if(zt||!fr)return;pr.current=null;const Ye=Number(((Tt=te.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),En=Number(((ee=te.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),de=new Date().getTime()-((Ce=Fi.current)==null?void 0:Ce.getTime()),dn=Ct==="x"?Ye:En,Xn=Math.abs(dn)/de;if(Math.abs(dn)>=t4||Xn>.11){Sn(mr.current),v.onDismiss==null||v.onDismiss.call(v,v),K(Ct==="x"?Ye>0?"right":"left":En>0?"down":"up"),Pn(),Je(!0);return}else{var en,nn;(en=te.current)==null||en.style.setProperty("--swipe-amount-x","0px"),(nn=te.current)==null||nn.style.setProperty("--swipe-amount-y","0px")}Ge(!1),Rt(!1),Nt(null)},onPointerMove:Tt=>{var ee,Ce,Ye;if(!pr.current||!fr||((ee=window.getSelection())==null?void 0:ee.toString().length)>0)return;const de=Tt.clientY-pr.current.y,dn=Tt.clientX-pr.current.x;var Xn;const en=(Xn=i.swipeDirections)!=null?Xn:n4(R);!Ct&&(Math.abs(dn)>1||Math.abs(de)>1)&&Nt(Math.abs(dn)>Math.abs(de)?"x":"y");let nn={x:0,y:0};const Vr=rn=>1/(1.5+Math.abs(rn)/20);if(Ct==="y"){if(en.includes("top")||en.includes("bottom"))if(en.includes("top")&&de<0||en.includes("bottom")&&de>0)nn.y=de;else{const rn=de*Vr(de);nn.y=Math.abs(rn)<Math.abs(de)?rn:de}}else if(Ct==="x"&&(en.includes("left")||en.includes("right")))if(en.includes("left")&&dn<0||en.includes("right")&&dn>0)nn.x=dn;else{const rn=dn*Vr(dn);nn.x=Math.abs(rn)<Math.abs(dn)?rn:dn}(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&Ge(!0),(Ce=te.current)==null||Ce.style.setProperty("--swipe-amount-x",`${nn.x}px`),(Ye=te.current)==null||Ye.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},Qs&&!v.jsx&&We!=="loading"?st.createElement("button",{"aria-label":nt,"data-disabled":Mr,"data-close-button":!0,onClick:Mr||!fr?()=>{}:()=>{Pn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:ti(L?.closeButton,v==null||(s=v.classNames)==null?void 0:s.closeButton)},(jn=it?.close)!=null?jn:BD):null,(We||v.icon||v.promise)&&v.icon!==null&&(it?.[We]!==null||v.icon)?st.createElement("div",{"data-icon":"",className:ti(L?.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Kn():null,v.type!=="loading"?ui:null):null,st.createElement("div",{"data-content":"",className:ti(L?.content,v==null||(c=v.classNames)==null?void 0:c.content)},st.createElement("div",{"data-title":"",className:ti(L?.title,v==null||(f=v.classNames)==null?void 0:f.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?st.createElement("div",{"data-description":"",className:ti(k,ci,L?.description,v==null||(m=v.classNames)==null?void 0:m.description)},typeof v.description=="function"?v.description():v.description):null),st.isValidElement(v.cancel)?v.cancel:v.cancel&&lh(v.cancel)?st.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:Tt=>{lh(v.cancel)&&fr&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Tt),Pn())},className:ti(L?.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,st.isValidElement(v.action)?v.action:v.action&&lh(v.action)?st.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||I,onClick:Tt=>{lh(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Tt),!Tt.defaultPrevented&&Pn())},className:ti(L?.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function Db(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function i4(i,t){const n={};return[i,t].forEach((s,o)=>{const c=o===1,f=c?"--mobile-offset":"--offset",m=c?ZD:XD;function p(g){["top","right","bottom","left"].forEach(E=>{n[`${f}-${E}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?n[`${f}-${g}`]=m:n[`${f}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(m)}),n}const s4=st.forwardRef(function(t,n){const{id:s,invert:o,position:c="bottom-right",hotkey:f=["altKey","KeyT"],expand:m,closeButton:p,className:g,offset:E,mobileOffset:v,theme:x="light",richColors:M,duration:H,style:X,visibleToasts:Q=KD,toastOptions:Z,dir:ut=Db(),gap:lt=WD,icons:Et,containerAriaLabel:jt="Notifications"}=t,[wt,C]=st.useState([]),A=st.useMemo(()=>s?wt.filter(Y=>Y.toasterId===s):wt.filter(Y=>!Y.toasterId),[wt,s]),I=st.useMemo(()=>Array.from(new Set([c].concat(A.filter(Y=>Y.position).map(Y=>Y.position)))),[A,c]),[V,k]=st.useState([]),[P,R]=st.useState(!1),[Qt,Kt]=st.useState(!1),[L,it]=st.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),nt=st.useRef(null),Ct=f.join("+").replace(/Key/g,"").replace(/Digit/g,""),Nt=st.useRef(null),D=st.useRef(!1),K=st.useCallback(Y=>{C(rt=>{var ct;return(ct=rt.find(_t=>_t.id===Y.id))!=null&&ct.delete||kn.dismiss(Y.id),rt.filter(({id:_t})=>_t!==Y.id)})},[]);return st.useEffect(()=>kn.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{C(rt=>rt.map(ct=>ct.id===Y.id?{...ct,delete:!0}:ct))});return}setTimeout(()=>{kD.flushSync(()=>{C(rt=>{const ct=rt.findIndex(_t=>_t.id===Y.id);return ct!==-1?[...rt.slice(0,ct),{...rt[ct],...Y},...rt.slice(ct+1)]:[Y,...rt]})})})}),[wt]),st.useEffect(()=>{if(x!=="system"){it(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?it("dark"):it("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:rt})=>{it(rt?"dark":"light")})}catch{Y.addListener(({matches:ct})=>{try{it(ct?"dark":"light")}catch(_t){console.error(_t)}})}},[x]),st.useEffect(()=>{wt.length<=1&&R(!1)},[wt]),st.useEffect(()=>{const Y=rt=>{var ct;if(f.every(Rt=>rt[Rt]||rt.code===Rt)){var yt;R(!0),(yt=nt.current)==null||yt.focus()}rt.code==="Escape"&&(document.activeElement===nt.current||(ct=nt.current)!=null&&ct.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[f]),st.useEffect(()=>{if(nt.current)return()=>{Nt.current&&(Nt.current.focus({preventScroll:!0}),Nt.current=null,D.current=!1)}},[nt.current]),st.createElement("section",{ref:n,"aria-label":`${jt} ${Ct}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((Y,rt)=>{var ct;const[_t,yt]=Y.split("-");return A.length?st.createElement("ol",{key:Y,dir:ut==="auto"?Db():ut,tabIndex:-1,ref:nt,className:g,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":_t,"data-x-position":yt,style:{"--front-toast-height":`${((ct=V[0])==null?void 0:ct.height)||0}px`,"--width":`${JD}px`,"--gap":`${lt}px`,...X,...i4(E,v)},onBlur:Rt=>{D.current&&!Rt.currentTarget.contains(Rt.relatedTarget)&&(D.current=!1,Nt.current&&(Nt.current.focus({preventScroll:!0}),Nt.current=null))},onFocus:Rt=>{Rt.target instanceof HTMLElement&&Rt.target.dataset.dismissible==="false"||D.current||(D.current=!0,Nt.current=Rt.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{Qt||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Rt=>{Rt.target instanceof HTMLElement&&Rt.target.dataset.dismissible==="false"||Kt(!0)},onPointerUp:()=>Kt(!1)},A.filter(Rt=>!Rt.position&&rt===0||Rt.position===Y).map((Rt,zt)=>{var Je,vn;return st.createElement(r4,{key:Rt.id,icons:Et,index:zt,toast:Rt,defaultRichColors:M,duration:(Je=Z?.duration)!=null?Je:H,className:Z?.className,descriptionClassName:Z?.descriptionClassName,invert:o,visibleToasts:Q,closeButton:(vn=Z?.closeButton)!=null?vn:p,interacting:Qt,position:Y,style:Z?.style,unstyled:Z?.unstyled,classNames:Z?.classNames,cancelButtonStyle:Z?.cancelButtonStyle,actionButtonStyle:Z?.actionButtonStyle,closeButtonAriaLabel:Z?.closeButtonAriaLabel,removeToast:K,toasts:A.filter(Ge=>Ge.position==Rt.position),heights:V.filter(Ge=>Ge.position==Rt.position),setHeights:k,expandByDefault:m,gap:lt,expanded:P,swipeDirections:t.swipeDirections})})):null}))});function kb(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function a4(...i){return t=>{let n=!1;const s=i.map(o=>{const c=kb(o,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():kb(i[o],null)}}}}var o4=Symbol.for("react.lazy"),Fh=Fb[" use ".trim().toString()];function l4(i){return typeof i=="object"&&i!==null&&"then"in i}function Rw(i){return i!=null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===o4&&"_payload"in i&&l4(i._payload)}function c4(i){const t=h4(i),n=at.forwardRef((s,o)=>{let{children:c,...f}=s;Rw(c)&&typeof Fh=="function"&&(c=Fh(c._payload));const m=at.Children.toArray(c),p=m.find(d4);if(p){const g=p.props.children,E=m.map(v=>v===p?at.Children.count(g)>1?at.Children.only(null):at.isValidElement(g)?g.props.children:null:v);return T.jsx(t,{...f,ref:o,children:at.isValidElement(g)?at.cloneElement(g,void 0,E):null})}return T.jsx(t,{...f,ref:o,children:c})});return n.displayName=`${i}.Slot`,n}var u4=c4("Slot");function h4(i){const t=at.forwardRef((n,s)=>{let{children:o,...c}=n;if(Rw(o)&&typeof Fh=="function"&&(o=Fh(o._payload)),at.isValidElement(o)){const f=p4(o),m=m4(c,o.props);return o.type!==at.Fragment&&(m.ref=s?a4(s,f):f),at.cloneElement(o,m)}return at.Children.count(o)>1?at.Children.only(null):null});return t.displayName=`${i}.SlotClone`,t}var f4=Symbol("radix.slottable");function d4(i){return at.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===f4}function m4(i,t){const n={...t};for(const s in t){const o=i[s],c=t[s];/^on[A-Z]/.test(s)?o&&c?n[s]=(...m)=>{const p=c(...m);return o(...m),p}:o&&(n[s]=o):s==="style"?n[s]={...o,...c}:s==="className"&&(n[s]=[o,c].filter(Boolean).join(" "))}return{...i,...n}}function p4(i){let t=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?i.ref:(t=Object.getOwnPropertyDescriptor(i,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}function Iw(i){var t,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(n=Iw(i[t]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Cw(){for(var i,t,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(t=Iw(i))&&(s&&(s+=" "),s+=t);return s}const Ob=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Mb=Cw,g4=(i,t)=>n=>{var s;if(t?.variants==null)return Mb(i,n?.class,n?.className);const{variants:o,defaultVariants:c}=t,f=Object.keys(o).map(g=>{const E=n?.[g],v=c?.[g];if(E===null)return null;const x=Ob(E)||Ob(v);return o[g][x]}),m=n&&Object.entries(n).reduce((g,E)=>{let[v,x]=E;return x===void 0||(g[v]=x),g},{}),p=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((g,E)=>{let{class:v,className:x,...M}=E;return Object.entries(M).every(H=>{let[X,Q]=H;return Array.isArray(Q)?Q.includes({...c,...m}[X]):{...c,...m}[X]===Q})?[...g,v,x]:g},[]);return Mb(i,f,p,n?.class,n?.className)},cg="-",y4=i=>{const t=v4(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:f=>{const m=f.split(cg);return m[0]===""&&m.length!==1&&m.shift(),Nw(m,t)||_4(f)},getConflictingClassGroupIds:(f,m)=>{const p=n[f]||[];return m&&s[f]?[...p,...s[f]]:p}}},Nw=(i,t)=>{if(i.length===0)return t.classGroupId;const n=i[0],s=t.nextPart.get(n),o=s?Nw(i.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const c=i.join(cg);return t.validators.find(({validator:f})=>f(c))?.classGroupId},Vb=/^\[(.+)\]$/,_4=i=>{if(Vb.test(i)){const t=Vb.exec(i)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},v4=i=>{const{theme:t,classGroups:n}=i,s={nextPart:new Map,validators:[]};for(const o in n)lp(n[o],s,o,t);return s},lp=(i,t,n,s)=>{i.forEach(o=>{if(typeof o=="string"){const c=o===""?t:Pb(t,o);c.classGroupId=n;return}if(typeof o=="function"){if(b4(o)){lp(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([c,f])=>{lp(f,Pb(t,c),n,s)})})},Pb=(i,t)=>{let n=i;return t.split(cg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},b4=i=>i.isThemeGetter,E4=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(c,f)=>{n.set(c,f),t++,t>i&&(t=0,s=n,n=new Map)};return{get(c){let f=n.get(c);if(f!==void 0)return f;if((f=s.get(c))!==void 0)return o(c,f),f},set(c,f){n.has(c)?n.set(c,f):o(c,f)}}},cp="!",up=":",T4=up.length,w4=i=>{const{prefix:t,experimentalParseClassName:n}=i;let s=o=>{const c=[];let f=0,m=0,p=0,g;for(let H=0;H<o.length;H++){let X=o[H];if(f===0&&m===0){if(X===up){c.push(o.slice(p,H)),p=H+T4;continue}if(X==="/"){g=H;continue}}X==="["?f++:X==="]"?f--:X==="("?m++:X===")"&&m--}const E=c.length===0?o:o.substring(p),v=S4(E),x=v!==E,M=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:M}};if(t){const o=t+up,c=s;s=f=>f.startsWith(o)?c(f.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=c=>n({className:c,parseClassName:o})}return s},S4=i=>i.endsWith(cp)?i.substring(0,i.length-1):i.startsWith(cp)?i.substring(1):i,A4=i=>{const t=Object.fromEntries(i.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let c=[];return s.forEach(f=>{f[0]==="["||t[f]?(o.push(...c.sort(),f),c=[]):c.push(f)}),o.push(...c.sort()),o}},x4=i=>({cache:E4(i.cacheSize),parseClassName:w4(i),sortModifiers:A4(i),...y4(i)}),R4=/\s+/,I4=(i,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:c}=t,f=[],m=i.trim().split(R4);let p="";for(let g=m.length-1;g>=0;g-=1){const E=m[g],{isExternal:v,modifiers:x,hasImportantModifier:M,baseClassName:H,maybePostfixModifierPosition:X}=n(E);if(v){p=E+(p.length>0?" "+p:p);continue}let Q=!!X,Z=s(Q?H.substring(0,X):H);if(!Z){if(!Q){p=E+(p.length>0?" "+p:p);continue}if(Z=s(H),!Z){p=E+(p.length>0?" "+p:p);continue}Q=!1}const ut=c(x).join(":"),lt=M?ut+cp:ut,Et=lt+Z;if(f.includes(Et))continue;f.push(Et);const jt=o(Z,Q);for(let wt=0;wt<jt.length;++wt){const C=jt[wt];f.push(lt+C)}p=E+(p.length>0?" "+p:p)}return p};function C4(){let i=0,t,n,s="";for(;i<arguments.length;)(t=arguments[i++])&&(n=Dw(t))&&(s&&(s+=" "),s+=n);return s}const Dw=i=>{if(typeof i=="string")return i;let t,n="";for(let s=0;s<i.length;s++)i[s]&&(t=Dw(i[s]))&&(n&&(n+=" "),n+=t);return n};function N4(i,...t){let n,s,o,c=f;function f(p){const g=t.reduce((E,v)=>v(E),i());return n=x4(g),s=n.cache.get,o=n.cache.set,c=m,m(p)}function m(p){const g=s(p);if(g)return g;const E=I4(p,n);return o(p,E),E}return function(){return c(C4.apply(null,arguments))}}const qe=i=>{const t=n=>n[i]||[];return t.isThemeGetter=!0,t},kw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ow=/^\((?:(\w[\w-]*):)?(.+)\)$/i,D4=/^\d+\/\d+$/,k4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,V4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,To=i=>D4.test(i),Pt=i=>!!i&&!Number.isNaN(Number(i)),Ss=i=>!!i&&Number.isInteger(Number(i)),Nm=i=>i.endsWith("%")&&Pt(i.slice(0,-1)),Ni=i=>k4.test(i),j4=()=>!0,U4=i=>O4.test(i)&&!M4.test(i),Mw=()=>!1,L4=i=>V4.test(i),z4=i=>P4.test(i),B4=i=>!mt(i)&&!pt(i),q4=i=>$o(i,jw,Mw),mt=i=>kw.test(i),Ea=i=>$o(i,Uw,U4),Dm=i=>$o(i,$4,Pt),jb=i=>$o(i,Vw,Mw),H4=i=>$o(i,Pw,z4),ch=i=>$o(i,Lw,L4),pt=i=>Ow.test(i),Xl=i=>Qo(i,Uw),F4=i=>Qo(i,Q4),Ub=i=>Qo(i,Vw),G4=i=>Qo(i,jw),Y4=i=>Qo(i,Pw),uh=i=>Qo(i,Lw,!0),$o=(i,t,n)=>{const s=kw.exec(i);return s?s[1]?t(s[1]):n(s[2]):!1},Qo=(i,t,n=!1)=>{const s=Ow.exec(i);return s?s[1]?t(s[1]):n:!1},Vw=i=>i==="position"||i==="percentage",Pw=i=>i==="image"||i==="url",jw=i=>i==="length"||i==="size"||i==="bg-size",Uw=i=>i==="length",$4=i=>i==="number",Q4=i=>i==="family-name",Lw=i=>i==="shadow",K4=()=>{const i=qe("color"),t=qe("font"),n=qe("text"),s=qe("font-weight"),o=qe("tracking"),c=qe("leading"),f=qe("breakpoint"),m=qe("container"),p=qe("spacing"),g=qe("radius"),E=qe("shadow"),v=qe("inset-shadow"),x=qe("text-shadow"),M=qe("drop-shadow"),H=qe("blur"),X=qe("perspective"),Q=qe("aspect"),Z=qe("ease"),ut=qe("animate"),lt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Et=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],jt=()=>[...Et(),pt,mt],wt=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],A=()=>[pt,mt,p],I=()=>[To,"full","auto",...A()],V=()=>[Ss,"none","subgrid",pt,mt],k=()=>["auto",{span:["full",Ss,pt,mt]},Ss,pt,mt],P=()=>[Ss,"auto",pt,mt],R=()=>["auto","min","max","fr",pt,mt],Qt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Kt=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...A()],it=()=>[To,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],nt=()=>[i,pt,mt],Ct=()=>[...Et(),Ub,jb,{position:[pt,mt]}],Nt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",G4,q4,{size:[pt,mt]}],K=()=>[Nm,Xl,Ea],Y=()=>["","none","full",g,pt,mt],rt=()=>["",Pt,Xl,Ea],ct=()=>["solid","dashed","dotted","double"],_t=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],yt=()=>[Pt,Nm,Ub,jb],Rt=()=>["","none",H,pt,mt],zt=()=>["none",Pt,pt,mt],Je=()=>["none",Pt,pt,mt],vn=()=>[Pt,pt,mt],Ge=()=>[To,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ni],breakpoint:[Ni],color:[j4],container:[Ni],"drop-shadow":[Ni],ease:["in","out","in-out"],font:[B4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ni],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ni],shadow:[Ni],spacing:["px",Pt],text:[Ni],"text-shadow":[Ni],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",To,mt,pt,Q]}],container:["container"],columns:[{columns:[Pt,mt,pt,m]}],"break-after":[{"break-after":lt()}],"break-before":[{"break-before":lt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:jt()}],overflow:[{overflow:wt()}],"overflow-x":[{"overflow-x":wt()}],"overflow-y":[{"overflow-y":wt()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Ss,"auto",pt,mt]}],basis:[{basis:[To,"full","auto",m,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,To,"auto","initial","none",mt]}],grow:[{grow:["",Pt,pt,mt]}],shrink:[{shrink:["",Pt,pt,mt]}],order:[{order:[Ss,"first","last","none",pt,mt]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Qt(),"normal"]}],"justify-items":[{"justify-items":[...Kt(),"normal"]}],"justify-self":[{"justify-self":["auto",...Kt()]}],"align-content":[{content:["normal",...Qt()]}],"align-items":[{items:[...Kt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Kt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Qt()}],"place-items":[{"place-items":[...Kt(),"baseline"]}],"place-self":[{"place-self":["auto",...Kt()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:it()}],w:[{w:[m,"screen",...it()]}],"min-w":[{"min-w":[m,"screen","none",...it()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[f]},...it()]}],h:[{h:["screen","lh",...it()]}],"min-h":[{"min-h":["screen","lh","none",...it()]}],"max-h":[{"max-h":["screen","lh",...it()]}],"font-size":[{text:["base",n,Xl,Ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,pt,Dm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nm,mt]}],"font-family":[{font:[F4,mt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,pt,mt]}],"line-clamp":[{"line-clamp":[Pt,"none",pt,Dm]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",pt,mt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pt,mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:nt()}],"text-color":[{text:nt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ct(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",pt,Ea]}],"text-decoration-color":[{decoration:nt()}],"underline-offset":[{"underline-offset":[Pt,"auto",pt,mt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt,mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt,mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ct()}],"bg-repeat":[{bg:Nt()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ss,pt,mt],radial:["",pt,mt],conic:[Ss,pt,mt]},Y4,H4]}],"bg-color":[{bg:nt()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:nt()}],"gradient-via":[{via:nt()}],"gradient-to":[{to:nt()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:rt()}],"border-w-x":[{"border-x":rt()}],"border-w-y":[{"border-y":rt()}],"border-w-s":[{"border-s":rt()}],"border-w-e":[{"border-e":rt()}],"border-w-t":[{"border-t":rt()}],"border-w-r":[{"border-r":rt()}],"border-w-b":[{"border-b":rt()}],"border-w-l":[{"border-l":rt()}],"divide-x":[{"divide-x":rt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":rt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ct(),"hidden","none"]}],"divide-style":[{divide:[...ct(),"hidden","none"]}],"border-color":[{border:nt()}],"border-color-x":[{"border-x":nt()}],"border-color-y":[{"border-y":nt()}],"border-color-s":[{"border-s":nt()}],"border-color-e":[{"border-e":nt()}],"border-color-t":[{"border-t":nt()}],"border-color-r":[{"border-r":nt()}],"border-color-b":[{"border-b":nt()}],"border-color-l":[{"border-l":nt()}],"divide-color":[{divide:nt()}],"outline-style":[{outline:[...ct(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,pt,mt]}],"outline-w":[{outline:["",Pt,Xl,Ea]}],"outline-color":[{outline:nt()}],shadow:[{shadow:["","none",E,uh,ch]}],"shadow-color":[{shadow:nt()}],"inset-shadow":[{"inset-shadow":["none",v,uh,ch]}],"inset-shadow-color":[{"inset-shadow":nt()}],"ring-w":[{ring:rt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:nt()}],"ring-offset-w":[{"ring-offset":[Pt,Ea]}],"ring-offset-color":[{"ring-offset":nt()}],"inset-ring-w":[{"inset-ring":rt()}],"inset-ring-color":[{"inset-ring":nt()}],"text-shadow":[{"text-shadow":["none",x,uh,ch]}],"text-shadow-color":[{"text-shadow":nt()}],opacity:[{opacity:[Pt,pt,mt]}],"mix-blend":[{"mix-blend":[..._t(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_t()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":yt()}],"mask-image-linear-to-pos":[{"mask-linear-to":yt()}],"mask-image-linear-from-color":[{"mask-linear-from":nt()}],"mask-image-linear-to-color":[{"mask-linear-to":nt()}],"mask-image-t-from-pos":[{"mask-t-from":yt()}],"mask-image-t-to-pos":[{"mask-t-to":yt()}],"mask-image-t-from-color":[{"mask-t-from":nt()}],"mask-image-t-to-color":[{"mask-t-to":nt()}],"mask-image-r-from-pos":[{"mask-r-from":yt()}],"mask-image-r-to-pos":[{"mask-r-to":yt()}],"mask-image-r-from-color":[{"mask-r-from":nt()}],"mask-image-r-to-color":[{"mask-r-to":nt()}],"mask-image-b-from-pos":[{"mask-b-from":yt()}],"mask-image-b-to-pos":[{"mask-b-to":yt()}],"mask-image-b-from-color":[{"mask-b-from":nt()}],"mask-image-b-to-color":[{"mask-b-to":nt()}],"mask-image-l-from-pos":[{"mask-l-from":yt()}],"mask-image-l-to-pos":[{"mask-l-to":yt()}],"mask-image-l-from-color":[{"mask-l-from":nt()}],"mask-image-l-to-color":[{"mask-l-to":nt()}],"mask-image-x-from-pos":[{"mask-x-from":yt()}],"mask-image-x-to-pos":[{"mask-x-to":yt()}],"mask-image-x-from-color":[{"mask-x-from":nt()}],"mask-image-x-to-color":[{"mask-x-to":nt()}],"mask-image-y-from-pos":[{"mask-y-from":yt()}],"mask-image-y-to-pos":[{"mask-y-to":yt()}],"mask-image-y-from-color":[{"mask-y-from":nt()}],"mask-image-y-to-color":[{"mask-y-to":nt()}],"mask-image-radial":[{"mask-radial":[pt,mt]}],"mask-image-radial-from-pos":[{"mask-radial-from":yt()}],"mask-image-radial-to-pos":[{"mask-radial-to":yt()}],"mask-image-radial-from-color":[{"mask-radial-from":nt()}],"mask-image-radial-to-color":[{"mask-radial-to":nt()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Et()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":yt()}],"mask-image-conic-to-pos":[{"mask-conic-to":yt()}],"mask-image-conic-from-color":[{"mask-conic-from":nt()}],"mask-image-conic-to-color":[{"mask-conic-to":nt()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ct()}],"mask-repeat":[{mask:Nt()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pt,mt]}],filter:[{filter:["","none",pt,mt]}],blur:[{blur:Rt()}],brightness:[{brightness:[Pt,pt,mt]}],contrast:[{contrast:[Pt,pt,mt]}],"drop-shadow":[{"drop-shadow":["","none",M,uh,ch]}],"drop-shadow-color":[{"drop-shadow":nt()}],grayscale:[{grayscale:["",Pt,pt,mt]}],"hue-rotate":[{"hue-rotate":[Pt,pt,mt]}],invert:[{invert:["",Pt,pt,mt]}],saturate:[{saturate:[Pt,pt,mt]}],sepia:[{sepia:["",Pt,pt,mt]}],"backdrop-filter":[{"backdrop-filter":["","none",pt,mt]}],"backdrop-blur":[{"backdrop-blur":Rt()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,pt,mt]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,pt,mt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,pt,mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,pt,mt]}],"backdrop-invert":[{"backdrop-invert":["",Pt,pt,mt]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,pt,mt]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,pt,mt]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,pt,mt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pt,mt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",pt,mt]}],ease:[{ease:["linear","initial",Z,pt,mt]}],delay:[{delay:[Pt,pt,mt]}],animate:[{animate:["none",ut,pt,mt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[X,pt,mt]}],"perspective-origin":[{"perspective-origin":jt()}],rotate:[{rotate:zt()}],"rotate-x":[{"rotate-x":zt()}],"rotate-y":[{"rotate-y":zt()}],"rotate-z":[{"rotate-z":zt()}],scale:[{scale:Je()}],"scale-x":[{"scale-x":Je()}],"scale-y":[{"scale-y":Je()}],"scale-z":[{"scale-z":Je()}],"scale-3d":["scale-3d"],skew:[{skew:vn()}],"skew-x":[{"skew-x":vn()}],"skew-y":[{"skew-y":vn()}],transform:[{transform:[pt,mt,"","none","gpu","cpu"]}],"transform-origin":[{origin:jt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:nt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:nt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt,mt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt,mt]}],fill:[{fill:["none",...nt()]}],"stroke-w":[{stroke:[Pt,Xl,Ea,Dm]}],stroke:[{stroke:["none",...nt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},X4=N4(K4);function zw(...i){return X4(Cw(i))}const Z4=g4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),hp=at.forwardRef(({className:i,variant:t,size:n,asChild:s=!1,...o},c)=>{const f=s?u4:"button";return T.jsx(f,{className:zw(Z4({variant:t,size:n,className:i})),ref:c,...o})});hp.displayName="Button";const Eh=at.forwardRef(({className:i,type:t,...n},s)=>T.jsx("input",{type:t,className:zw("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:s,...n}));Eh.displayName="Input";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Lb=i=>{const t=W4(i);return t.charAt(0).toUpperCase()+t.slice(1)},Bw=(...i)=>i.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),tk=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ek={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=at.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...m},p)=>at.createElement("svg",{ref:p,...ek,width:t,height:t,stroke:i,strokeWidth:s?Number(n)*24/Number(t):n,className:Bw("lucide",o),...!c&&!tk(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>at.createElement(g,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(i,t)=>{const n=at.forwardRef(({className:s,...o},c)=>at.createElement(nk,{ref:c,iconNode:t,className:Bw(`lucide-${J4(Lb(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Lb(i),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gs=Fe("arrow-left",rk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],qw=Fe("bookmark",ik);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ak=Fe("check",sk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],lk=Fe("grid-3x3",ok);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],uk=Fe("hash",ck);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ug=Fe("heart",hk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qi=Fe("loader-circle",fk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hw=Fe("log-out",dk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],hg=Fe("message-circle",mk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gk=Fe("moon",pk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_k=Fe("pen",yk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bk=Fe("plus",vk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fw=Fe("search",Ek);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],wk=Fe("share-2",Tk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ak=Fe("sun",Sk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rk=Fe("trash-2",xk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ck=Fe("users",Ik);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dk=Fe("user",Nk);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ok=Fe("zap",kk),Mk=1,Vk=1e6;let km=0;function Pk(){return km=(km+1)%Number.MAX_SAFE_INTEGER,km.toString()}const Om=new Map,zb=i=>{if(Om.has(i))return;const t=setTimeout(()=>{Om.delete(i),uc({type:"REMOVE_TOAST",toastId:i})},Vk);Om.set(i,t)},jk=(i,t)=>{switch(t.type){case"ADD_TOAST":return{...i,toasts:[t.toast,...i.toasts].slice(0,Mk)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?zb(n):i.toasts.forEach(s=>{zb(s.id)}),{...i,toasts:i.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(n=>n.id!==t.toastId)}}},Th=[];let wh={toasts:[]};function uc(i){wh=jk(wh,i),Th.forEach(t=>{t(wh)})}function Uk({...i}){const t=Pk(),n=o=>uc({type:"UPDATE_TOAST",toast:{...o,id:t}}),s=()=>uc({type:"DISMISS_TOAST",toastId:t});return uc({type:"ADD_TOAST",toast:{...i,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:n}}function Lk(){const[i,t]=at.useState(wh);return at.useEffect(()=>(Th.push(t),()=>{const n=Th.indexOf(t);n>-1&&Th.splice(n,1)}),[i]),{...i,toast:Uk,dismiss:n=>uc({type:"DISMISS_TOAST",toastId:n})}}function Bb(){const{loginWithGoogle:i,loginWithEmail:t,signupWithEmail:n,pendingGoogleUser:s}=Nr(),[,o]=Cr(),{toast:c}=Lk(),[f,m]=at.useState(!1),[p,g]=at.useState(!1),[E,v]=at.useState(""),[x,M]=at.useState(""),[H,X]=at.useState(""),Q=async()=>{m(!0);try{await i(),o("/")}catch(ut){ut.message==="USERNAME_SETUP_REQUIRED"?o("/setup"):c({variant:"destructive",title:"Error",description:ut.message||"Login failed"})}finally{m(!1)}},Z=async ut=>{if(ut.preventDefault(),!(!E||!x)&&!(p&&!H)){m(!0);try{p?await n(E,x,H):await t(E,x),o("/")}catch(lt){c({variant:"destructive",title:"Error",description:lt.message})}finally{m(!1)}}};return T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 max-w-md mx-auto bg-background",children:[T.jsxs("div",{className:"w-full max-w-xs space-y-6",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h1",{className:"text-6xl mb-4 text-primary",style:{fontFamily:"'Grand Hotel', cursive"},children:"InstaClone"}),T.jsx("p",{className:"text-muted-foreground",children:p?"Share your moments with the world.":"Log in to your account."})]}),T.jsxs("form",{onSubmit:Z,className:"space-y-3",children:[p&&T.jsx(Eh,{placeholder:"Full Name",className:"bg-muted/50",type:"text",value:H,onChange:ut=>X(ut.target.value)}),T.jsx(Eh,{placeholder:"Email",className:"bg-muted/50",type:"email",value:E,onChange:ut=>v(ut.target.value)}),T.jsx(Eh,{type:"password",placeholder:"Password",className:"bg-muted/50",value:x,onChange:ut=>M(ut.target.value)}),T.jsx(hp,{type:"submit",className:"w-full font-semibold mt-2 bg-primary hover:bg-primary/90 text-white",disabled:f,children:f?T.jsx(qi,{className:"w-4 h-4 animate-spin"}):p?"Sign Up":"Log In"})]}),T.jsxs("div",{className:"relative my-6",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("span",{className:"w-full border-t border-border"})}),T.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:T.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),T.jsxs(hp,{className:"w-full bg-white hover:bg-gray-50 text-black border border-border font-semibold flex items-center gap-2",onClick:Q,disabled:f,children:[T.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5"}),"Log in with Google"]}),!p&&T.jsx("div",{className:"text-center mt-4",children:T.jsx("a",{href:"#",className:"text-xs text-blue-900 dark:text-blue-400",children:"Forgot password?"})})]}),T.jsx("div",{className:"mt-auto py-6 w-full border-t border-border text-center",children:T.jsxs("p",{className:"text-sm",children:[p?"Have an account?":"Don't have an account?",T.jsx("span",{className:"font-semibold text-blue-600 cursor-pointer ml-1",onClick:()=>g(!p),children:p?"Log in":"Sign up"})]})})]})}const fp={accessToken:"",businessAccountId:"",apiVersion:"v18.0",apiBaseUrl:"https://graph.instagram.com"};function Gw(){return console.warn("Instagram API token not configured"),""}function Yw(){return console.warn("Instagram business account ID not configured"),""}async function Ys(i,t="GET",n,s){const o=s||Gw();if(!o)throw new Error("Instagram API token not configured. Please connect your Instagram account.");const c=new URL(`${fp.apiBaseUrl}/${fp.apiVersion}/${i}`);c.searchParams.append("access_token",o);const f={method:t,headers:{"Content-Type":"application/json"}};try{const m=await fetch(c.toString(),f);if(!m.ok){const p=await m.json();throw new Error(`Instagram API Error: ${p.error?.message||m.statusText}`)}return await m.json()}catch(m){throw console.error("Instagram API request failed:",m),m}}async function df(i,t){try{const n=i||fp.businessAccountId||"me",s=await Ys(`${n}/media?fields=id,caption,media_type,media_url,thumbnail_url,timestamp,like_count,comments_count`,"GET",void 0,t);return s.data&&Array.isArray(s.data)?s.data:Array.isArray(s)?s:[]}catch(n){return console.error("Error fetching user media:",n),[]}}async function fg(i="me",t){try{return await Ys(`${i}?fields=id,name,biography,website,profile_picture_url,followers_count,follows_count,media_count,username`,"GET",void 0,t)}catch(n){return console.error("Error fetching user profile:",n),null}}async function $w(i="me"){try{const t=await Ys(`${i}/ig_followed_users?fields=id,name,username,profile_picture_url,biography,website`);if(t.data&&Array.isArray(t.data))return t.data;if(t.error)throw console.error("Instagram API error:",t.error),new Error(t.error.message||"Failed to fetch following list");return[]}catch(t){throw console.error("Error fetching following list:",t),t}}async function Qw(i){try{const t=await Ys(`${i}/media?fields=id,caption,media_type,media_url,thumbnail_url,timestamp,like_count,comments_count`);return t.data&&Array.isArray(t.data)?t.data:[]}catch(t){return console.error(`Error fetching media for user ${i}:`,t),[]}}async function Kw(i){try{const t=Yw();if(!t)return console.warn("Business account ID not configured for hashtag search"),[];const n=await Ys(`ig_hashtag_search?user_id=${t}&fields=id,name&search_string=${encodeURIComponent(i)}`);return n.data&&Array.isArray(n.data)?n.data:[]}catch(t){return console.error("Error searching hashtags:",t),[]}}async function Xw(i){try{const t=await Ys(`${i}/recent_media?fields=id,caption,media_type,media_url,thumbnail_url,timestamp,like_count,comments_count,username`);return t.data&&Array.isArray(t.data)?t.data:[]}catch(t){return console.error("Error fetching hashtag media:",t),[]}}async function dg(i="me"){try{const t=await Ys(`${i}/stories?fields=id,media_type,media_url,timestamp,like_count`);return t.data&&Array.isArray(t.data)?t.data:[]}catch(t){return console.error("Error fetching user stories:",t),[]}}const zk=Object.freeze(Object.defineProperty({__proto__:null,getHashtagMedia:Xw,getInstagramAccessToken:Gw,getInstagramBusinessAccountId:Yw,getUserFollowing:$w,getUserMedia:df,getUserMediaById:Qw,getUserProfile:fg,getUserStories:dg,makeInstagramRequest:Ys,searchHashtags:Kw},Symbol.toStringTag,{value:"Module"}));function Bk(){const{currentUser:i,logout:t,darkMode:n,toggleDarkMode:s,bookmarkedPosts:o,bookmarkPost:c,removeBookmark:f,getActiveInstagramToken:m}=Nr(),[,p]=Cr(),[g,E]=at.useState([]),[v,x]=at.useState([]),[M,H]=at.useState(!0),X=m();at.useEffect(()=>{(async()=>{H(!0);try{const[ut,lt]=await Promise.all([df(void 0,X),dg("me")]);E(ut),x(lt)}catch(ut){console.error("Failed to load media:",ut)}finally{H(!1)}})()},[X]);const Q=async()=>{await t(),p("/login")};return T.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900":"bg-white"}`,children:[T.jsx("header",{className:`sticky top-0 z-50 ${n?"bg-gray-900 border-gray-700":"bg-white border-gray-200"} border-b`,children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center justify-between",children:[T.jsx("h1",{className:`text-3xl font-bold ${n?"text-white":"text-black"}`,style:{fontFamily:"'Grand Hotel', cursive"},children:"InstaClone"}),T.jsxs("div",{className:"flex items-center gap-4",children:[X&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>p("/search"),className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-search",title:"Search",children:T.jsx(Fw,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>p("/bookmarks"),className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-bookmarks",title:"Saved posts",children:T.jsx(qw,{className:"w-5 h-5"})}),T.jsx("button",{onClick:s,className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-dark-mode",children:n?T.jsx(Ak,{className:"w-5 h-5"}):T.jsx(gk,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>p("/following"),className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-following",title:"View people you follow",children:T.jsx(Ck,{className:"w-5 h-5"})})]}),T.jsx("button",{onClick:()=>p("/profile"),className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-profile",title:"Go to profile",children:T.jsx(Dk,{className:"w-5 h-5"})}),T.jsx("button",{onClick:Q,className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-logout",children:T.jsx(Hw,{className:"w-5 h-5"})})]})]})}),T.jsx("main",{className:"max-w-2xl mx-auto",children:M?T.jsx("div",{className:"flex justify-center items-center h-96",children:T.jsx(qi,{className:"w-8 h-8 animate-spin text-gray-400"})}):X?g.length===0?T.jsx("div",{className:"flex justify-center items-center h-96 text-gray-400",children:T.jsx("p",{children:"No media found"})}):T.jsxs("div",{className:`divide-y ${n?"divide-gray-700":"divide-gray-200"}`,children:[v&&v.length>0&&T.jsx("div",{className:`${n?"bg-gray-800":"bg-white"} px-4 py-4 border-b ${n?"border-gray-700":"border-gray-200"} sticky top-[60px] z-40`,children:T.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-4 px-4 snap-x snap-mandatory",children:v.map((Z,ut)=>T.jsxs("button",{onClick:()=>p("/stories"),className:"flex-shrink-0 relative group focus:outline-none","data-testid":`story-thumbnail-${ut}`,children:[T.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 via-purple-500 to-pink-500 p-[2px] group-hover:shadow-lg transition-all",children:T.jsx("div",{className:`w-full h-full rounded-full overflow-hidden ${n?"bg-gray-700":"bg-gray-200"} border-2 ${n?"border-gray-800":"border-white"}`,children:Z.media_url&&(Z.media_type==="VIDEO"?T.jsx("video",{src:Z.media_url,className:"w-full h-full object-cover"}):T.jsx("img",{src:Z.media_url,alt:"Story",className:"w-full h-full object-cover"}))})}),T.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white ${n?"bg-blue-600":"bg-blue-500"}`,children:ut+1})]},`story-${ut}`))})}),g.map(Z=>T.jsxs("article",{className:n?"bg-gray-800":"bg-white","data-testid":`post-${Z.id}`,children:[T.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${n?"border-gray-700":"border-gray-200"}`,children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),T.jsx("span",{className:`text-sm font-semibold ${n?"text-white":"text-black"}`,children:i?.username})]}),T.jsx("button",{className:n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black","data-testid":`button-more-${Z.id}`,children:""})]}),T.jsx("div",{className:"bg-black w-full aspect-square overflow-hidden",children:Z.media_type==="VIDEO"?T.jsx("video",{src:Z.media_url,className:"w-full h-full object-cover",controls:!0,"data-testid":`video-${Z.id}`}):T.jsx("img",{src:Z.media_url,alt:Z.caption||"Instagram post",className:"w-full h-full object-cover","data-testid":`image-${Z.id}`})}),T.jsxs("div",{className:"px-4 py-3 flex gap-4",children:[T.jsx("button",{className:n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black","data-testid":`button-like-${Z.id}`,children:T.jsx(ug,{className:"w-6 h-6"})}),T.jsx("button",{className:n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black","data-testid":`button-comment-${Z.id}`,children:T.jsx(hg,{className:"w-6 h-6"})}),T.jsx("button",{className:n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black","data-testid":`button-share-${Z.id}`,children:T.jsx(wk,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"px-4 py-2 border-t border-gray-200",children:T.jsxs("p",{className:"text-sm font-semibold","data-testid":`likes-${Z.id}`,children:[Z.like_count||0," likes"]})}),Z.caption&&T.jsx("div",{className:"px-4 py-2",children:T.jsxs("p",{className:"text-sm",children:[T.jsx("span",{className:"font-semibold",children:i?.username})," ",T.jsx("span",{"data-testid":`caption-${Z.id}`,children:Z.caption})]})}),Z.comments_count>0&&T.jsx("div",{className:"px-4 py-2",children:T.jsxs("p",{className:"text-sm text-gray-600 cursor-pointer hover:text-black","data-testid":`comments-${Z.id}`,children:["View all ",Z.comments_count," comments"]})}),Z.timestamp&&T.jsx("div",{className:"px-4 pb-3",children:T.jsx("p",{className:"text-xs text-gray-400",children:new Date(Z.timestamp).toLocaleDateString()})})]},Z.id))]}):T.jsxs("div",{className:"flex flex-col justify-center items-center h-96 text-center px-4",children:[T.jsx("p",{className:`font-semibold mb-4 ${n?"text-gray-300":"text-gray-600"}`,children:"Instagram Account Not Connected"}),T.jsx("p",{className:`text-sm mb-6 ${n?"text-gray-400":"text-gray-500"}`,children:"Connect your Instagram account to see your feed and posts."}),T.jsx("button",{onClick:()=>p("/profile/connect-instagram"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-lg font-medium transition-colors","data-testid":"button-connect-instagram-home",children:"Connect Instagram"})]})})]})}function qk(){const{currentUser:i,logout:t,darkMode:n,getActiveInstagramToken:s,switchInstagramAccount:o,removeInstagramAccount:c}=Nr(),[,f]=Cr(),[m,p]=at.useState(null),[g,E]=at.useState([]),[v,x]=at.useState(!0),[M,H]=at.useState("posts"),[X,Q]=at.useState(!1),Z=s();at.useEffect(()=>{(async()=>{x(!0);try{const Et=await fg("me",Z);p(Et);const jt=await df(void 0,Z);E(jt)}catch(Et){console.error("Failed to load profile:",Et)}finally{x(!1)}})()},[Z]);const ut=async()=>{await t(),f("/login")};return T.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900":"bg-white"}`,children:[T.jsx("header",{className:`sticky top-0 z-50 ${n?"bg-gray-900 border-gray-700":"bg-white border-gray-200"} border-b`,children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center justify-between",children:[T.jsx("button",{onClick:()=>f("/"),className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsx("h1",{className:`text-lg font-semibold ${n?"text-white":"text-black"}`,"data-testid":"text-profile-title",children:i?.username}),T.jsx("button",{onClick:ut,className:`${n?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"} transition-colors`,"data-testid":"button-logout",children:T.jsx(Hw,{className:"w-5 h-5"})})]})}),T.jsx("main",{className:"max-w-2xl mx-auto px-4 py-8",children:v?T.jsx("div",{className:"flex justify-center items-center h-96",children:T.jsx(qi,{className:"w-8 h-8 animate-spin text-gray-400"})}):Z?m?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex gap-8 items-start",children:[T.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full overflow-hidden flex-shrink-0",children:m.profile_picture_url&&T.jsx("img",{src:m.profile_picture_url,alt:m.name,className:"w-full h-full object-cover","data-testid":"img-avatar"})}),T.jsxs("div",{className:"flex-1 space-y-4",children:[T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h2",{className:`text-2xl font-semibold ${n?"text-white":"text-black"}`,"data-testid":"text-username",children:m.name||i?.username}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:()=>f("/stories"),className:"bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors","data-testid":"button-view-stories",title:"View your stories",children:[T.jsx(Ok,{className:"w-4 h-4"}),"Stories"]}),T.jsxs("button",{onClick:()=>f("/profile/edit"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors","data-testid":"button-edit-profile",children:[T.jsx(_k,{className:"w-4 h-4"}),"Edit"]})]})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsxs("button",{onClick:()=>Q(!X),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors w-fit text-sm","data-testid":"button-accounts-menu",children:[T.jsx(bk,{className:"w-4 h-4"}),i?.instagramAccounts?.length?"Manage Accounts":"Connect Instagram"]}),X&&i?.instagramAccounts&&i.instagramAccounts.length>0&&T.jsxs("div",{className:`border rounded-lg p-3 space-y-2 ${n?"border-gray-600 bg-gray-800":"border-gray-200 bg-gray-50"}`,children:[i.instagramAccounts.map((lt,Et)=>T.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${Et===(i.activeInstagramAccountId||0)?n?"bg-gray-700":"bg-blue-100":""}`,children:[T.jsxs("button",{onClick:()=>o(Et),className:`flex-1 text-left flex items-center gap-2 text-sm ${Et===(i.activeInstagramAccountId||0)?"font-semibold":""}`,"data-testid":`button-account-${Et}`,children:[Et===(i.activeInstagramAccountId||0)&&T.jsx(ak,{className:"w-4 h-4 text-blue-500"}),lt.accountName]}),T.jsx("button",{onClick:()=>c(Et),className:`text-red-500 hover:text-red-700 p-1 ${i.instagramAccounts.length===1?"opacity-50 cursor-not-allowed":""}`,disabled:i.instagramAccounts.length===1,"data-testid":`button-delete-account-${Et}`,children:T.jsx(Rk,{className:"w-4 h-4"})})]},Et)),T.jsx("button",{onClick:()=>f("/profile/connect-instagram"),className:"w-full text-blue-600 hover:text-blue-700 text-sm font-medium mt-2 py-1","data-testid":"button-add-another-account",children:"+ Add Another Account"})]})]})]}),T.jsxs("div",{className:"flex gap-8 text-sm",children:[T.jsxs("div",{"data-testid":"stat-posts",children:[T.jsx("span",{className:`font-semibold ${n?"text-white":"text-black"}`,children:m.media_count||0}),T.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"posts"})]}),T.jsxs("div",{"data-testid":"stat-followers",children:[T.jsx("span",{className:`font-semibold ${n?"text-white":"text-black"}`,children:m.followers_count||0}),T.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"followers"})]}),T.jsxs("div",{"data-testid":"stat-following",children:[T.jsx("span",{className:`font-semibold ${n?"text-white":"text-black"}`,children:m.follows_count||0}),T.jsx("p",{className:n?"text-gray-400":"text-gray-600",children:"following"})]})]})]})]}),T.jsxs("div",{className:`border-t ${n?"border-gray-700":"border-gray-200"} pt-6 space-y-3`,children:[m.biography&&T.jsxs("div",{"data-testid":"text-bio",children:[T.jsx("p",{className:`text-sm font-medium ${n?"text-gray-300":"text-gray-700"} mb-1`,children:"Bio"}),T.jsx("p",{className:`text-sm whitespace-pre-wrap ${n?"text-gray-400":"text-gray-600"}`,children:m.biography})]}),i?.bio&&T.jsxs("div",{"data-testid":"text-user-bio",children:[T.jsx("p",{className:`text-sm font-medium ${n?"text-gray-300":"text-gray-700"} mb-1`,children:"Personal Bio"}),T.jsx("p",{className:`text-sm whitespace-pre-wrap ${n?"text-gray-400":"text-gray-600"}`,children:i.bio})]})]}),T.jsxs("div",{className:"space-y-3",children:[m.website&&T.jsxs("div",{children:[T.jsx("p",{className:`text-sm font-medium ${n?"text-gray-300":"text-gray-700"} mb-2`,children:"Website"}),T.jsx("a",{href:m.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm break-all","data-testid":"link-instagram-website",children:m.website})]}),i?.website&&T.jsxs("div",{children:[T.jsx("p",{className:`text-sm font-medium ${n?"text-gray-300":"text-gray-700"} mb-2`,children:"Personal Website"}),T.jsx("a",{href:i.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm break-all","data-testid":"link-personal-website",children:i.website})]})]}),T.jsx("div",{className:`border-t ${n?"border-gray-700":"border-gray-200"} mt-8`,children:T.jsxs("div",{className:"flex items-center justify-center gap-8",children:[T.jsxs("button",{onClick:()=>H("posts"),className:`py-4 px-4 flex items-center gap-2 transition-colors border-t-2 ${M==="posts"?n?"border-white text-white":"border-gray-900 text-gray-900":n?"border-transparent text-gray-400 hover:text-white":"border-transparent text-gray-600 hover:text-gray-800"}`,"data-testid":"tab-posts",children:[T.jsx(lk,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium",children:"Posts"})]}),T.jsxs("button",{onClick:()=>H("saved"),className:`py-4 px-4 flex items-center gap-2 transition-colors border-t-2 ${M==="saved"?n?"border-white text-white":"border-gray-900 text-gray-900":n?"border-transparent text-gray-400 hover:text-white":"border-transparent text-gray-600 hover:text-gray-800"}`,"data-testid":"tab-saved",children:[T.jsx(qw,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium",children:"Saved"})]})]})}),M==="posts"&&T.jsx("div",{className:"mt-6",children:g.length===0?T.jsx("div",{className:`flex justify-center items-center h-96 ${n?"text-gray-500":"text-gray-400"}`,children:T.jsx("p",{children:"No posts yet"})}):T.jsx("div",{className:"grid grid-cols-3 gap-1 md:gap-2",children:g.map(lt=>T.jsxs("div",{className:`aspect-square ${n?"bg-gray-800":"bg-gray-100"} overflow-hidden hover:opacity-80 transition-opacity cursor-pointer group relative`,"data-testid":`media-grid-${lt.id}`,children:[lt.media_type==="VIDEO"?T.jsx("video",{src:lt.media_url,className:"w-full h-full object-cover","data-testid":`grid-video-${lt.id}`}):T.jsx("img",{src:lt.media_url,alt:lt.caption||"Instagram post",className:"w-full h-full object-cover","data-testid":`grid-image-${lt.id}`}),T.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsxs("div",{className:"flex items-center gap-4 text-white",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:"text-sm font-semibold",children:lt.like_count||0}),T.jsx("span",{className:"text-xs",children:""})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:"text-sm font-semibold",children:lt.comments_count||0}),T.jsx("span",{className:"text-xs",children:""})]})]})})]},lt.id))})}),M==="saved"&&T.jsx("div",{className:"mt-6",children:T.jsx("div",{className:`flex justify-center items-center h-96 ${n?"text-gray-500":"text-gray-400"}`,children:T.jsx("p",{children:"No saved posts yet"})})})]}):m?null:T.jsx("div",{className:`flex justify-center items-center h-96 ${n?"text-gray-500":"text-gray-400"}`,children:T.jsx("p",{children:"Failed to load profile"})}):T.jsxs("div",{className:"flex flex-col justify-center items-center h-96 text-center px-4",children:[T.jsx("p",{className:`font-semibold mb-4 ${n?"text-gray-300":"text-gray-600"}`,children:"Instagram Account Not Connected"}),T.jsx("p",{className:`text-sm mb-6 ${n?"text-gray-400":"text-gray-500"}`,children:"Connect your Instagram account to view your profile and manage accounts."}),T.jsx("button",{onClick:()=>f("/profile/connect-instagram"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-lg font-medium transition-colors","data-testid":"button-connect-instagram-profile",children:"Connect Instagram"})]})})]})}function Hk(){const{currentUser:i,updateProfile:t}=Nr(),[,n]=Cr(),[s,o]=at.useState(!1),[c,f]=at.useState(""),[m,p]=at.useState(!1),[g,E]=at.useState({fullName:i?.fullName||"",bio:i?.bio||"",website:i?.website||""}),v=M=>{const{name:H,value:X}=M.target;E(Q=>({...Q,[H]:X})),f(""),p(!1)},x=async M=>{M.preventDefault(),o(!0),f(""),p(!1);try{await t({fullName:g.fullName||void 0,bio:g.bio||void 0,website:g.website||void 0}),p(!0),setTimeout(()=>n("/profile"),1500)}catch(H){f(H instanceof Error?H.message:"Failed to update profile")}finally{o(!1)}};return T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center justify-between",children:[T.jsx("button",{onClick:()=>n("/profile"),className:"text-gray-600 hover:text-black transition-colors","data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsx("h1",{className:"text-lg font-semibold",children:"Edit Profile"}),T.jsx("div",{className:"w-6"})]})}),T.jsx("main",{className:"max-w-2xl mx-auto px-4 py-8",children:T.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-md",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),T.jsx("input",{type:"text",name:"fullName",value:g.fullName,onChange:v,placeholder:"Your full name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"input-fullname"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),T.jsx("textarea",{name:"bio",value:g.bio,onChange:v,placeholder:"Tell us about yourself",maxLength:500,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none","data-testid":"textarea-bio"}),T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.bio.length,"/500"]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),T.jsx("input",{type:"url",name:"website",value:g.website,onChange:v,placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"input-website"})]}),c&&T.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:T.jsx("p",{className:"text-sm text-red-600","data-testid":"error-message",children:c})}),m&&T.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:T.jsx("p",{className:"text-sm text-green-600","data-testid":"success-message",children:"Profile updated successfully!"})}),T.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-medium py-2 rounded-lg transition-colors flex items-center justify-center gap-2","data-testid":"button-save",children:s?T.jsxs(T.Fragment,{children:[T.jsx(qi,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"}),T.jsx("button",{type:"button",onClick:()=>n("/profile"),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 rounded-lg transition-colors","data-testid":"button-cancel",children:"Cancel"})]})})]})}function Fk(){const{currentUser:i}=Nr(),[,t]=Cr(),[n,s]=at.useState([]),[o,c]=at.useState({}),[f,m]=at.useState(!0),[p,g]=at.useState("");return at.useEffect(()=>{(async()=>{m(!0),g("");try{console.log("Starting to load following list...");const v=await $w();console.log("Following list loaded:",v),s(v);const x={};for(const M of v.slice(0,5)){const H=await Qw(M.id);x[M.id]=H.slice(0,6)}c(x)}catch(v){console.error("Failed to load following:",v),g(v?.message||"Instagram Graph API doesn't support listing followed users with your current token. This is a limitation of Instagram's API - only certain account types and permissions can access this feature.")}finally{m(!1)}})()},[]),T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center gap-4",children:[T.jsx("button",{onClick:()=>t("/"),className:"text-gray-600 hover:text-black transition-colors","data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsx("h1",{className:"text-lg font-semibold",children:"Following"})]})}),T.jsx("main",{className:"max-w-2xl mx-auto px-4 py-6",children:f?T.jsx("div",{className:"flex justify-center items-center h-96",children:T.jsx(qi,{className:"w-8 h-8 animate-spin text-gray-400"})}):p?T.jsxs("div",{className:"flex flex-col justify-center items-center h-96 text-center px-4",children:[T.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"API Limitation"}),T.jsx("p",{className:"text-gray-600 text-sm",children:p}),i&&T.jsx("p",{className:"text-gray-500 text-xs mt-4",children:"The API doesn't support listing who you follow. Go to Instagram to see your following list."})]}):n.length===0?T.jsx("div",{className:"flex justify-center items-center h-96 text-gray-400",children:T.jsx("p",{children:"You're not following anyone yet"})}):T.jsx("div",{className:"space-y-12",children:n.map(E=>T.jsxs("div",{className:"border-b border-gray-200 pb-8 last:border-b-0",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[T.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-full overflow-hidden flex-shrink-0",children:E.profile_picture_url&&T.jsx("img",{src:E.profile_picture_url,alt:E.name,className:"w-full h-full object-cover","data-testid":`avatar-${E.id}`})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h2",{className:"font-semibold text-lg","data-testid":`name-${E.id}`,children:E.name||E.username}),T.jsxs("p",{className:"text-sm text-gray-600","data-testid":`username-${E.id}`,children:["@",E.username]}),E.biography&&T.jsx("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:E.biography})]})]}),o[E.id]&&o[E.id].length>0?T.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:o[E.id].map(v=>T.jsxs("div",{className:"aspect-square bg-gray-100 overflow-hidden rounded-lg hover:opacity-80 transition-opacity cursor-pointer group relative","data-testid":`media-${v.id}`,children:[v.media_type==="VIDEO"?T.jsx("video",{src:v.media_url,className:"w-full h-full object-cover","data-testid":`video-${v.id}`}):T.jsx("img",{src:v.media_url,alt:v.caption||"Post",className:"w-full h-full object-cover","data-testid":`image-${v.id}`}),T.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsxs("div",{className:"flex items-center gap-4 text-white",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:"text-sm font-semibold",children:v.like_count||0}),T.jsx("span",{className:"text-xs",children:""})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:"text-sm font-semibold",children:v.comments_count||0}),T.jsx("span",{className:"text-xs",children:""})]})]})})]},v.id))}):T.jsx("p",{className:"text-sm text-gray-400",children:"No posts yet"})]},E.id))})})]})}function Gk(){const{currentUser:i,addInstagramAccount:t}=Nr(),[,n]=Cr(),[s,o]=at.useState(""),[c,f]=at.useState(""),[m,p]=at.useState(!1),[g,E]=at.useState(null),v=async M=>{const H=M.target.value;if(o(H),H.trim()&&H.length>50)try{const X=await fg("me",H);E(X)}catch{E(null)}else E(null)},x=async M=>{if(M.preventDefault(),!s.trim()){cc.error("Please enter your Instagram access token");return}p(!0);try{await t(s,c||void 0),cc.success("Instagram account connected!"),n("/profile")}catch(H){console.error("Failed to connect Instagram:",H),cc.error("Failed to connect Instagram account")}finally{p(!1)}};return T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center gap-3",children:[T.jsx("button",{onClick:()=>n("/profile"),className:"text-gray-600 hover:text-black transition-colors","data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsx("h1",{className:"text-lg font-semibold",children:"Connect Instagram"})]})}),T.jsx("main",{className:"max-w-2xl mx-auto px-4 py-8",children:T.jsxs("div",{className:"space-y-6 max-w-md",children:[T.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-800",children:[T.jsx("p",{className:"font-semibold mb-2",children:"How to get your Instagram access token:"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[T.jsxs("li",{children:["Go to ",T.jsx("a",{href:"https://developers.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"underline font-semibold",children:"Instagram for Developers"})]}),T.jsx("li",{children:"Create an app or use existing one"}),T.jsx("li",{children:"Go to Roles  Testers and add your account"}),T.jsx("li",{children:"Generate an access token with instagram_basic, instagram_graph_user_media permissions"}),T.jsx("li",{children:"Copy and paste the token below"})]})]}),T.jsxs("form",{onSubmit:x,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"accountName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Name (Optional)"}),T.jsx("input",{id:"accountName",type:"text",value:c,onChange:M=>f(M.target.value),placeholder:"e.g., My Main Account, Business Account...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:m,"data-testid":"input-account-name"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Access Token"}),T.jsx("textarea",{id:"token",value:s,onChange:v,placeholder:"Paste your Instagram access token here...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4,disabled:m,"data-testid":"input-token"})]}),g&&T.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[T.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:" Account Preview:"}),T.jsxs("div",{className:"text-sm space-y-1 text-gray-600",children:[g.username&&T.jsxs("p",{children:[" Username: ",T.jsxs("strong",{children:["@",g.username]})]}),g.name&&T.jsxs("p",{children:[" Name: ",T.jsx("strong",{children:g.name})]})]})]}),T.jsxs("button",{type:"submit",disabled:m||!s.trim(),className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2","data-testid":"button-connect",children:[m&&T.jsx(qi,{className:"w-4 h-4 animate-spin"}),m?"Connecting...":"Connect Instagram"]})]}),i?.instagramAccounts&&i.instagramAccounts.length>0&&T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-sm text-green-800",children:[T.jsxs("p",{className:"font-semibold",children:[" ",i.instagramAccounts.length," account(s) connected"]}),T.jsx("p",{className:"text-xs mt-1",children:"You can manage all your accounts from your profile."})]}),T.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-xs text-gray-600 space-y-2",children:[T.jsx("p",{className:"font-semibold text-gray-700",children:"Why do we need this?"}),T.jsx("p",{children:"Each user needs to connect their own Instagram account to see their personal Instagram profile, posts, followers, and engagement metrics."}),T.jsx("p",{children:"Your token is securely stored and only used to fetch YOUR Instagram data."})]})]})})]})}function Yk(){const{currentUser:i}=Nr(),[,t]=Cr(),[n,s]=at.useState(""),[o,c]=at.useState([]),[f,m]=at.useState(!1),p=async g=>{if(g.preventDefault(),!!n.trim()){m(!0);try{const E=await Kw(n);c(E),E.length===0&&cc.info("No hashtags found")}catch(E){console.error("Search failed:",E),cc.error("Search failed")}finally{m(!1)}}};return T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center gap-3",children:[T.jsx("button",{onClick:()=>t("/"),className:"text-gray-600 hover:text-black transition-colors","data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsx("h1",{className:"text-lg font-semibold",children:"Search"})]})}),T.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-6 space-y-6",children:[T.jsx("form",{onSubmit:p,className:"relative",children:T.jsxs("div",{className:"relative",children:[T.jsx(Fw,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),T.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),placeholder:"Search hashtags...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"input-search"})]})}),f&&T.jsx("div",{className:"flex justify-center",children:T.jsx(qi,{className:"w-6 h-6 animate-spin text-gray-400"})}),T.jsx("div",{className:"space-y-2",children:o.map(g=>T.jsxs("button",{onClick:()=>t(`/hashtag/${g.id}?name=${g.name}`),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors text-left border border-gray-200","data-testid":`hashtag-${g.name}`,children:[T.jsx(uk,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),T.jsx("div",{children:T.jsxs("p",{className:"font-semibold text-gray-900",children:["#",g.name]})})]},g.id))}),n&&!f&&o.length===0&&T.jsx("div",{className:"text-center py-8 text-gray-500",children:T.jsxs("p",{children:['No hashtags found for "',n,'"']})})]})]})}function $k(){const{currentUser:i,bookmarkedPosts:t,bookmarkPost:n,removeBookmark:s}=Nr(),[,o]=Cr(),[,c]=rA("/hashtag/:id"),[f,m]=at.useState([]),[p,g]=at.useState(!0),E=c?.id,v=new URLSearchParams(window.location.search).get("name");return at.useEffect(()=>{(async()=>{if(!(!E||!i?.instagramToken)){g(!0);try{const M=await Xw(E);m(M)}catch(M){console.error("Failed to load hashtag media:",M)}finally{g(!1)}}})()},[E,i?.instagramToken]),T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center gap-3",children:[T.jsx("button",{onClick:()=>o("/search"),className:"text-gray-600 hover:text-black transition-colors","data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsxs("h1",{className:"text-lg font-semibold",children:["#",v]})]})}),T.jsx("main",{className:"max-w-2xl mx-auto",children:p?T.jsx("div",{className:"flex justify-center items-center h-96",children:T.jsx(qi,{className:"w-8 h-8 animate-spin text-gray-400"})}):f.length===0?T.jsx("div",{className:"flex justify-center items-center h-96 text-gray-400",children:T.jsx("p",{children:"No posts found"})}):T.jsx("div",{className:"space-y-6 p-4",children:f.map(x=>{const M=t.includes(x.id);return T.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow","data-testid":`post-${x.id}`,children:[x.media_url&&T.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:x.media_type==="VIDEO"?T.jsx("video",{src:x.media_url,className:"w-full h-full object-cover",controls:!0}):T.jsx("img",{src:x.media_url,alt:x.caption,className:"w-full h-full object-cover"})}),T.jsxs("div",{className:"p-4 space-y-3",children:[x.caption&&T.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:x.caption}),T.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(ug,{className:"w-4 h-4"}),T.jsx("span",{children:x.like_count||0})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(hg,{className:"w-4 h-4"}),T.jsx("span",{children:x.comments_count||0})]})]}),T.jsx("button",{onClick:()=>M?s(x.id):n(x.id),className:`w-full py-2 rounded-lg font-medium transition-colors ${M?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,"data-testid":`button-bookmark-${x.id}`,children:M?"Saved":"Save"})]})]},x.id)})})})]})}function Qk(){const{currentUser:i,bookmarkedPosts:t,removeBookmark:n}=Nr(),[,s]=Cr(),[o,c]=at.useState([]),[f,m]=at.useState(!0);return at.useEffect(()=>{(async()=>{if(i?.instagramToken){m(!0);try{const E=(await df(void 0,i.instagramToken)).filter(v=>t.includes(v.id));c(E)}catch(g){console.error("Failed to load bookmarks:",g)}finally{m(!1)}}})()},[i?.instagramToken,t]),T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center gap-3",children:[T.jsx("button",{onClick:()=>s("/profile"),className:"text-gray-600 hover:text-black transition-colors","data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsx("h1",{className:"text-lg font-semibold",children:"Saved Posts"})]})}),T.jsx("main",{className:"max-w-2xl mx-auto",children:f?T.jsx("div",{className:"flex justify-center items-center h-96",children:T.jsx("p",{className:"text-gray-400",children:"Loading..."})}):o.length===0?T.jsx("div",{className:"flex justify-center items-center h-96 text-gray-400",children:T.jsx("p",{children:"No saved posts yet"})}):T.jsx("div",{className:"grid grid-cols-3 gap-1 p-1",children:o.map(p=>T.jsxs("div",{className:"aspect-square bg-gray-100 overflow-hidden cursor-pointer group relative",onClick:()=>s(`/post/${p.id}`),"data-testid":`bookmark-${p.id}`,children:[p.media_type==="VIDEO"?T.jsx("video",{src:p.media_url,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity"}):T.jsx("img",{src:p.media_url,alt:p.caption,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity"}),T.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center gap-4 opacity-0 group-hover:opacity-100",children:[T.jsxs("div",{className:"flex items-center gap-1 text-white",children:[T.jsx(ug,{className:"w-5 h-5"}),T.jsx("span",{children:p.like_count||0})]}),T.jsxs("div",{className:"flex items-center gap-1 text-white",children:[T.jsx(hg,{className:"w-5 h-5"}),T.jsx("span",{children:p.comments_count||0})]})]})]},p.id))})})]})}function Kk(){const{currentUser:i}=Nr(),[,t]=Cr(),[n,s]=at.useState([]),[o,c]=at.useState(0),[f,m]=at.useState(!0);if(at.useEffect(()=>{(async()=>{if(!i?.instagramAccounts?.length){m(!1);return}try{if(i.instagramAccounts[i.activeInstagramAccountId??0]?.token){const M=await dg("me");s(M)}}catch(x){console.error("Error loading stories:",x)}finally{m(!1)}})()},[i]),!i?.instagramAccounts?.length)return T.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-gray-600",children:"Connect your Instagram account to view stories."}),T.jsx("button",{onClick:()=>t("/profile/connect-instagram"),className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Connect Instagram"})]})});if(f)return T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx(qi,{className:"w-8 h-8 animate-spin text-white"})});if(n.length===0)return T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3 flex items-center gap-3",children:[T.jsx("button",{onClick:()=>t("/"),className:"text-gray-600 hover:text-black","data-testid":"button-back",children:T.jsx(Gs,{className:"w-6 h-6"})}),T.jsx("h1",{className:"text-lg font-semibold",children:"Stories"})]})}),T.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-60px)]",children:T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-gray-600",children:"No stories yet"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Post a story on Instagram to see it here"})]})})]});const p=n[o],g=o<n.length-1,E=o>0;return T.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:T.jsxs("div",{className:"relative w-full h-full max-w-md mx-auto flex flex-col bg-black",children:[T.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gray-800 z-10",children:T.jsx("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${(o+1)/n.length*100}%`}})}),T.jsx("div",{className:"flex-1 relative flex items-center justify-center overflow-hidden",children:p?.media_url?p.media_type==="VIDEO"?T.jsx("video",{src:p.media_url,className:"w-full h-full object-cover",autoPlay:!0,"data-testid":"story-video"}):T.jsx("img",{src:p.media_url,alt:"Story",className:"w-full h-full object-cover","data-testid":"story-image"}):null}),T.jsxs("div",{className:"absolute inset-y-0 left-0 right-0 flex items-center justify-between px-4 pointer-events-none",children:[E&&T.jsx("button",{onClick:()=>c(o-1),className:"pointer-events-auto w-12 h-12 flex items-center justify-center text-white hover:bg-black/30 rounded-full transition-colors","data-testid":"button-prev-story",children:""}),!E&&T.jsx("div",{className:"w-12"}),g&&T.jsx("button",{onClick:()=>c(o+1),className:"pointer-events-auto w-12 h-12 flex items-center justify-center text-white hover:bg-black/30 rounded-full transition-colors","data-testid":"button-next-story",children:""}),!g&&T.jsx("div",{className:"w-12"})]}),T.jsx("button",{onClick:()=>t("/"),className:"absolute top-4 right-4 z-20 text-white hover:bg-white/20 rounded-full p-2 transition-colors","data-testid":"button-close-stories",children:""}),T.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between z-10 text-white text-sm",children:[T.jsxs("span",{children:[o+1," of ",n.length]}),p?.timestamp&&T.jsx("span",{className:"text-xs text-gray-300",children:new Date(p.timestamp).toLocaleDateString()})]})]})})}function Xk(){const{isAuthenticated:i,initializeAuth:t}=Nr();return at.useEffect(()=>{t()},[]),i?T.jsxs(T.Fragment,{children:[T.jsxs(Wb,{base:"/",children:[T.jsx(Wr,{path:"/login",component:Bb}),T.jsx(Wr,{path:"/",component:Bk}),T.jsx(Wr,{path:"/profile",component:qk}),T.jsx(Wr,{path:"/profile/edit",component:Hk}),T.jsx(Wr,{path:"/profile/connect-instagram",component:Gk}),T.jsx(Wr,{path:"/following",component:Fk}),T.jsx(Wr,{path:"/search",component:Yk}),T.jsx(Wr,{path:"/hashtag/:id",component:$k}),T.jsx(Wr,{path:"/bookmarks",component:Qk}),T.jsx(Wr,{path:"/stories",component:Kk})]}),T.jsx(s4,{})]}):T.jsx(Bb,{})}PS.createRoot(document.getElementById("root")).render(T.jsx(Xk,{}));
